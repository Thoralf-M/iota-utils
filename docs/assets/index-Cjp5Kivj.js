var Zw=Object.defineProperty;var Rw=(n,e,t)=>e in n?Zw(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var cc=(n,e,t)=>Rw(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();const iO=!1;var df=Array.isArray,Iw=Array.prototype.indexOf,Sp=Array.from,ey=Object.defineProperty,Ir=Object.getOwnPropertyDescriptor,jw=Object.getOwnPropertyDescriptors,ty=Object.prototype,Bw=Array.prototype,kp=Object.getPrototypeOf;function Ba(n){return typeof n=="function"}const Vo=()=>{};function Dw(n){return n()}function Wu(n){for(var e=0;e<n.length;e++)n[e]()}const ki=2,ny=4,Nl=8,$p=16,dr=32,va=64,mh=128,cr=256,yh=512,Cn=1024,Wr=2048,Oo=4096,jr=8192,pf=16384,Lw=32768,gf=65536,iy=1<<17,qw=1<<19,ry=1<<20,sr=Symbol("$state"),sy=Symbol("legacy props");function oy(n){return n===this.v}function ay(n,e){return n!=n?e==e:n!==e||n!==null&&typeof n=="object"||typeof n=="function"}function Qp(n){return!ay(n,this.v)}function Nw(n){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Uw(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Xw(n){throw new Error("https://svelte.dev/e/effect_orphan")}function Vw(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function zw(n){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ww(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Yw(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Gw(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Fw(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let xa=!1,Hw=!1;function Kw(){xa=!0}const Pp=1,_p=2,ly=4,Jw=8,eS=16,tS=1,nS=2,iS=4,rS=8,sS=16,oS=1,aS=2,Vn=Symbol(),lS=[];function Ap(n,e=!1){return Wc(n,new Map,"",lS)}function Wc(n,e,t,i,r=null){if(typeof n=="object"&&n!==null){var s=e.get(n);if(s!==void 0)return s;if(n instanceof Map)return new Map(n);if(n instanceof Set)return new Set(n);if(df(n)){var o=Array(n.length);e.set(n,o),r!==null&&e.set(r,o);for(var a=0;a<n.length;a+=1){var l=n[a];a in n&&(o[a]=Wc(l,e,t,i))}return o}if(kp(n)===ty){o={},e.set(n,o),r!==null&&e.set(r,o);for(var c in n)o[c]=Wc(n[c],e,t,i);return o}if(n instanceof Date)return structuredClone(n);if(typeof n.toJSON=="function")return Wc(n.toJSON(),e,t,i,n)}if(n instanceof EventTarget)return n;try{return structuredClone(n)}catch{return n}}function cy(n){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let St=null;function rO(n){St=n}function cS(n){return hy().get(n)}function hS(n,e){return hy().set(n,e),e}function yt(n,e=!1,t){St={p:St,c:null,e:null,m:!1,s:n,x:null,l:null},xa&&!e&&(St.l={s:null,u:null,r1:[],r2:oi(!1)})}function bt(n){const e=St;if(e!==null){n!==void 0&&(e.x=n);const o=e.e;if(o!==null){var t=Pt,i=Tt;e.e=null;try{for(var r=0;r<o.length;r++){var s=o[r];hr(s.effect),vs(s.reaction),Xl(s.fn)}}finally{hr(t),vs(i)}}St=e.p,e.m=!0}return n||{}}function Ul(){return!xa||St!==null&&St.l===null}function hy(n){return St===null&&cy(),St.c??(St.c=new Map(fS(St)||void 0))}function fS(n){let e=n.p;for(;e!==null;){const t=e.c;if(t!==null)return t;e=e.p}return null}function oi(n,e){var t={f:0,v:n,reactions:null,equals:oy,rv:0,wv:0};return t}function Ep(n){return fy(oi(n))}function Of(n,e=!1){var i;const t=oi(n);return e||(t.equals=Qp),xa&&St!==null&&St.l!==null&&((i=St.l).s??(i.s=[])).push(t),t}function re(n,e=!1){return fy(Of(n,e))}function fy(n){return Tt!==null&&!Br&&Tt.f&ki&&(or===null?wS([n]):or.push(n)),n}function uy(n,e){return N(n,Dn(()=>x(n))),e}function N(n,e){return Tt!==null&&!Br&&Ul()&&Tt.f&(ki|$p)&&(or===null||!or.includes(n))&&Fw(),bl(n,e)}function bl(n,e){return n.equals(e)||(n.v,n.v=e,n.wv=Qy(),dy(n,Wr),Ul()&&Pt!==null&&Pt.f&Cn&&!(Pt.f&(dr|va))&&(Pr===null?SS([n]):Pr.push(n))),e}function dy(n,e){var t=n.reactions;if(t!==null)for(var i=Ul(),r=t.length,s=0;s<r;s++){var o=t[s],a=o.f;a&Wr||!i&&o===Pt||(Di(o,e),a&(Cn|cr)&&(a&ki?dy(o,Oo):xf(o)))}}let py=!1;function Zi(n,e=null,t){if(typeof n!="object"||n===null||sr in n)return n;const i=kp(n);if(i!==ty&&i!==Bw)return n;var r=new Map,s=df(n),o=oi(0);s&&r.set("length",oi(n.length));var a;return new Proxy(n,{defineProperty(l,c,h){(!("value"in h)||h.configurable===!1||h.enumerable===!1||h.writable===!1)&&Ww();var f=r.get(c);return f===void 0?(f=oi(h.value),r.set(c,f)):N(f,Zi(h.value,a)),!0},deleteProperty(l,c){var h=r.get(c);if(h===void 0)c in l&&r.set(c,oi(Vn));else{if(s&&typeof c=="string"){var f=r.get("length"),u=Number(c);Number.isInteger(u)&&u<f.v&&N(f,u)}N(h,Vn),sO(o)}return!0},get(l,c,h){var g;if(c===sr)return n;var f=r.get(c),u=c in l;if(f===void 0&&(!u||(g=Ir(l,c))!=null&&g.writable)&&(f=oi(Zi(u?l[c]:Vn,a)),r.set(c,f)),f!==void 0){var d=x(f);return d===Vn?void 0:d}return Reflect.get(l,c,h)},getOwnPropertyDescriptor(l,c){var h=Reflect.getOwnPropertyDescriptor(l,c);if(h&&"value"in h){var f=r.get(c);f&&(h.value=x(f))}else if(h===void 0){var u=r.get(c),d=u==null?void 0:u.v;if(u!==void 0&&d!==Vn)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return h},has(l,c){var d;if(c===sr)return!0;var h=r.get(c),f=h!==void 0&&h.v!==Vn||Reflect.has(l,c);if(h!==void 0||Pt!==null&&(!f||(d=Ir(l,c))!=null&&d.writable)){h===void 0&&(h=oi(f?Zi(l[c],a):Vn),r.set(c,h));var u=x(h);if(u===Vn)return!1}return f},set(l,c,h,f){var Q;var u=r.get(c),d=c in l;if(s&&c==="length")for(var g=h;g<u.v;g+=1){var m=r.get(g+"");m!==void 0?N(m,Vn):g in l&&(m=oi(Vn),r.set(g+"",m))}u===void 0?(!d||(Q=Ir(l,c))!=null&&Q.writable)&&(u=oi(void 0),N(u,Zi(h,a)),r.set(c,u)):(d=u.v!==Vn,N(u,Zi(h,a)));var O=Reflect.getOwnPropertyDescriptor(l,c);if(O!=null&&O.set&&O.set.call(f,h),!d){if(s&&typeof c=="string"){var b=r.get("length"),$=Number(c);Number.isInteger($)&&$>=b.v&&N(b,$+1)}sO(o)}return!0},ownKeys(l){x(o);var c=Reflect.ownKeys(l).filter(u=>{var d=r.get(u);return d===void 0||d.v!==Vn});for(var[h,f]of r)f.v!==Vn&&!(h in l)&&c.push(h);return c},setPrototypeOf(){Yw()}})}function sO(n,e=1){N(n,n.v+e)}function oO(n){return n!==null&&typeof n=="object"&&sr in n?n[sr]:n}function uS(n,e){return Object.is(oO(n),oO(e))}var aO,gy,Oy;function dS(){if(aO===void 0){aO=window;var n=Element.prototype,e=Node.prototype;gy=Ir(e,"firstChild").get,Oy=Ir(e,"nextSibling").get,n.__click=void 0,n.__className="",n.__attributes=null,n.__styles=null,n.__e=void 0,Text.prototype.__t=void 0}}function Tp(n=""){return document.createTextNode(n)}function bh(n){return gy.call(n)}function mf(n){return Oy.call(n)}function J(n,e){return bh(n)}function Qt(n,e){{var t=bh(n);return t instanceof Comment&&t.data===""?mf(t):t}}function z(n,e=1,t=!1){let i=n;for(;e--;)i=mf(i);return i}function pS(n){n.textContent=""}function ia(n){var e=ki|Wr,t=Tt!==null&&Tt.f&ki?Tt:null;return Pt===null||t!==null&&t.f&cr?e|=cr:Pt.f|=ry,{ctx:St,deps:null,effects:null,equals:oy,f:e,fn:n,reactions:null,rv:0,v:null,wv:0,parent:t??Pt}}function le(n){const e=ia(n);return e.equals=Qp,e}function my(n){var e=n.effects;if(e!==null){n.effects=null;for(var t=0;t<e.length;t+=1)bs(e[t])}}function gS(n){for(var e=n.parent;e!==null;){if(!(e.f&ki))return e;e=e.parent}return null}function OS(n){var e,t=Pt;hr(gS(n));try{my(n),e=_y(n)}finally{hr(t)}return e}function yy(n){var e=OS(n),t=(ds||n.f&cr)&&n.deps!==null?Oo:Cn;Di(n,t),n.equals(e)||(n.v=e,n.wv=Qy())}function by(n){Pt===null&&Tt===null&&Xw(),Tt!==null&&Tt.f&cr&&Pt===null&&Uw(),Rp&&Nw()}function mS(n,e){var t=e.last;t===null?e.last=e.first=n:(t.next=n,n.prev=t,e.last=n)}function wa(n,e,t,i=!0){var r=(n&va)!==0,s=Pt,o={ctx:St,deps:null,nodes_start:null,nodes_end:null,f:n|Wr,first:null,fn:e,last:null,next:null,parent:r?null:s,prev:null,teardown:null,transitions:null,wv:0};if(t){var a=zo;try{lO(!0),vf(o),o.f|=Lw}catch(h){throw bs(o),h}finally{lO(a)}}else e!==null&&xf(o);var l=t&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(ry|mh))===0;if(!l&&!r&&i&&(s!==null&&mS(o,s),Tt!==null&&Tt.f&ki)){var c=Tt;(c.effects??(c.effects=[])).push(o)}return o}function Cp(n){const e=wa(Nl,null,!1);return Di(e,Cn),e.teardown=n,e}function Yu(n){by();var e=Pt!==null&&(Pt.f&dr)!==0&&St!==null&&!St.m;if(e){var t=St;(t.e??(t.e=[])).push({fn:n,effect:Pt,reaction:Tt})}else{var i=Xl(n);return i}}function yS(n){return by(),Vl(n)}function bS(n){const e=wa(va,n,!0);return(t={})=>new Promise(i=>{t.outro?vl(e,()=>{bs(e),i(void 0)}):(bs(e),i(void 0))})}function Xl(n){return wa(ny,n,!1)}function Rt(n,e){var t=St,i={effect:null,ran:!1};t.l.r1.push(i),i.effect=Vl(()=>{n(),!i.ran&&(i.ran=!0,N(t.l.r2,!0),Dn(e))})}function pi(){var n=St;Vl(()=>{if(x(n.l.r2)){for(var e of n.l.r1){var t=e.effect;t.f&Cn&&Di(t,Oo),Sa(t)&&vf(t),e.ran=!1}n.l.r2.v=!1}})}function Vl(n){return wa(Nl,n,!0)}function Te(n,e=[],t=ia){const i=e.map(t);return yf(()=>n(...i.map(x)))}function yf(n,e=0){return wa(Nl|$p|e,n,!0)}function ra(n,e=!0){return wa(Nl|dr,n,!0,e)}function vy(n){var e=n.teardown;if(e!==null){const t=Rp,i=Tt;cO(!0),vs(null);try{e.call(null)}finally{cO(t),vs(i)}}}function xy(n,e=!1){var t=n.first;for(n.first=n.last=null;t!==null;){var i=t.next;bs(t,e),t=i}}function vS(n){for(var e=n.first;e!==null;){var t=e.next;e.f&dr||bs(e),e=t}}function bs(n,e=!0){var t=!1;if((e||n.f&qw)&&n.nodes_start!==null){for(var i=n.nodes_start,r=n.nodes_end;i!==null;){var s=i===r?null:mf(i);i.remove(),i=s}t=!0}xy(n,e&&!t),kh(n,0),Di(n,pf);var o=n.transitions;if(o!==null)for(const l of o)l.stop();vy(n);var a=n.parent;a!==null&&a.first!==null&&wy(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes_start=n.nodes_end=null}function wy(n){var e=n.parent,t=n.prev,i=n.next;t!==null&&(t.next=i),i!==null&&(i.prev=t),e!==null&&(e.first===n&&(e.first=i),e.last===n&&(e.last=t))}function vl(n,e){var t=[];Mp(n,t,!0),Sy(t,()=>{bs(n),e&&e()})}function Sy(n,e){var t=n.length;if(t>0){var i=()=>--t||e();for(var r of n)r.out(i)}else e()}function Mp(n,e,t){if(!(n.f&jr)){if(n.f^=jr,n.transitions!==null)for(const o of n.transitions)(o.is_global||t)&&e.push(o);for(var i=n.first;i!==null;){var r=i.next,s=(i.f&gf)!==0||(i.f&dr)!==0;Mp(i,e,s?t:!1),i=r}}}function vh(n){ky(n,!0)}function ky(n,e){if(n.f&jr){n.f^=jr,n.f&Cn||(n.f^=Cn),Sa(n)&&(Di(n,Wr),xf(n));for(var t=n.first;t!==null;){var i=t.next,r=(t.f&gf)!==0||(t.f&dr)!==0;ky(t,r?e:!1),t=i}if(n.transitions!==null)for(const s of n.transitions)(s.is_global||e)&&s.in()}}let Gu=!1,Fu=[];function xS(){Gu=!1;const n=Fu.slice();Fu=[],Wu(n)}function Zp(n){Gu||(Gu=!0,queueMicrotask(xS)),Fu.push(n)}let Yc=!1,xh=!1,wh=null,zo=!1,Rp=!1;function lO(n){zo=n}function cO(n){Rp=n}let Hu=[],ol=0;let Tt=null,Br=!1;function vs(n){Tt=n}let Pt=null;function hr(n){Pt=n}let or=null;function wS(n){or=n}let In=null,si=0,Pr=null;function SS(n){Pr=n}let $y=1,Sh=0,ds=!1,hs=null;function Qy(){return++$y}function Sa(n){var c;var e=n.f;if(e&Wr)return!0;if(e&Oo){var t=n.deps,i=(e&cr)!==0;if(t!==null){var r,s,o=(e&yh)!==0,a=i&&Pt!==null&&!ds,l=t.length;if(o||a){for(r=0;r<l;r++)s=t[r],(o||!((c=s==null?void 0:s.reactions)!=null&&c.includes(n)))&&(s.reactions??(s.reactions=[])).push(n);o&&(n.f^=yh)}for(r=0;r<l;r++)if(s=t[r],Sa(s)&&yy(s),s.wv>n.wv)return!0}(!i||Pt!==null&&!ds)&&Di(n,Cn)}return!1}function kS(n,e){for(var t=e;t!==null;){if(t.f&mh)try{t.fn(n);return}catch{t.f^=mh}t=t.parent}throw Yc=!1,n}function $S(n){return(n.f&pf)===0&&(n.parent===null||(n.parent.f&mh)===0)}function bf(n,e,t,i){if(Yc){if(t===null&&(Yc=!1),$S(e))throw n;return}t!==null&&(Yc=!0);{kS(n,e);return}}function Py(n,e,t=0){var i=n.reactions;if(i!==null)for(var r=0;r<i.length;r++){var s=i[r];s.f&ki?Py(s,e,t+1):e===s&&(t===0?Di(s,Wr):s.f&Cn&&Di(s,Oo),xf(s))}}function _y(n){var d;var e=In,t=si,i=Pr,r=Tt,s=ds,o=or,a=St,l=Br,c=n.f;In=null,si=0,Pr=null,Tt=c&(dr|va)?null:n,ds=(c&cr)!==0&&(!zo||r===null||l),or=null,rO(n.ctx),Br=!1,Sh++;try{var h=(0,n.fn)(),f=n.deps;if(In!==null){var u;if(kh(n,si),f!==null&&si>0)for(f.length=si+In.length,u=0;u<In.length;u++)f[si+u]=In[u];else n.deps=f=In;if(!ds)for(u=si;u<f.length;u++)((d=f[u]).reactions??(d.reactions=[])).push(n)}else f!==null&&si<f.length&&(kh(n,si),f.length=si);if(Ul()&&Pr!==null&&!(n.f&(ki|Oo|Wr)))for(u=0;u<Pr.length;u++)Py(Pr[u],n);return r!==null&&Sh++,h}finally{In=e,si=t,Pr=i,Tt=r,ds=s,or=o,rO(a),Br=l}}function QS(n,e){let t=e.reactions;if(t!==null){var i=Iw.call(t,n);if(i!==-1){var r=t.length-1;r===0?t=e.reactions=null:(t[i]=t[r],t.pop())}}t===null&&e.f&ki&&(In===null||!In.includes(e))&&(Di(e,Oo),e.f&(cr|yh)||(e.f^=yh),my(e),kh(e,0))}function kh(n,e){var t=n.deps;if(t!==null)for(var i=e;i<t.length;i++)QS(n,t[i])}function vf(n){var e=n.f;if(!(e&pf)){Di(n,Cn);var t=Pt,i=St;Pt=n;try{e&$p?vS(n):xy(n),vy(n);var r=_y(n);n.teardown=typeof r=="function"?r:null,n.wv=$y;var s=n.deps,o;iO&&Hw&&n.f&Wr}catch(a){bf(a,n,t,i||n.ctx)}finally{Pt=t}}}function PS(){if(ol>1e3){ol=0;try{Vw()}catch(n){if(wh!==null)bf(n,wh,null);else throw n}}ol++}function _S(n){var e=n.length;if(e!==0){PS();var t=zo;zo=!0;try{for(var i=0;i<e;i++){var r=n[i];r.f&Cn||(r.f^=Cn);var s=[];Ay(r,s),AS(s)}}finally{zo=t}}}function AS(n){var e=n.length;if(e!==0)for(var t=0;t<e;t++){var i=n[t];if(!(i.f&(pf|jr)))try{Sa(i)&&(vf(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?wy(i):i.fn=null))}catch(r){bf(r,i,null,i.ctx)}}}function ES(){if(xh=!1,ol>1001)return;const n=Hu;Hu=[],_S(n),xh||(ol=0,wh=null)}function xf(n){xh||(xh=!0,queueMicrotask(ES)),wh=n;for(var e=n;e.parent!==null;){e=e.parent;var t=e.f;if(t&(va|dr)){if(!(t&Cn))return;e.f^=Cn}}Hu.push(e)}function Ay(n,e){var t=n.first,i=[];e:for(;t!==null;){var r=t.f,s=(r&dr)!==0,o=s&&(r&Cn)!==0,a=t.next;if(!o&&!(r&jr))if(r&Nl){if(s)t.f^=Cn;else{var l=Tt;try{Tt=t,Sa(t)&&vf(t)}catch(u){bf(u,t,null,t.ctx)}finally{Tt=l}}var c=t.first;if(c!==null){t=c;continue}}else r&ny&&i.push(t);if(a===null){let u=t.parent;for(;u!==null;){if(n===u)break e;var h=u.next;if(h!==null){t=h;continue e}u=u.parent}}t=a}for(var f=0;f<i.length;f++)c=i[f],e.push(c),Ay(c,e)}function x(n){var e=n.f,t=(e&ki)!==0;if(hs!==null&&hs.add(n),Tt!==null&&!Br){or!==null&&or.includes(n)&&Gw();var i=Tt.deps;n.rv<Sh&&(n.rv=Sh,In===null&&i!==null&&i[si]===n?si++:In===null?In=[n]:(!ds||!In.includes(n))&&In.push(n))}else if(t&&n.deps===null&&n.effects===null){var r=n,s=r.parent;s!==null&&!(s.f&cr)&&(r.f^=cr)}return t&&(r=n,Sa(r)&&yy(r)),n.v}function TS(n){var e=hs;hs=new Set;var t=hs,i;try{if(Dn(n),e!==null)for(i of hs)e.add(i)}finally{hs=e}return t}function Ku(n){var e=TS(()=>Dn(n));for(var t of e)if(t.f&iy)for(const i of t.deps||[])i.f&ki||bl(i,i.v);else bl(t,t.v)}function Dn(n){var e=Br;try{return Br=!0,n()}finally{Br=e}}const CS=-7169;function Di(n,e){n.f=n.f&CS|e}function sn(n){if(!(typeof n!="object"||!n||n instanceof EventTarget)){if(sr in n)Ju(n);else if(!Array.isArray(n))for(let e in n){const t=n[e];typeof t=="object"&&t&&sr in t&&Ju(t)}}}function Ju(n,e=new Set){if(typeof n=="object"&&n!==null&&!(n instanceof EventTarget)&&!e.has(n)){e.add(n),n instanceof Date&&n.getTime();for(let i in n)try{Ju(n[i],e)}catch{}const t=kp(n);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const i=jw(t);for(let r in i){const s=i[r].get;if(s)try{s.call(n)}catch{}}}}}const MS=["touchstart","touchmove"];function ZS(n){return MS.includes(n)}let hO=!1;function RS(){hO||(hO=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{var e;if(!n.defaultPrevented)for(const t of n.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function Ey(n){var e=Tt,t=Pt;vs(null),hr(null);try{return n()}finally{vs(e),hr(t)}}function Ty(n,e,t,i=t){n.addEventListener(e,()=>Ey(t));const r=n.__on_r;r?n.__on_r=()=>{r(),i(!0)}:n.__on_r=()=>i(!0),RS()}const Cy=new Set,ed=new Set;function IS(n,e,t,i={}){function r(s){if(i.capture||Ga.call(e,s),!s.cancelBubble)return Ey(()=>t==null?void 0:t.call(this,s))}return n.startsWith("pointer")||n.startsWith("touch")||n==="wheel"?Zp(()=>{e.addEventListener(n,r,i)}):e.addEventListener(n,r,i),r}function Xe(n,e,t,i,r){var s={capture:i,passive:r},o=IS(n,e,t,s);(e===document.body||e===window||e===document)&&Cp(()=>{e.removeEventListener(n,o,s)})}function My(n){for(var e=0;e<n.length;e++)Cy.add(n[e]);for(var t of ed)t(n)}function Ga(n){var $;var e=this,t=e.ownerDocument,i=n.type,r=(($=n.composedPath)==null?void 0:$.call(n))||[],s=r[0]||n.target,o=0,a=n.__root;if(a){var l=r.indexOf(a);if(l!==-1&&(e===document||e===window)){n.__root=e;return}var c=r.indexOf(e);if(c===-1)return;l<=c&&(o=l)}if(s=r[o]||n.target,s!==e){ey(n,"currentTarget",{configurable:!0,get(){return s||t}});var h=Tt,f=Pt;vs(null),hr(null);try{for(var u,d=[];s!==null;){var g=s.assignedSlot||s.parentNode||s.host||null;try{var m=s["__"+i];if(m!==void 0&&!s.disabled)if(df(m)){var[O,...b]=m;O.apply(s,[n,...b])}else m.call(s,n)}catch(Q){u?d.push(Q):u=Q}if(n.cancelBubble||g===e||g===null)break;s=g}if(u){for(let Q of d)queueMicrotask(()=>{throw Q});throw u}}finally{n.__root=e,delete n.currentTarget,vs(h),hr(f)}}}function jS(n){var e=document.createElement("template");return e.innerHTML=n,e.content}function td(n,e){var t=Pt;t.nodes_start===null&&(t.nodes_start=n,t.nodes_end=e)}function pe(n,e){var t=(e&oS)!==0,i=(e&aS)!==0,r,s=!n.startsWith("<!>");return()=>{r===void 0&&(r=jS(s?n:"<!>"+n),t||(r=bh(r)));var o=i?document.importNode(r,!0):r.cloneNode(!0);if(t){var a=bh(o),l=o.lastChild;td(a,l)}else td(o,o);return o}}function Ln(){var n=document.createDocumentFragment(),e=document.createComment(""),t=Tp();return n.append(e,t),td(e,t),n}function ie(n,e){n!==null&&n.before(e)}function je(n,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(n.__t??(n.__t=n.nodeValue))&&(n.__t=t,n.nodeValue=t+"")}function BS(n,e){return DS(n,e)}const Eo=new Map;function DS(n,{target:e,anchor:t,props:i={},events:r,context:s,intro:o=!0}){dS();var a=new Set,l=f=>{for(var u=0;u<f.length;u++){var d=f[u];if(!a.has(d)){a.add(d);var g=ZS(d);e.addEventListener(d,Ga,{passive:g});var m=Eo.get(d);m===void 0?(document.addEventListener(d,Ga,{passive:g}),Eo.set(d,1)):Eo.set(d,m+1)}}};l(Sp(Cy)),ed.add(l);var c=void 0,h=bS(()=>{var f=t??e.appendChild(Tp());return ra(()=>{if(s){yt({});var u=St;u.c=s}r&&(i.$$events=r),c=n(f,i)||{},s&&bt()}),()=>{var g;for(var u of a){e.removeEventListener(u,Ga);var d=Eo.get(u);--d===0?(document.removeEventListener(u,Ga),Eo.delete(u)):Eo.set(u,d)}ed.delete(l),f!==t&&((g=f.parentNode)==null||g.removeChild(f))}});return LS.set(c,h),c}let LS=new WeakMap;function Ht(n,e,t=!1){var i=n,r=null,s=null,o=Vn,a=t?gf:0,l=!1;const c=(f,u=!0)=>{l=!0,h(u,f)},h=(f,u)=>{o!==(o=f)&&(o?(r?vh(r):u&&(r=ra(()=>u(i))),s&&vl(s,()=>{s=null})):(s?vh(s):u&&(s=ra(()=>u(i))),r&&vl(r,()=>{r=null})))};yf(()=>{l=!1,e(c),l||h(null,null)},a)}function xs(n,e){return e}function qS(n,e,t,i){for(var r=[],s=e.length,o=0;o<s;o++)Mp(e[o].e,r,!0);var a=s>0&&r.length===0&&t!==null;if(a){var l=t.parentNode;pS(l),l.append(t),i.clear(),as(n,e[0].prev,e[s-1].next)}Sy(r,()=>{for(var c=0;c<s;c++){var h=e[c];a||(i.delete(h.k),as(n,h.prev,h.next)),bs(h.e,!a)}})}function ws(n,e,t,i,r,s=null){var o=n,a={items:new Map,first:null},l=(e&ly)!==0;if(l){var c=n;o=c.appendChild(Tp())}var h=null,f=!1,u=le(()=>{var d=t();return df(d)?d:d==null?[]:Sp(d)});yf(()=>{var d=x(u),g=d.length;f&&g===0||(f=g===0,NS(d,a,o,r,e,i,t),s!==null&&(g===0?h?vh(h):h=ra(()=>s(o)):h!==null&&vl(h,()=>{h=null})),x(u))})}function NS(n,e,t,i,r,s,o){var I,B,V,W;var a=(r&Jw)!==0,l=(r&(Pp|_p))!==0,c=n.length,h=e.items,f=e.first,u=f,d,g=null,m,O=[],b=[],$,Q,P,k;if(a)for(k=0;k<c;k+=1)$=n[k],Q=s($,k),P=h.get(Q),P!==void 0&&((I=P.a)==null||I.measure(),(m??(m=new Set)).add(P));for(k=0;k<c;k+=1){if($=n[k],Q=s($,k),P=h.get(Q),P===void 0){var A=u?u.e.nodes_start:t;g=XS(A,e,g,g===null?e.first:g.next,$,Q,k,i,r,o),h.set(Q,g),O=[],b=[],u=g.next;continue}if(l&&US(P,$,k,r),P.e.f&jr&&(vh(P.e),a&&((B=P.a)==null||B.unfix(),(m??(m=new Set)).delete(P))),P!==u){if(d!==void 0&&d.has(P)){if(O.length<b.length){var E=b[0],M;g=E.prev;var C=O[0],j=O[O.length-1];for(M=0;M<O.length;M+=1)fO(O[M],E,t);for(M=0;M<b.length;M+=1)d.delete(b[M]);as(e,C.prev,j.next),as(e,g,C),as(e,j,E),u=E,g=j,k-=1,O=[],b=[]}else d.delete(P),fO(P,u,t),as(e,P.prev,P.next),as(e,P,g===null?e.first:g.next),as(e,g,P),g=P;continue}for(O=[],b=[];u!==null&&u.k!==Q;)u.e.f&jr||(d??(d=new Set)).add(u),b.push(u),u=u.next;if(u===null)continue;P=u}O.push(P),g=P,u=P.next}if(u!==null||d!==void 0){for(var q=d===void 0?[]:Sp(d);u!==null;)u.e.f&jr||q.push(u),u=u.next;var D=q.length;if(D>0){var G=r&ly&&c===0?t:null;if(a){for(k=0;k<D;k+=1)(V=q[k].a)==null||V.measure();for(k=0;k<D;k+=1)(W=q[k].a)==null||W.fix()}qS(e,q,G,h)}}a&&Zp(()=>{var se;if(m!==void 0)for(P of m)(se=P.a)==null||se.apply()}),Pt.first=e.first&&e.first.e,Pt.last=g&&g.e}function US(n,e,t,i){i&Pp&&bl(n.v,e),i&_p?bl(n.i,t):n.i=t}function XS(n,e,t,i,r,s,o,a,l,c){var h=(l&Pp)!==0,f=(l&eS)===0,u=h?f?Of(r):oi(r):r,d=l&_p?oi(o):o,g={i:d,v:u,k:s,a:null,e:null,prev:t,next:i};try{return g.e=ra(()=>a(n,u,d,c),py),g.e.prev=t&&t.e,g.e.next=i&&i.e,t===null?e.first=g:(t.next=g,t.e.next=g.e),i!==null&&(i.prev=g,i.e.prev=g.e),g}finally{}}function fO(n,e,t){for(var i=n.next?n.next.e.nodes_start:t,r=e?e.e.nodes_start:t,s=n.e.nodes_start;s!==i;){var o=mf(s);r.before(s),s=o}}function as(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Ws(n,e,t,i,r){var a;var s=(a=e.$$slots)==null?void 0:a[t],o=!1;s===!0&&(s=e[t==="default"?"children":t],o=!0),s===void 0||s(n,o?()=>i:i)}function Zy(n,e,t){var i=n,r,s;yf(()=>{r!==(r=e())&&(s&&(vl(s),s=null),r&&(s=ra(()=>t(i,r))))},gf)}function Ry(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=Ry(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function VS(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=Ry(n))&&(i&&(i+=" "),i+=e);return i}function mo(n){return typeof n=="object"?VS(n):n??""}function yo(n,e,t){var i=n.__className,r=zS(e,t);(i!==r||py)&&(e==null&&!t?n.removeAttribute("class"):n.className=r,n.__className=r)}function zS(n,e){return(n??"")+(e?" "+e:"")}function Ip(n,e,t){if(t){if(n.classList.contains(e))return;n.classList.add(e)}else{if(!n.classList.contains(e))return;n.classList.remove(e)}}function vt(n,e,t=e){var i=Ul();Ty(n,"input",r=>{var s=r?n.defaultValue:n.value;if(s=Yf(n)?Gf(s):s,t(s),i&&s!==(s=e())){var o=n.selectionStart,a=n.selectionEnd;n.value=s??"",a!==null&&(n.selectionStart=o,n.selectionEnd=Math.min(a,n.value.length))}}),Dn(e)==null&&n.value&&t(Yf(n)?Gf(n.value):n.value),Vl(()=>{var r=e();Yf(n)&&r===Gf(n.value)||n.type==="date"&&!r&&!n.value||r!==n.value&&(n.value=r??"")})}function Yf(n){var e=n.type;return e==="number"||e==="range"}function Gf(n){return n===""?null:+n}function uO(n,e,t){var i=Ir(n,e);i&&i.set&&(n[e]=t,Cp(()=>{n[e]=null}))}function Iy(n,e,t){if(n.multiple)return YS(n,e);for(var i of n.options){var r=al(i);if(uS(r,e)){i.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function WS(n,e){Xl(()=>{var t=new MutationObserver(()=>{var i=n.__value;Iy(n,i)});return t.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function $h(n,e,t=e){var i=!0;Ty(n,"change",r=>{var s=r?"[selected]":":checked",o;if(n.multiple)o=[].map.call(n.querySelectorAll(s),al);else{var a=n.querySelector(s)??n.querySelector("option:not([disabled])");o=a&&al(a)}t(o)}),Xl(()=>{var r=e();if(Iy(n,r,i),i&&r===void 0){var s=n.querySelector(":checked");s!==null&&(r=al(s),t(r))}n.__value=r,i=!1}),WS(n)}function YS(n,e){for(var t of n.options)t.selected=~e.indexOf(al(t))}function al(n){return"__value"in n?n.__value:n.value}function dO(n,e){return n===e||(n==null?void 0:n[sr])===e}function jy(n={},e,t,i){return Xl(()=>{var r,s;return Vl(()=>{r=s,s=[],Dn(()=>{n!==t(...s)&&(e(n,...s),r&&dO(t(...r),n)&&e(null,...r))})}),()=>{Zp(()=>{s&&dO(t(...s),n)&&e(null,...s)})}}),n}function pO(n){return function(...e){var t=e[0];return t.stopPropagation(),n==null?void 0:n.apply(this,e)}}function kt(n=!1){const e=St,t=e.l.u;if(!t)return;let i=()=>sn(e.s);if(n){let r=0,s={};const o=ia(()=>{let a=!1;const l=e.s;for(const c in l)l[c]!==s[c]&&(s[c]=l[c],a=!0);return a&&r++,r});i=()=>x(o)}t.b.length&&yS(()=>{gO(e,i),Wu(t.b)}),Yu(()=>{const r=Dn(()=>t.m.map(Dw));return()=>{for(const s of r)typeof s=="function"&&s()}}),t.a.length&&Yu(()=>{gO(e,i),Wu(t.a)})}function gO(n,e){if(n.l.s)for(const t of n.l.s)x(t);e()}function By(n,e,t){if(n==null)return e(void 0),Vo;const i=Dn(()=>n.subscribe(e,t));return i.unsubscribe?()=>i.unsubscribe():i}const To=[];function GS(n,e){return{subscribe:fr(n,e).subscribe}}function fr(n,e=Vo){let t=null;const i=new Set;function r(a){if(ay(n,a)&&(n=a,t)){const l=!To.length;for(const c of i)c[1](),To.push(c,n);if(l){for(let c=0;c<To.length;c+=2)To[c][0](To[c+1]);To.length=0}}}function s(a){r(a(n))}function o(a,l=Vo){const c=[a,l];return i.add(c),i.size===1&&(t=e(r,s)||Vo),a(n),()=>{i.delete(c),i.size===0&&t&&(t(),t=null)}}return{set:r,update:s,subscribe:o}}function FS(n){let e;return By(n,t=>e=t)(),e}let hc=!1,nd=Symbol();function qt(n,e,t){const i=t[e]??(t[e]={store:null,source:Of(void 0),unsubscribe:Vo});if(i.store!==n&&!(nd in t))if(i.unsubscribe(),i.store=n??null,n==null)i.source.v=void 0,i.unsubscribe=Vo;else{var r=!0;i.unsubscribe=By(n,s=>{r?i.source.v=s:N(i.source,s)}),r=!1}return n&&nd in t?FS(n):x(i.source)}function Bn(n,e){return n.set(e),e}function Qi(){const n={};function e(){Cp(()=>{for(var t in n)n[t].unsubscribe();ey(n,nd,{enumerable:!1,value:!0})})}return[n,e]}function OO(n,e,t){return n.set(t),e}function HS(n){var e=hc;try{return hc=!1,[n(),hc]}finally{hc=e}}const KS={get(n,e){let t=n.props.length;for(;t--;){let i=n.props[t];if(Ba(i)&&(i=i()),typeof i=="object"&&i!==null&&e in i)return i[e]}},set(n,e,t){let i=n.props.length;for(;i--;){let r=n.props[i];Ba(r)&&(r=r());const s=Ir(r,e);if(s&&s.set)return s.set(t),!0}return!1},getOwnPropertyDescriptor(n,e){let t=n.props.length;for(;t--;){let i=n.props[t];if(Ba(i)&&(i=i()),typeof i=="object"&&i!==null&&e in i){const r=Ir(i,e);return r&&!r.configurable&&(r.configurable=!0),r}}},has(n,e){if(e===sr||e===sy)return!1;for(let t of n.props)if(Ba(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(n){const e=[];for(let t of n.props){Ba(t)&&(t=t());for(const i in t)e.includes(i)||e.push(i)}return e}};function JS(...n){return new Proxy({props:n},KS)}function mO(n){for(var e=Pt,t=Pt;e!==null&&!(e.f&(dr|va));)e=e.parent;try{return hr(e),n()}finally{hr(t)}}function st(n,e,t,i){var E;var r=(t&tS)!==0,s=!xa||(t&nS)!==0,o=(t&rS)!==0,a=(t&sS)!==0,l=!1,c;o?[c,l]=HS(()=>n[e]):c=n[e];var h=sr in n||sy in n,f=o&&(((E=Ir(n,e))==null?void 0:E.set)??(h&&e in n&&(M=>n[e]=M)))||void 0,u=i,d=!0,g=!1,m=()=>(g=!0,d&&(d=!1,a?u=Dn(i):u=i),u);c===void 0&&i!==void 0&&(f&&s&&zw(),c=m(),f&&f(c));var O;if(s)O=()=>{var M=n[e];return M===void 0?m():(d=!0,g=!1,M)};else{var b=mO(()=>(r?ia:le)(()=>n[e]));b.f|=iy,O=()=>{var M=x(b);return M!==void 0&&(u=void 0),M===void 0?u:M}}if(!(t&iS))return O;if(f){var $=n.$$legacy;return function(M,C){return arguments.length>0?((!s||!C||$||l)&&f(C?O():M),M):O()}}var Q=!1,P=!1,k=Of(c),A=mO(()=>ia(()=>{var M=O(),C=x(k);return Q?(Q=!1,P=!0,C):(P=!1,k.v=M)}));return r||(A.equals=Qp),function(M,C){if(hs!==null&&(Q=P,O(),x(k)),arguments.length>0){const j=C?x(A):s&&o?Zi(M):M;return A.equals(j)||(Q=!0,N(k,j),g&&u!==void 0&&(u=j),Dn(()=>x(A))),M}return x(A)}}function jp(n){St===null&&cy(),xa&&St.l!==null?ek(St).m.push(n):Yu(()=>{const e=Dn(n);if(typeof e=="function")return e})}function ek(n){var e=n.l;return e.u??(e.u={a:[],b:[],m:[]})}const tk="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(tk);Kw();function nk(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ik(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}function rk(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ff={exports:{}};const sk={},ok=Object.freeze(Object.defineProperty({__proto__:null,default:sk},Symbol.toStringTag,{value:"Module"})),ak=ik(ok);var yO;function lk(){return yO||(yO=1,function(n){(function(e){var t=function(y){var w,v=new Float64Array(16);if(y)for(w=0;w<y.length;w++)v[w]=y[w];return v},i=function(){throw new Error("no PRNG")},r=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=t(),a=t([1]),l=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),u=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function g(y,w,v,p){y[w]=v>>24&255,y[w+1]=v>>16&255,y[w+2]=v>>8&255,y[w+3]=v&255,y[w+4]=p>>24&255,y[w+5]=p>>16&255,y[w+6]=p>>8&255,y[w+7]=p&255}function m(y,w,v,p,S){var Z,R=0;for(Z=0;Z<S;Z++)R|=y[w+Z]^v[p+Z];return(1&R-1>>>8)-1}function O(y,w,v,p){return m(y,w,v,p,16)}function b(y,w,v,p){return m(y,w,v,p,32)}function $(y,w,v,p){for(var S=p[0]&255|(p[1]&255)<<8|(p[2]&255)<<16|(p[3]&255)<<24,Z=v[0]&255|(v[1]&255)<<8|(v[2]&255)<<16|(v[3]&255)<<24,R=v[4]&255|(v[5]&255)<<8|(v[6]&255)<<16|(v[7]&255)<<24,H=v[8]&255|(v[9]&255)<<8|(v[10]&255)<<16|(v[11]&255)<<24,ne=v[12]&255|(v[13]&255)<<8|(v[14]&255)<<16|(v[15]&255)<<24,Se=p[4]&255|(p[5]&255)<<8|(p[6]&255)<<16|(p[7]&255)<<24,fe=w[0]&255|(w[1]&255)<<8|(w[2]&255)<<16|(w[3]&255)<<24,ht=w[4]&255|(w[5]&255)<<8|(w[6]&255)<<16|(w[7]&255)<<24,me=w[8]&255|(w[9]&255)<<8|(w[10]&255)<<16|(w[11]&255)<<24,Be=w[12]&255|(w[13]&255)<<8|(w[14]&255)<<16|(w[15]&255)<<24,De=p[8]&255|(p[9]&255)<<8|(p[10]&255)<<16|(p[11]&255)<<24,We=v[16]&255|(v[17]&255)<<8|(v[18]&255)<<16|(v[19]&255)<<24,ze=v[20]&255|(v[21]&255)<<8|(v[22]&255)<<16|(v[23]&255)<<24,Le=v[24]&255|(v[25]&255)<<8|(v[26]&255)<<16|(v[27]&255)<<24,Ne=v[28]&255|(v[29]&255)<<8|(v[30]&255)<<16|(v[31]&255)<<24,qe=p[12]&255|(p[13]&255)<<8|(p[14]&255)<<16|(p[15]&255)<<24,ye=S,$e=Z,ge=R,ve=H,we=ne,ce=Se,U=fe,X=ht,ee=me,F=Be,K=De,te=We,Ce=ze,Ye=Le,He=Ne,Ge=qe,_,et=0;et<20;et+=2)_=ye+Ce|0,we^=_<<7|_>>>25,_=we+ye|0,ee^=_<<9|_>>>23,_=ee+we|0,Ce^=_<<13|_>>>19,_=Ce+ee|0,ye^=_<<18|_>>>14,_=ce+$e|0,F^=_<<7|_>>>25,_=F+ce|0,Ye^=_<<9|_>>>23,_=Ye+F|0,$e^=_<<13|_>>>19,_=$e+Ye|0,ce^=_<<18|_>>>14,_=K+U|0,He^=_<<7|_>>>25,_=He+K|0,ge^=_<<9|_>>>23,_=ge+He|0,U^=_<<13|_>>>19,_=U+ge|0,K^=_<<18|_>>>14,_=Ge+te|0,ve^=_<<7|_>>>25,_=ve+Ge|0,X^=_<<9|_>>>23,_=X+ve|0,te^=_<<13|_>>>19,_=te+X|0,Ge^=_<<18|_>>>14,_=ye+ve|0,$e^=_<<7|_>>>25,_=$e+ye|0,ge^=_<<9|_>>>23,_=ge+$e|0,ve^=_<<13|_>>>19,_=ve+ge|0,ye^=_<<18|_>>>14,_=ce+we|0,U^=_<<7|_>>>25,_=U+ce|0,X^=_<<9|_>>>23,_=X+U|0,we^=_<<13|_>>>19,_=we+X|0,ce^=_<<18|_>>>14,_=K+F|0,te^=_<<7|_>>>25,_=te+K|0,ee^=_<<9|_>>>23,_=ee+te|0,F^=_<<13|_>>>19,_=F+ee|0,K^=_<<18|_>>>14,_=Ge+He|0,Ce^=_<<7|_>>>25,_=Ce+Ge|0,Ye^=_<<9|_>>>23,_=Ye+Ce|0,He^=_<<13|_>>>19,_=He+Ye|0,Ge^=_<<18|_>>>14;ye=ye+S|0,$e=$e+Z|0,ge=ge+R|0,ve=ve+H|0,we=we+ne|0,ce=ce+Se|0,U=U+fe|0,X=X+ht|0,ee=ee+me|0,F=F+Be|0,K=K+De|0,te=te+We|0,Ce=Ce+ze|0,Ye=Ye+Le|0,He=He+Ne|0,Ge=Ge+qe|0,y[0]=ye>>>0&255,y[1]=ye>>>8&255,y[2]=ye>>>16&255,y[3]=ye>>>24&255,y[4]=$e>>>0&255,y[5]=$e>>>8&255,y[6]=$e>>>16&255,y[7]=$e>>>24&255,y[8]=ge>>>0&255,y[9]=ge>>>8&255,y[10]=ge>>>16&255,y[11]=ge>>>24&255,y[12]=ve>>>0&255,y[13]=ve>>>8&255,y[14]=ve>>>16&255,y[15]=ve>>>24&255,y[16]=we>>>0&255,y[17]=we>>>8&255,y[18]=we>>>16&255,y[19]=we>>>24&255,y[20]=ce>>>0&255,y[21]=ce>>>8&255,y[22]=ce>>>16&255,y[23]=ce>>>24&255,y[24]=U>>>0&255,y[25]=U>>>8&255,y[26]=U>>>16&255,y[27]=U>>>24&255,y[28]=X>>>0&255,y[29]=X>>>8&255,y[30]=X>>>16&255,y[31]=X>>>24&255,y[32]=ee>>>0&255,y[33]=ee>>>8&255,y[34]=ee>>>16&255,y[35]=ee>>>24&255,y[36]=F>>>0&255,y[37]=F>>>8&255,y[38]=F>>>16&255,y[39]=F>>>24&255,y[40]=K>>>0&255,y[41]=K>>>8&255,y[42]=K>>>16&255,y[43]=K>>>24&255,y[44]=te>>>0&255,y[45]=te>>>8&255,y[46]=te>>>16&255,y[47]=te>>>24&255,y[48]=Ce>>>0&255,y[49]=Ce>>>8&255,y[50]=Ce>>>16&255,y[51]=Ce>>>24&255,y[52]=Ye>>>0&255,y[53]=Ye>>>8&255,y[54]=Ye>>>16&255,y[55]=Ye>>>24&255,y[56]=He>>>0&255,y[57]=He>>>8&255,y[58]=He>>>16&255,y[59]=He>>>24&255,y[60]=Ge>>>0&255,y[61]=Ge>>>8&255,y[62]=Ge>>>16&255,y[63]=Ge>>>24&255}function Q(y,w,v,p){for(var S=p[0]&255|(p[1]&255)<<8|(p[2]&255)<<16|(p[3]&255)<<24,Z=v[0]&255|(v[1]&255)<<8|(v[2]&255)<<16|(v[3]&255)<<24,R=v[4]&255|(v[5]&255)<<8|(v[6]&255)<<16|(v[7]&255)<<24,H=v[8]&255|(v[9]&255)<<8|(v[10]&255)<<16|(v[11]&255)<<24,ne=v[12]&255|(v[13]&255)<<8|(v[14]&255)<<16|(v[15]&255)<<24,Se=p[4]&255|(p[5]&255)<<8|(p[6]&255)<<16|(p[7]&255)<<24,fe=w[0]&255|(w[1]&255)<<8|(w[2]&255)<<16|(w[3]&255)<<24,ht=w[4]&255|(w[5]&255)<<8|(w[6]&255)<<16|(w[7]&255)<<24,me=w[8]&255|(w[9]&255)<<8|(w[10]&255)<<16|(w[11]&255)<<24,Be=w[12]&255|(w[13]&255)<<8|(w[14]&255)<<16|(w[15]&255)<<24,De=p[8]&255|(p[9]&255)<<8|(p[10]&255)<<16|(p[11]&255)<<24,We=v[16]&255|(v[17]&255)<<8|(v[18]&255)<<16|(v[19]&255)<<24,ze=v[20]&255|(v[21]&255)<<8|(v[22]&255)<<16|(v[23]&255)<<24,Le=v[24]&255|(v[25]&255)<<8|(v[26]&255)<<16|(v[27]&255)<<24,Ne=v[28]&255|(v[29]&255)<<8|(v[30]&255)<<16|(v[31]&255)<<24,qe=p[12]&255|(p[13]&255)<<8|(p[14]&255)<<16|(p[15]&255)<<24,ye=S,$e=Z,ge=R,ve=H,we=ne,ce=Se,U=fe,X=ht,ee=me,F=Be,K=De,te=We,Ce=ze,Ye=Le,He=Ne,Ge=qe,_,et=0;et<20;et+=2)_=ye+Ce|0,we^=_<<7|_>>>25,_=we+ye|0,ee^=_<<9|_>>>23,_=ee+we|0,Ce^=_<<13|_>>>19,_=Ce+ee|0,ye^=_<<18|_>>>14,_=ce+$e|0,F^=_<<7|_>>>25,_=F+ce|0,Ye^=_<<9|_>>>23,_=Ye+F|0,$e^=_<<13|_>>>19,_=$e+Ye|0,ce^=_<<18|_>>>14,_=K+U|0,He^=_<<7|_>>>25,_=He+K|0,ge^=_<<9|_>>>23,_=ge+He|0,U^=_<<13|_>>>19,_=U+ge|0,K^=_<<18|_>>>14,_=Ge+te|0,ve^=_<<7|_>>>25,_=ve+Ge|0,X^=_<<9|_>>>23,_=X+ve|0,te^=_<<13|_>>>19,_=te+X|0,Ge^=_<<18|_>>>14,_=ye+ve|0,$e^=_<<7|_>>>25,_=$e+ye|0,ge^=_<<9|_>>>23,_=ge+$e|0,ve^=_<<13|_>>>19,_=ve+ge|0,ye^=_<<18|_>>>14,_=ce+we|0,U^=_<<7|_>>>25,_=U+ce|0,X^=_<<9|_>>>23,_=X+U|0,we^=_<<13|_>>>19,_=we+X|0,ce^=_<<18|_>>>14,_=K+F|0,te^=_<<7|_>>>25,_=te+K|0,ee^=_<<9|_>>>23,_=ee+te|0,F^=_<<13|_>>>19,_=F+ee|0,K^=_<<18|_>>>14,_=Ge+He|0,Ce^=_<<7|_>>>25,_=Ce+Ge|0,Ye^=_<<9|_>>>23,_=Ye+Ce|0,He^=_<<13|_>>>19,_=He+Ye|0,Ge^=_<<18|_>>>14;y[0]=ye>>>0&255,y[1]=ye>>>8&255,y[2]=ye>>>16&255,y[3]=ye>>>24&255,y[4]=ce>>>0&255,y[5]=ce>>>8&255,y[6]=ce>>>16&255,y[7]=ce>>>24&255,y[8]=K>>>0&255,y[9]=K>>>8&255,y[10]=K>>>16&255,y[11]=K>>>24&255,y[12]=Ge>>>0&255,y[13]=Ge>>>8&255,y[14]=Ge>>>16&255,y[15]=Ge>>>24&255,y[16]=U>>>0&255,y[17]=U>>>8&255,y[18]=U>>>16&255,y[19]=U>>>24&255,y[20]=X>>>0&255,y[21]=X>>>8&255,y[22]=X>>>16&255,y[23]=X>>>24&255,y[24]=ee>>>0&255,y[25]=ee>>>8&255,y[26]=ee>>>16&255,y[27]=ee>>>24&255,y[28]=F>>>0&255,y[29]=F>>>8&255,y[30]=F>>>16&255,y[31]=F>>>24&255}function P(y,w,v,p){$(y,w,v,p)}function k(y,w,v,p){Q(y,w,v,p)}var A=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function E(y,w,v,p,S,Z,R){var H=new Uint8Array(16),ne=new Uint8Array(64),Se,fe;for(fe=0;fe<16;fe++)H[fe]=0;for(fe=0;fe<8;fe++)H[fe]=Z[fe];for(;S>=64;){for(P(ne,H,R,A),fe=0;fe<64;fe++)y[w+fe]=v[p+fe]^ne[fe];for(Se=1,fe=8;fe<16;fe++)Se=Se+(H[fe]&255)|0,H[fe]=Se&255,Se>>>=8;S-=64,w+=64,p+=64}if(S>0)for(P(ne,H,R,A),fe=0;fe<S;fe++)y[w+fe]=v[p+fe]^ne[fe];return 0}function M(y,w,v,p,S){var Z=new Uint8Array(16),R=new Uint8Array(64),H,ne;for(ne=0;ne<16;ne++)Z[ne]=0;for(ne=0;ne<8;ne++)Z[ne]=p[ne];for(;v>=64;){for(P(R,Z,S,A),ne=0;ne<64;ne++)y[w+ne]=R[ne];for(H=1,ne=8;ne<16;ne++)H=H+(Z[ne]&255)|0,Z[ne]=H&255,H>>>=8;v-=64,w+=64}if(v>0)for(P(R,Z,S,A),ne=0;ne<v;ne++)y[w+ne]=R[ne];return 0}function C(y,w,v,p,S){var Z=new Uint8Array(32);k(Z,p,S,A);for(var R=new Uint8Array(8),H=0;H<8;H++)R[H]=p[H+16];return M(y,w,v,R,Z)}function j(y,w,v,p,S,Z,R){var H=new Uint8Array(32);k(H,Z,R,A);for(var ne=new Uint8Array(8),Se=0;Se<8;Se++)ne[Se]=Z[Se+16];return E(y,w,v,p,S,ne,H)}var q=function(y){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var w,v,p,S,Z,R,H,ne;w=y[0]&255|(y[1]&255)<<8,this.r[0]=w&8191,v=y[2]&255|(y[3]&255)<<8,this.r[1]=(w>>>13|v<<3)&8191,p=y[4]&255|(y[5]&255)<<8,this.r[2]=(v>>>10|p<<6)&7939,S=y[6]&255|(y[7]&255)<<8,this.r[3]=(p>>>7|S<<9)&8191,Z=y[8]&255|(y[9]&255)<<8,this.r[4]=(S>>>4|Z<<12)&255,this.r[5]=Z>>>1&8190,R=y[10]&255|(y[11]&255)<<8,this.r[6]=(Z>>>14|R<<2)&8191,H=y[12]&255|(y[13]&255)<<8,this.r[7]=(R>>>11|H<<5)&8065,ne=y[14]&255|(y[15]&255)<<8,this.r[8]=(H>>>8|ne<<8)&8191,this.r[9]=ne>>>5&127,this.pad[0]=y[16]&255|(y[17]&255)<<8,this.pad[1]=y[18]&255|(y[19]&255)<<8,this.pad[2]=y[20]&255|(y[21]&255)<<8,this.pad[3]=y[22]&255|(y[23]&255)<<8,this.pad[4]=y[24]&255|(y[25]&255)<<8,this.pad[5]=y[26]&255|(y[27]&255)<<8,this.pad[6]=y[28]&255|(y[29]&255)<<8,this.pad[7]=y[30]&255|(y[31]&255)<<8};q.prototype.blocks=function(y,w,v){for(var p=this.fin?0:2048,S,Z,R,H,ne,Se,fe,ht,me,Be,De,We,ze,Le,Ne,qe,ye,$e,ge,ve=this.h[0],we=this.h[1],ce=this.h[2],U=this.h[3],X=this.h[4],ee=this.h[5],F=this.h[6],K=this.h[7],te=this.h[8],Ce=this.h[9],Ye=this.r[0],He=this.r[1],Ge=this.r[2],_=this.r[3],et=this.r[4],ft=this.r[5],ut=this.r[6],Ke=this.r[7],ot=this.r[8],at=this.r[9];v>=16;)S=y[w+0]&255|(y[w+1]&255)<<8,ve+=S&8191,Z=y[w+2]&255|(y[w+3]&255)<<8,we+=(S>>>13|Z<<3)&8191,R=y[w+4]&255|(y[w+5]&255)<<8,ce+=(Z>>>10|R<<6)&8191,H=y[w+6]&255|(y[w+7]&255)<<8,U+=(R>>>7|H<<9)&8191,ne=y[w+8]&255|(y[w+9]&255)<<8,X+=(H>>>4|ne<<12)&8191,ee+=ne>>>1&8191,Se=y[w+10]&255|(y[w+11]&255)<<8,F+=(ne>>>14|Se<<2)&8191,fe=y[w+12]&255|(y[w+13]&255)<<8,K+=(Se>>>11|fe<<5)&8191,ht=y[w+14]&255|(y[w+15]&255)<<8,te+=(fe>>>8|ht<<8)&8191,Ce+=ht>>>5|p,me=0,Be=me,Be+=ve*Ye,Be+=we*(5*at),Be+=ce*(5*ot),Be+=U*(5*Ke),Be+=X*(5*ut),me=Be>>>13,Be&=8191,Be+=ee*(5*ft),Be+=F*(5*et),Be+=K*(5*_),Be+=te*(5*Ge),Be+=Ce*(5*He),me+=Be>>>13,Be&=8191,De=me,De+=ve*He,De+=we*Ye,De+=ce*(5*at),De+=U*(5*ot),De+=X*(5*Ke),me=De>>>13,De&=8191,De+=ee*(5*ut),De+=F*(5*ft),De+=K*(5*et),De+=te*(5*_),De+=Ce*(5*Ge),me+=De>>>13,De&=8191,We=me,We+=ve*Ge,We+=we*He,We+=ce*Ye,We+=U*(5*at),We+=X*(5*ot),me=We>>>13,We&=8191,We+=ee*(5*Ke),We+=F*(5*ut),We+=K*(5*ft),We+=te*(5*et),We+=Ce*(5*_),me+=We>>>13,We&=8191,ze=me,ze+=ve*_,ze+=we*Ge,ze+=ce*He,ze+=U*Ye,ze+=X*(5*at),me=ze>>>13,ze&=8191,ze+=ee*(5*ot),ze+=F*(5*Ke),ze+=K*(5*ut),ze+=te*(5*ft),ze+=Ce*(5*et),me+=ze>>>13,ze&=8191,Le=me,Le+=ve*et,Le+=we*_,Le+=ce*Ge,Le+=U*He,Le+=X*Ye,me=Le>>>13,Le&=8191,Le+=ee*(5*at),Le+=F*(5*ot),Le+=K*(5*Ke),Le+=te*(5*ut),Le+=Ce*(5*ft),me+=Le>>>13,Le&=8191,Ne=me,Ne+=ve*ft,Ne+=we*et,Ne+=ce*_,Ne+=U*Ge,Ne+=X*He,me=Ne>>>13,Ne&=8191,Ne+=ee*Ye,Ne+=F*(5*at),Ne+=K*(5*ot),Ne+=te*(5*Ke),Ne+=Ce*(5*ut),me+=Ne>>>13,Ne&=8191,qe=me,qe+=ve*ut,qe+=we*ft,qe+=ce*et,qe+=U*_,qe+=X*Ge,me=qe>>>13,qe&=8191,qe+=ee*He,qe+=F*Ye,qe+=K*(5*at),qe+=te*(5*ot),qe+=Ce*(5*Ke),me+=qe>>>13,qe&=8191,ye=me,ye+=ve*Ke,ye+=we*ut,ye+=ce*ft,ye+=U*et,ye+=X*_,me=ye>>>13,ye&=8191,ye+=ee*Ge,ye+=F*He,ye+=K*Ye,ye+=te*(5*at),ye+=Ce*(5*ot),me+=ye>>>13,ye&=8191,$e=me,$e+=ve*ot,$e+=we*Ke,$e+=ce*ut,$e+=U*ft,$e+=X*et,me=$e>>>13,$e&=8191,$e+=ee*_,$e+=F*Ge,$e+=K*He,$e+=te*Ye,$e+=Ce*(5*at),me+=$e>>>13,$e&=8191,ge=me,ge+=ve*at,ge+=we*ot,ge+=ce*Ke,ge+=U*ut,ge+=X*ft,me=ge>>>13,ge&=8191,ge+=ee*et,ge+=F*_,ge+=K*Ge,ge+=te*He,ge+=Ce*Ye,me+=ge>>>13,ge&=8191,me=(me<<2)+me|0,me=me+Be|0,Be=me&8191,me=me>>>13,De+=me,ve=Be,we=De,ce=We,U=ze,X=Le,ee=Ne,F=qe,K=ye,te=$e,Ce=ge,w+=16,v-=16;this.h[0]=ve,this.h[1]=we,this.h[2]=ce,this.h[3]=U,this.h[4]=X,this.h[5]=ee,this.h[6]=F,this.h[7]=K,this.h[8]=te,this.h[9]=Ce},q.prototype.finish=function(y,w){var v=new Uint16Array(10),p,S,Z,R;if(this.leftover){for(R=this.leftover,this.buffer[R++]=1;R<16;R++)this.buffer[R]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(p=this.h[1]>>>13,this.h[1]&=8191,R=2;R<10;R++)this.h[R]+=p,p=this.h[R]>>>13,this.h[R]&=8191;for(this.h[0]+=p*5,p=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=p,p=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=p,v[0]=this.h[0]+5,p=v[0]>>>13,v[0]&=8191,R=1;R<10;R++)v[R]=this.h[R]+p,p=v[R]>>>13,v[R]&=8191;for(v[9]-=8192,S=(p^1)-1,R=0;R<10;R++)v[R]&=S;for(S=~S,R=0;R<10;R++)this.h[R]=this.h[R]&S|v[R];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Z=this.h[0]+this.pad[0],this.h[0]=Z&65535,R=1;R<8;R++)Z=(this.h[R]+this.pad[R]|0)+(Z>>>16)|0,this.h[R]=Z&65535;y[w+0]=this.h[0]>>>0&255,y[w+1]=this.h[0]>>>8&255,y[w+2]=this.h[1]>>>0&255,y[w+3]=this.h[1]>>>8&255,y[w+4]=this.h[2]>>>0&255,y[w+5]=this.h[2]>>>8&255,y[w+6]=this.h[3]>>>0&255,y[w+7]=this.h[3]>>>8&255,y[w+8]=this.h[4]>>>0&255,y[w+9]=this.h[4]>>>8&255,y[w+10]=this.h[5]>>>0&255,y[w+11]=this.h[5]>>>8&255,y[w+12]=this.h[6]>>>0&255,y[w+13]=this.h[6]>>>8&255,y[w+14]=this.h[7]>>>0&255,y[w+15]=this.h[7]>>>8&255},q.prototype.update=function(y,w,v){var p,S;if(this.leftover){for(S=16-this.leftover,S>v&&(S=v),p=0;p<S;p++)this.buffer[this.leftover+p]=y[w+p];if(v-=S,w+=S,this.leftover+=S,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(v>=16&&(S=v-v%16,this.blocks(y,w,S),w+=S,v-=S),v){for(p=0;p<v;p++)this.buffer[this.leftover+p]=y[w+p];this.leftover+=v}};function D(y,w,v,p,S,Z){var R=new q(Z);return R.update(v,p,S),R.finish(y,w),0}function G(y,w,v,p,S,Z){var R=new Uint8Array(16);return D(R,0,v,p,S,Z),O(y,w,R,0)}function I(y,w,v,p,S){var Z;if(v<32)return-1;for(j(y,0,w,0,v,p,S),D(y,16,y,32,v-32,y),Z=0;Z<16;Z++)y[Z]=0;return 0}function B(y,w,v,p,S){var Z,R=new Uint8Array(32);if(v<32||(C(R,0,32,p,S),G(w,16,w,32,v-32,R)!==0))return-1;for(j(y,0,w,0,v,p,S),Z=0;Z<32;Z++)y[Z]=0;return 0}function V(y,w){var v;for(v=0;v<16;v++)y[v]=w[v]|0}function W(y){var w,v,p=1;for(w=0;w<16;w++)v=y[w]+p+65535,p=Math.floor(v/65536),y[w]=v-p*65536;y[0]+=p-1+37*(p-1)}function se(y,w,v){for(var p,S=~(v-1),Z=0;Z<16;Z++)p=S&(y[Z]^w[Z]),y[Z]^=p,w[Z]^=p}function be(y,w){var v,p,S,Z=t(),R=t();for(v=0;v<16;v++)R[v]=w[v];for(W(R),W(R),W(R),p=0;p<2;p++){for(Z[0]=R[0]-65517,v=1;v<15;v++)Z[v]=R[v]-65535-(Z[v-1]>>16&1),Z[v-1]&=65535;Z[15]=R[15]-32767-(Z[14]>>16&1),S=Z[15]>>16&1,Z[14]&=65535,se(R,Z,1-S)}for(v=0;v<16;v++)y[2*v]=R[v]&255,y[2*v+1]=R[v]>>8}function Re(y,w){var v=new Uint8Array(32),p=new Uint8Array(32);return be(v,y),be(p,w),b(v,0,p,0)}function Pe(y){var w=new Uint8Array(32);return be(w,y),w[0]&1}function Je(y,w){var v;for(v=0;v<16;v++)y[v]=w[2*v]+(w[2*v+1]<<8);y[15]&=32767}function Me(y,w,v){for(var p=0;p<16;p++)y[p]=w[p]+v[p]}function it(y,w,v){for(var p=0;p<16;p++)y[p]=w[p]-v[p]}function ke(y,w,v){var p,S,Z=0,R=0,H=0,ne=0,Se=0,fe=0,ht=0,me=0,Be=0,De=0,We=0,ze=0,Le=0,Ne=0,qe=0,ye=0,$e=0,ge=0,ve=0,we=0,ce=0,U=0,X=0,ee=0,F=0,K=0,te=0,Ce=0,Ye=0,He=0,Ge=0,_=v[0],et=v[1],ft=v[2],ut=v[3],Ke=v[4],ot=v[5],at=v[6],Gt=v[7],$t=v[8],Ut=v[9],Xt=v[10],Vt=v[11],an=v[12],$n=v[13],Qn=v[14],Pn=v[15];p=w[0],Z+=p*_,R+=p*et,H+=p*ft,ne+=p*ut,Se+=p*Ke,fe+=p*ot,ht+=p*at,me+=p*Gt,Be+=p*$t,De+=p*Ut,We+=p*Xt,ze+=p*Vt,Le+=p*an,Ne+=p*$n,qe+=p*Qn,ye+=p*Pn,p=w[1],R+=p*_,H+=p*et,ne+=p*ft,Se+=p*ut,fe+=p*Ke,ht+=p*ot,me+=p*at,Be+=p*Gt,De+=p*$t,We+=p*Ut,ze+=p*Xt,Le+=p*Vt,Ne+=p*an,qe+=p*$n,ye+=p*Qn,$e+=p*Pn,p=w[2],H+=p*_,ne+=p*et,Se+=p*ft,fe+=p*ut,ht+=p*Ke,me+=p*ot,Be+=p*at,De+=p*Gt,We+=p*$t,ze+=p*Ut,Le+=p*Xt,Ne+=p*Vt,qe+=p*an,ye+=p*$n,$e+=p*Qn,ge+=p*Pn,p=w[3],ne+=p*_,Se+=p*et,fe+=p*ft,ht+=p*ut,me+=p*Ke,Be+=p*ot,De+=p*at,We+=p*Gt,ze+=p*$t,Le+=p*Ut,Ne+=p*Xt,qe+=p*Vt,ye+=p*an,$e+=p*$n,ge+=p*Qn,ve+=p*Pn,p=w[4],Se+=p*_,fe+=p*et,ht+=p*ft,me+=p*ut,Be+=p*Ke,De+=p*ot,We+=p*at,ze+=p*Gt,Le+=p*$t,Ne+=p*Ut,qe+=p*Xt,ye+=p*Vt,$e+=p*an,ge+=p*$n,ve+=p*Qn,we+=p*Pn,p=w[5],fe+=p*_,ht+=p*et,me+=p*ft,Be+=p*ut,De+=p*Ke,We+=p*ot,ze+=p*at,Le+=p*Gt,Ne+=p*$t,qe+=p*Ut,ye+=p*Xt,$e+=p*Vt,ge+=p*an,ve+=p*$n,we+=p*Qn,ce+=p*Pn,p=w[6],ht+=p*_,me+=p*et,Be+=p*ft,De+=p*ut,We+=p*Ke,ze+=p*ot,Le+=p*at,Ne+=p*Gt,qe+=p*$t,ye+=p*Ut,$e+=p*Xt,ge+=p*Vt,ve+=p*an,we+=p*$n,ce+=p*Qn,U+=p*Pn,p=w[7],me+=p*_,Be+=p*et,De+=p*ft,We+=p*ut,ze+=p*Ke,Le+=p*ot,Ne+=p*at,qe+=p*Gt,ye+=p*$t,$e+=p*Ut,ge+=p*Xt,ve+=p*Vt,we+=p*an,ce+=p*$n,U+=p*Qn,X+=p*Pn,p=w[8],Be+=p*_,De+=p*et,We+=p*ft,ze+=p*ut,Le+=p*Ke,Ne+=p*ot,qe+=p*at,ye+=p*Gt,$e+=p*$t,ge+=p*Ut,ve+=p*Xt,we+=p*Vt,ce+=p*an,U+=p*$n,X+=p*Qn,ee+=p*Pn,p=w[9],De+=p*_,We+=p*et,ze+=p*ft,Le+=p*ut,Ne+=p*Ke,qe+=p*ot,ye+=p*at,$e+=p*Gt,ge+=p*$t,ve+=p*Ut,we+=p*Xt,ce+=p*Vt,U+=p*an,X+=p*$n,ee+=p*Qn,F+=p*Pn,p=w[10],We+=p*_,ze+=p*et,Le+=p*ft,Ne+=p*ut,qe+=p*Ke,ye+=p*ot,$e+=p*at,ge+=p*Gt,ve+=p*$t,we+=p*Ut,ce+=p*Xt,U+=p*Vt,X+=p*an,ee+=p*$n,F+=p*Qn,K+=p*Pn,p=w[11],ze+=p*_,Le+=p*et,Ne+=p*ft,qe+=p*ut,ye+=p*Ke,$e+=p*ot,ge+=p*at,ve+=p*Gt,we+=p*$t,ce+=p*Ut,U+=p*Xt,X+=p*Vt,ee+=p*an,F+=p*$n,K+=p*Qn,te+=p*Pn,p=w[12],Le+=p*_,Ne+=p*et,qe+=p*ft,ye+=p*ut,$e+=p*Ke,ge+=p*ot,ve+=p*at,we+=p*Gt,ce+=p*$t,U+=p*Ut,X+=p*Xt,ee+=p*Vt,F+=p*an,K+=p*$n,te+=p*Qn,Ce+=p*Pn,p=w[13],Ne+=p*_,qe+=p*et,ye+=p*ft,$e+=p*ut,ge+=p*Ke,ve+=p*ot,we+=p*at,ce+=p*Gt,U+=p*$t,X+=p*Ut,ee+=p*Xt,F+=p*Vt,K+=p*an,te+=p*$n,Ce+=p*Qn,Ye+=p*Pn,p=w[14],qe+=p*_,ye+=p*et,$e+=p*ft,ge+=p*ut,ve+=p*Ke,we+=p*ot,ce+=p*at,U+=p*Gt,X+=p*$t,ee+=p*Ut,F+=p*Xt,K+=p*Vt,te+=p*an,Ce+=p*$n,Ye+=p*Qn,He+=p*Pn,p=w[15],ye+=p*_,$e+=p*et,ge+=p*ft,ve+=p*ut,we+=p*Ke,ce+=p*ot,U+=p*at,X+=p*Gt,ee+=p*$t,F+=p*Ut,K+=p*Xt,te+=p*Vt,Ce+=p*an,Ye+=p*$n,He+=p*Qn,Ge+=p*Pn,Z+=38*$e,R+=38*ge,H+=38*ve,ne+=38*we,Se+=38*ce,fe+=38*U,ht+=38*X,me+=38*ee,Be+=38*F,De+=38*K,We+=38*te,ze+=38*Ce,Le+=38*Ye,Ne+=38*He,qe+=38*Ge,S=1,p=Z+S+65535,S=Math.floor(p/65536),Z=p-S*65536,p=R+S+65535,S=Math.floor(p/65536),R=p-S*65536,p=H+S+65535,S=Math.floor(p/65536),H=p-S*65536,p=ne+S+65535,S=Math.floor(p/65536),ne=p-S*65536,p=Se+S+65535,S=Math.floor(p/65536),Se=p-S*65536,p=fe+S+65535,S=Math.floor(p/65536),fe=p-S*65536,p=ht+S+65535,S=Math.floor(p/65536),ht=p-S*65536,p=me+S+65535,S=Math.floor(p/65536),me=p-S*65536,p=Be+S+65535,S=Math.floor(p/65536),Be=p-S*65536,p=De+S+65535,S=Math.floor(p/65536),De=p-S*65536,p=We+S+65535,S=Math.floor(p/65536),We=p-S*65536,p=ze+S+65535,S=Math.floor(p/65536),ze=p-S*65536,p=Le+S+65535,S=Math.floor(p/65536),Le=p-S*65536,p=Ne+S+65535,S=Math.floor(p/65536),Ne=p-S*65536,p=qe+S+65535,S=Math.floor(p/65536),qe=p-S*65536,p=ye+S+65535,S=Math.floor(p/65536),ye=p-S*65536,Z+=S-1+37*(S-1),S=1,p=Z+S+65535,S=Math.floor(p/65536),Z=p-S*65536,p=R+S+65535,S=Math.floor(p/65536),R=p-S*65536,p=H+S+65535,S=Math.floor(p/65536),H=p-S*65536,p=ne+S+65535,S=Math.floor(p/65536),ne=p-S*65536,p=Se+S+65535,S=Math.floor(p/65536),Se=p-S*65536,p=fe+S+65535,S=Math.floor(p/65536),fe=p-S*65536,p=ht+S+65535,S=Math.floor(p/65536),ht=p-S*65536,p=me+S+65535,S=Math.floor(p/65536),me=p-S*65536,p=Be+S+65535,S=Math.floor(p/65536),Be=p-S*65536,p=De+S+65535,S=Math.floor(p/65536),De=p-S*65536,p=We+S+65535,S=Math.floor(p/65536),We=p-S*65536,p=ze+S+65535,S=Math.floor(p/65536),ze=p-S*65536,p=Le+S+65535,S=Math.floor(p/65536),Le=p-S*65536,p=Ne+S+65535,S=Math.floor(p/65536),Ne=p-S*65536,p=qe+S+65535,S=Math.floor(p/65536),qe=p-S*65536,p=ye+S+65535,S=Math.floor(p/65536),ye=p-S*65536,Z+=S-1+37*(S-1),y[0]=Z,y[1]=R,y[2]=H,y[3]=ne,y[4]=Se,y[5]=fe,y[6]=ht,y[7]=me,y[8]=Be,y[9]=De,y[10]=We,y[11]=ze,y[12]=Le,y[13]=Ne,y[14]=qe,y[15]=ye}function ct(y,w){ke(y,w,w)}function Zn(y,w){var v=t(),p;for(p=0;p<16;p++)v[p]=w[p];for(p=253;p>=0;p--)ct(v,v),p!==2&&p!==4&&ke(v,v,w);for(p=0;p<16;p++)y[p]=v[p]}function mn(y,w){var v=t(),p;for(p=0;p<16;p++)v[p]=w[p];for(p=250;p>=0;p--)ct(v,v),p!==1&&ke(v,v,w);for(p=0;p<16;p++)y[p]=v[p]}function yn(y,w,v){var p=new Uint8Array(32),S=new Float64Array(80),Z,R,H=t(),ne=t(),Se=t(),fe=t(),ht=t(),me=t();for(R=0;R<31;R++)p[R]=w[R];for(p[31]=w[31]&127|64,p[0]&=248,Je(S,v),R=0;R<16;R++)ne[R]=S[R],fe[R]=H[R]=Se[R]=0;for(H[0]=fe[0]=1,R=254;R>=0;--R)Z=p[R>>>3]>>>(R&7)&1,se(H,ne,Z),se(Se,fe,Z),Me(ht,H,Se),it(H,H,Se),Me(Se,ne,fe),it(ne,ne,fe),ct(fe,ht),ct(me,H),ke(H,Se,H),ke(Se,ne,ht),Me(ht,H,Se),it(H,H,Se),ct(ne,H),it(Se,fe,me),ke(H,Se,l),Me(H,H,fe),ke(Se,Se,H),ke(H,fe,me),ke(fe,ne,S),ct(ne,ht),se(H,ne,Z),se(Se,fe,Z);for(R=0;R<16;R++)S[R+16]=H[R],S[R+32]=Se[R],S[R+48]=ne[R],S[R+64]=fe[R];var Be=S.subarray(32),De=S.subarray(16);return Zn(Be,Be),ke(De,De,Be),be(y,De),0}function gi(y,w){return yn(y,w,s)}function Rn(y,w){return i(w,32),gi(y,w)}function Ct(y,w,v){var p=new Uint8Array(32);return yn(p,v,w),k(y,r,p,A)}var Xn=I,Hr=B;function mr(y,w,v,p,S,Z){var R=new Uint8Array(32);return Ct(R,S,Z),Xn(y,w,v,p,R)}function Ta(y,w,v,p,S,Z){var R=new Uint8Array(32);return Ct(R,S,Z),Hr(y,w,v,p,R)}var Ca=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function xo(y,w,v,p){for(var S=new Int32Array(16),Z=new Int32Array(16),R,H,ne,Se,fe,ht,me,Be,De,We,ze,Le,Ne,qe,ye,$e,ge,ve,we,ce,U,X,ee,F,K,te,Ce=y[0],Ye=y[1],He=y[2],Ge=y[3],_=y[4],et=y[5],ft=y[6],ut=y[7],Ke=w[0],ot=w[1],at=w[2],Gt=w[3],$t=w[4],Ut=w[5],Xt=w[6],Vt=w[7],an=0;p>=128;){for(we=0;we<16;we++)ce=8*we+an,S[we]=v[ce+0]<<24|v[ce+1]<<16|v[ce+2]<<8|v[ce+3],Z[we]=v[ce+4]<<24|v[ce+5]<<16|v[ce+6]<<8|v[ce+7];for(we=0;we<80;we++)if(R=Ce,H=Ye,ne=He,Se=Ge,fe=_,ht=et,me=ft,Be=ut,De=Ke,We=ot,ze=at,Le=Gt,Ne=$t,qe=Ut,ye=Xt,$e=Vt,U=ut,X=Vt,ee=X&65535,F=X>>>16,K=U&65535,te=U>>>16,U=(_>>>14|$t<<18)^(_>>>18|$t<<14)^($t>>>9|_<<23),X=($t>>>14|_<<18)^($t>>>18|_<<14)^(_>>>9|$t<<23),ee+=X&65535,F+=X>>>16,K+=U&65535,te+=U>>>16,U=_&et^~_&ft,X=$t&Ut^~$t&Xt,ee+=X&65535,F+=X>>>16,K+=U&65535,te+=U>>>16,U=Ca[we*2],X=Ca[we*2+1],ee+=X&65535,F+=X>>>16,K+=U&65535,te+=U>>>16,U=S[we%16],X=Z[we%16],ee+=X&65535,F+=X>>>16,K+=U&65535,te+=U>>>16,F+=ee>>>16,K+=F>>>16,te+=K>>>16,ge=K&65535|te<<16,ve=ee&65535|F<<16,U=ge,X=ve,ee=X&65535,F=X>>>16,K=U&65535,te=U>>>16,U=(Ce>>>28|Ke<<4)^(Ke>>>2|Ce<<30)^(Ke>>>7|Ce<<25),X=(Ke>>>28|Ce<<4)^(Ce>>>2|Ke<<30)^(Ce>>>7|Ke<<25),ee+=X&65535,F+=X>>>16,K+=U&65535,te+=U>>>16,U=Ce&Ye^Ce&He^Ye&He,X=Ke&ot^Ke&at^ot&at,ee+=X&65535,F+=X>>>16,K+=U&65535,te+=U>>>16,F+=ee>>>16,K+=F>>>16,te+=K>>>16,Be=K&65535|te<<16,$e=ee&65535|F<<16,U=Se,X=Le,ee=X&65535,F=X>>>16,K=U&65535,te=U>>>16,U=ge,X=ve,ee+=X&65535,F+=X>>>16,K+=U&65535,te+=U>>>16,F+=ee>>>16,K+=F>>>16,te+=K>>>16,Se=K&65535|te<<16,Le=ee&65535|F<<16,Ye=R,He=H,Ge=ne,_=Se,et=fe,ft=ht,ut=me,Ce=Be,ot=De,at=We,Gt=ze,$t=Le,Ut=Ne,Xt=qe,Vt=ye,Ke=$e,we%16===15)for(ce=0;ce<16;ce++)U=S[ce],X=Z[ce],ee=X&65535,F=X>>>16,K=U&65535,te=U>>>16,U=S[(ce+9)%16],X=Z[(ce+9)%16],ee+=X&65535,F+=X>>>16,K+=U&65535,te+=U>>>16,ge=S[(ce+1)%16],ve=Z[(ce+1)%16],U=(ge>>>1|ve<<31)^(ge>>>8|ve<<24)^ge>>>7,X=(ve>>>1|ge<<31)^(ve>>>8|ge<<24)^(ve>>>7|ge<<25),ee+=X&65535,F+=X>>>16,K+=U&65535,te+=U>>>16,ge=S[(ce+14)%16],ve=Z[(ce+14)%16],U=(ge>>>19|ve<<13)^(ve>>>29|ge<<3)^ge>>>6,X=(ve>>>19|ge<<13)^(ge>>>29|ve<<3)^(ve>>>6|ge<<26),ee+=X&65535,F+=X>>>16,K+=U&65535,te+=U>>>16,F+=ee>>>16,K+=F>>>16,te+=K>>>16,S[ce]=K&65535|te<<16,Z[ce]=ee&65535|F<<16;U=Ce,X=Ke,ee=X&65535,F=X>>>16,K=U&65535,te=U>>>16,U=y[0],X=w[0],ee+=X&65535,F+=X>>>16,K+=U&65535,te+=U>>>16,F+=ee>>>16,K+=F>>>16,te+=K>>>16,y[0]=Ce=K&65535|te<<16,w[0]=Ke=ee&65535|F<<16,U=Ye,X=ot,ee=X&65535,F=X>>>16,K=U&65535,te=U>>>16,U=y[1],X=w[1],ee+=X&65535,F+=X>>>16,K+=U&65535,te+=U>>>16,F+=ee>>>16,K+=F>>>16,te+=K>>>16,y[1]=Ye=K&65535|te<<16,w[1]=ot=ee&65535|F<<16,U=He,X=at,ee=X&65535,F=X>>>16,K=U&65535,te=U>>>16,U=y[2],X=w[2],ee+=X&65535,F+=X>>>16,K+=U&65535,te+=U>>>16,F+=ee>>>16,K+=F>>>16,te+=K>>>16,y[2]=He=K&65535|te<<16,w[2]=at=ee&65535|F<<16,U=Ge,X=Gt,ee=X&65535,F=X>>>16,K=U&65535,te=U>>>16,U=y[3],X=w[3],ee+=X&65535,F+=X>>>16,K+=U&65535,te+=U>>>16,F+=ee>>>16,K+=F>>>16,te+=K>>>16,y[3]=Ge=K&65535|te<<16,w[3]=Gt=ee&65535|F<<16,U=_,X=$t,ee=X&65535,F=X>>>16,K=U&65535,te=U>>>16,U=y[4],X=w[4],ee+=X&65535,F+=X>>>16,K+=U&65535,te+=U>>>16,F+=ee>>>16,K+=F>>>16,te+=K>>>16,y[4]=_=K&65535|te<<16,w[4]=$t=ee&65535|F<<16,U=et,X=Ut,ee=X&65535,F=X>>>16,K=U&65535,te=U>>>16,U=y[5],X=w[5],ee+=X&65535,F+=X>>>16,K+=U&65535,te+=U>>>16,F+=ee>>>16,K+=F>>>16,te+=K>>>16,y[5]=et=K&65535|te<<16,w[5]=Ut=ee&65535|F<<16,U=ft,X=Xt,ee=X&65535,F=X>>>16,K=U&65535,te=U>>>16,U=y[6],X=w[6],ee+=X&65535,F+=X>>>16,K+=U&65535,te+=U>>>16,F+=ee>>>16,K+=F>>>16,te+=K>>>16,y[6]=ft=K&65535|te<<16,w[6]=Xt=ee&65535|F<<16,U=ut,X=Vt,ee=X&65535,F=X>>>16,K=U&65535,te=U>>>16,U=y[7],X=w[7],ee+=X&65535,F+=X>>>16,K+=U&65535,te+=U>>>16,F+=ee>>>16,K+=F>>>16,te+=K>>>16,y[7]=ut=K&65535|te<<16,w[7]=Vt=ee&65535|F<<16,an+=128,p-=128}return p}function Ui(y,w,v){var p=new Int32Array(8),S=new Int32Array(8),Z=new Uint8Array(256),R,H=v;for(p[0]=1779033703,p[1]=3144134277,p[2]=1013904242,p[3]=2773480762,p[4]=1359893119,p[5]=2600822924,p[6]=528734635,p[7]=1541459225,S[0]=4089235720,S[1]=2227873595,S[2]=4271175723,S[3]=1595750129,S[4]=2917565137,S[5]=725511199,S[6]=4215389547,S[7]=327033209,xo(p,S,w,v),v%=128,R=0;R<v;R++)Z[R]=w[H-v+R];for(Z[v]=128,v=256-128*(v<112?1:0),Z[v-9]=0,g(Z,v-8,H/536870912|0,H<<3),xo(p,S,Z,v),R=0;R<8;R++)g(y,8*R,p[R],S[R]);return 0}function Ts(y,w){var v=t(),p=t(),S=t(),Z=t(),R=t(),H=t(),ne=t(),Se=t(),fe=t();it(v,y[1],y[0]),it(fe,w[1],w[0]),ke(v,v,fe),Me(p,y[0],y[1]),Me(fe,w[0],w[1]),ke(p,p,fe),ke(S,y[3],w[3]),ke(S,S,h),ke(Z,y[2],w[2]),Me(Z,Z,Z),it(R,p,v),it(H,Z,S),Me(ne,Z,S),Me(Se,p,v),ke(y[0],R,H),ke(y[1],Se,ne),ke(y[2],ne,H),ke(y[3],R,Se)}function Ma(y,w,v){var p;for(p=0;p<4;p++)se(y[p],w[p],v)}function wo(y,w){var v=t(),p=t(),S=t();Zn(S,w[2]),ke(v,w[0],S),ke(p,w[1],S),be(y,p),y[31]^=Pe(v)<<7}function So(y,w,v){var p,S;for(V(y[0],o),V(y[1],a),V(y[2],a),V(y[3],o),S=255;S>=0;--S)p=v[S/8|0]>>(S&7)&1,Ma(y,w,p),Ts(w,y),Ts(y,y),Ma(y,w,p)}function Cs(y,w){var v=[t(),t(),t(),t()];V(v[0],f),V(v[1],u),V(v[2],a),ke(v[3],f,u),So(y,v,w)}function ko(y,w,v){var p=new Uint8Array(64),S=[t(),t(),t(),t()],Z;for(v||i(w,32),Ui(p,w,32),p[0]&=248,p[31]&=127,p[31]|=64,Cs(S,p),wo(y,S),Z=0;Z<32;Z++)w[Z+32]=y[Z];return 0}var Ms=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function $o(y,w){var v,p,S,Z;for(p=63;p>=32;--p){for(v=0,S=p-32,Z=p-12;S<Z;++S)w[S]+=v-16*w[p]*Ms[S-(p-32)],v=Math.floor((w[S]+128)/256),w[S]-=v*256;w[S]+=v,w[p]=0}for(v=0,S=0;S<32;S++)w[S]+=v-(w[31]>>4)*Ms[S],v=w[S]>>8,w[S]&=255;for(S=0;S<32;S++)w[S]-=v*Ms[S];for(p=0;p<32;p++)w[p+1]+=w[p]>>8,y[p]=w[p]&255}function Qo(y){var w=new Float64Array(64),v;for(v=0;v<64;v++)w[v]=y[v];for(v=0;v<64;v++)y[v]=0;$o(y,w)}function Za(y,w,v,p){var S=new Uint8Array(64),Z=new Uint8Array(64),R=new Uint8Array(64),H,ne,Se=new Float64Array(64),fe=[t(),t(),t(),t()];Ui(S,p,32),S[0]&=248,S[31]&=127,S[31]|=64;var ht=v+64;for(H=0;H<v;H++)y[64+H]=w[H];for(H=0;H<32;H++)y[32+H]=S[32+H];for(Ui(R,y.subarray(32),v+32),Qo(R),Cs(fe,R),wo(y,fe),H=32;H<64;H++)y[H]=p[H];for(Ui(Z,y,v+64),Qo(Z),H=0;H<64;H++)Se[H]=0;for(H=0;H<32;H++)Se[H]=R[H];for(H=0;H<32;H++)for(ne=0;ne<32;ne++)Se[H+ne]+=Z[H]*S[ne];return $o(y.subarray(32),Se),ht}function ac(y,w){var v=t(),p=t(),S=t(),Z=t(),R=t(),H=t(),ne=t();return V(y[2],a),Je(y[1],w),ct(S,y[1]),ke(Z,S,c),it(S,S,y[2]),Me(Z,y[2],Z),ct(R,Z),ct(H,R),ke(ne,H,R),ke(v,ne,S),ke(v,v,Z),mn(v,v),ke(v,v,S),ke(v,v,Z),ke(v,v,Z),ke(y[0],v,Z),ct(p,y[0]),ke(p,p,Z),Re(p,S)&&ke(y[0],y[0],d),ct(p,y[0]),ke(p,p,Z),Re(p,S)?-1:(Pe(y[0])===w[31]>>7&&it(y[0],o,y[0]),ke(y[3],y[0],y[1]),0)}function Po(y,w,v,p){var S,Z=new Uint8Array(32),R=new Uint8Array(64),H=[t(),t(),t(),t()],ne=[t(),t(),t(),t()];if(v<64||ac(ne,p))return-1;for(S=0;S<v;S++)y[S]=w[S];for(S=0;S<32;S++)y[S+32]=p[S];if(Ui(R,y,v),Qo(R),So(H,ne,R),Cs(ne,w.subarray(32)),Ts(H,ne),wo(Z,H),v-=64,b(w,0,Z,0)){for(S=0;S<v;S++)y[S]=0;return-1}for(S=0;S<v;S++)y[S]=w[S+64];return v}var Ra=32,_o=24,_e=32,kn=16,Oi=32,lc=32,Ia=32,ja=32,Vf=32,eO=_o,Tw=_e,Cw=kn,yr=64,Zs=32,Ao=64,zf=32,Wf=64;e.lowlevel={crypto_core_hsalsa20:k,crypto_stream_xor:j,crypto_stream:C,crypto_stream_salsa20_xor:E,crypto_stream_salsa20:M,crypto_onetimeauth:D,crypto_onetimeauth_verify:G,crypto_verify_16:O,crypto_verify_32:b,crypto_secretbox:I,crypto_secretbox_open:B,crypto_scalarmult:yn,crypto_scalarmult_base:gi,crypto_box_beforenm:Ct,crypto_box_afternm:Xn,crypto_box:mr,crypto_box_open:Ta,crypto_box_keypair:Rn,crypto_hash:Ui,crypto_sign:Za,crypto_sign_keypair:ko,crypto_sign_open:Po,crypto_secretbox_KEYBYTES:Ra,crypto_secretbox_NONCEBYTES:_o,crypto_secretbox_ZEROBYTES:_e,crypto_secretbox_BOXZEROBYTES:kn,crypto_scalarmult_BYTES:Oi,crypto_scalarmult_SCALARBYTES:lc,crypto_box_PUBLICKEYBYTES:Ia,crypto_box_SECRETKEYBYTES:ja,crypto_box_BEFORENMBYTES:Vf,crypto_box_NONCEBYTES:eO,crypto_box_ZEROBYTES:Tw,crypto_box_BOXZEROBYTES:Cw,crypto_sign_BYTES:yr,crypto_sign_PUBLICKEYBYTES:Zs,crypto_sign_SECRETKEYBYTES:Ao,crypto_sign_SEEDBYTES:zf,crypto_hash_BYTES:Wf,gf:t,D:c,L:Ms,pack25519:be,unpack25519:Je,M:ke,A:Me,S:ct,Z:it,pow2523:mn,add:Ts,set25519:V,modL:$o,scalarmult:So,scalarbase:Cs};function tO(y,w){if(y.length!==Ra)throw new Error("bad key size");if(w.length!==_o)throw new Error("bad nonce size")}function Mw(y,w){if(y.length!==Ia)throw new Error("bad public key size");if(w.length!==ja)throw new Error("bad secret key size")}function ni(){for(var y=0;y<arguments.length;y++)if(!(arguments[y]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function nO(y){for(var w=0;w<y.length;w++)y[w]=0}e.randomBytes=function(y){var w=new Uint8Array(y);return i(w,y),w},e.secretbox=function(y,w,v){ni(y,w,v),tO(v,w);for(var p=new Uint8Array(_e+y.length),S=new Uint8Array(p.length),Z=0;Z<y.length;Z++)p[Z+_e]=y[Z];return I(S,p,p.length,w,v),S.subarray(kn)},e.secretbox.open=function(y,w,v){ni(y,w,v),tO(v,w);for(var p=new Uint8Array(kn+y.length),S=new Uint8Array(p.length),Z=0;Z<y.length;Z++)p[Z+kn]=y[Z];return p.length<32||B(S,p,p.length,w,v)!==0?null:S.subarray(_e)},e.secretbox.keyLength=Ra,e.secretbox.nonceLength=_o,e.secretbox.overheadLength=kn,e.scalarMult=function(y,w){if(ni(y,w),y.length!==lc)throw new Error("bad n size");if(w.length!==Oi)throw new Error("bad p size");var v=new Uint8Array(Oi);return yn(v,y,w),v},e.scalarMult.base=function(y){if(ni(y),y.length!==lc)throw new Error("bad n size");var w=new Uint8Array(Oi);return gi(w,y),w},e.scalarMult.scalarLength=lc,e.scalarMult.groupElementLength=Oi,e.box=function(y,w,v,p){var S=e.box.before(v,p);return e.secretbox(y,w,S)},e.box.before=function(y,w){ni(y,w),Mw(y,w);var v=new Uint8Array(Vf);return Ct(v,y,w),v},e.box.after=e.secretbox,e.box.open=function(y,w,v,p){var S=e.box.before(v,p);return e.secretbox.open(y,w,S)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var y=new Uint8Array(Ia),w=new Uint8Array(ja);return Rn(y,w),{publicKey:y,secretKey:w}},e.box.keyPair.fromSecretKey=function(y){if(ni(y),y.length!==ja)throw new Error("bad secret key size");var w=new Uint8Array(Ia);return gi(w,y),{publicKey:w,secretKey:new Uint8Array(y)}},e.box.publicKeyLength=Ia,e.box.secretKeyLength=ja,e.box.sharedKeyLength=Vf,e.box.nonceLength=eO,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(y,w){if(ni(y,w),w.length!==Ao)throw new Error("bad secret key size");var v=new Uint8Array(yr+y.length);return Za(v,y,y.length,w),v},e.sign.open=function(y,w){if(ni(y,w),w.length!==Zs)throw new Error("bad public key size");var v=new Uint8Array(y.length),p=Po(v,y,y.length,w);if(p<0)return null;for(var S=new Uint8Array(p),Z=0;Z<S.length;Z++)S[Z]=v[Z];return S},e.sign.detached=function(y,w){for(var v=e.sign(y,w),p=new Uint8Array(yr),S=0;S<p.length;S++)p[S]=v[S];return p},e.sign.detached.verify=function(y,w,v){if(ni(y,w,v),w.length!==yr)throw new Error("bad signature size");if(v.length!==Zs)throw new Error("bad public key size");var p=new Uint8Array(yr+y.length),S=new Uint8Array(yr+y.length),Z;for(Z=0;Z<yr;Z++)p[Z]=w[Z];for(Z=0;Z<y.length;Z++)p[Z+yr]=y[Z];return Po(S,p,p.length,v)>=0},e.sign.keyPair=function(){var y=new Uint8Array(Zs),w=new Uint8Array(Ao);return ko(y,w),{publicKey:y,secretKey:w}},e.sign.keyPair.fromSecretKey=function(y){if(ni(y),y.length!==Ao)throw new Error("bad secret key size");for(var w=new Uint8Array(Zs),v=0;v<w.length;v++)w[v]=y[32+v];return{publicKey:w,secretKey:new Uint8Array(y)}},e.sign.keyPair.fromSeed=function(y){if(ni(y),y.length!==zf)throw new Error("bad seed size");for(var w=new Uint8Array(Zs),v=new Uint8Array(Ao),p=0;p<32;p++)v[p]=y[p];return ko(w,v,!0),{publicKey:w,secretKey:v}},e.sign.publicKeyLength=Zs,e.sign.secretKeyLength=Ao,e.sign.seedLength=zf,e.sign.signatureLength=yr,e.hash=function(y){ni(y);var w=new Uint8Array(Wf);return Ui(w,y,y.length),w},e.hash.hashLength=Wf,e.verify=function(y,w){return ni(y,w),y.length===0||w.length===0||y.length!==w.length?!1:m(y,0,w,0,y.length)===0},e.setPRNG=function(y){i=y},function(){var y=typeof self<"u"?self.crypto||self.msCrypto:null;if(y&&y.getRandomValues){var w=65536;e.setPRNG(function(v,p){var S,Z=new Uint8Array(p);for(S=0;S<p;S+=w)y.getRandomValues(Z.subarray(S,S+Math.min(p-S,w)));for(S=0;S<p;S++)v[S]=Z[S];nO(Z)})}else typeof rk<"u"&&(y=ak,y&&y.randomBytes&&e.setPRNG(function(v,p){var S,Z=y.randomBytes(p);for(S=0;S<p;S++)v[S]=Z[S];nO(Z)}))}()})(n.exports?n.exports:self.nacl=self.nacl||{})}(Ff)),Ff.exports}var ck=lk();const Ls=nk(ck);function hk(n){if(n.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<n.length;c++){const h=n.charAt(c),f=h.charCodeAt(0);if(e[f]!==255)throw new TypeError(h+" is ambiguous");e[f]=c}const t=n.length,i=n.charAt(0),r=Math.log(t)/Math.log(256),s=Math.log(256)/Math.log(t);function o(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let h=0,f=0,u=0;const d=c.length;for(;u!==d&&c[u]===0;)u++,h++;const g=(d-u)*s+1>>>0,m=new Uint8Array(g);for(;u!==d;){let $=c[u],Q=0;for(let P=g-1;($!==0||Q<f)&&P!==-1;P--,Q++)$+=256*m[P]>>>0,m[P]=$%t>>>0,$=$/t>>>0;if($!==0)throw new Error("Non-zero carry");f=Q,u++}let O=g-f;for(;O!==g&&m[O]===0;)O++;let b=i.repeat(h);for(;O<g;++O)b+=n.charAt(m[O]);return b}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let h=0,f=0,u=0;for(;c[h]===i;)f++,h++;const d=(c.length-h)*r+1>>>0,g=new Uint8Array(d);for(;c[h];){let $=e[c.charCodeAt(h)];if($===255)return;let Q=0;for(let P=d-1;($!==0||Q<u)&&P!==-1;P--,Q++)$+=t*g[P]>>>0,g[P]=$%256>>>0,$=$/256>>>0;if($!==0)throw new Error("Non-zero carry");u=Q,h++}let m=d-u;for(;m!==d&&g[m]===0;)m++;const O=new Uint8Array(f+(d-m));let b=f;for(;m!==d;)O[b++]=g[m++];return O}function l(c){const h=a(c);if(h)return h;throw new Error("Non-base"+t+" character")}return{encode:o,decodeUnsafe:a,decode:l}}var fk="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Dy=hk(fk),zl=n=>Dy.encode(n),sa=n=>Dy.decode(n);function Tn(n){return Uint8Array.from(atob(n),e=>e.charCodeAt(0))}const Hf=8192;function Dt(n){if(n.length<Hf)return btoa(String.fromCharCode(...n));let e="";for(let t=0;t<n.length;t+=Hf){const i=n.slice(t,t+Hf);e+=String.fromCharCode(...i)}return btoa(e)}function Hs(n){var r;const e=n.startsWith("0x")?n.slice(2):n,i=((r=(e.length%2===0?e:`0${e}}`).match(/.{2}/g))==null?void 0:r.map(s=>parseInt(s,16)))??[];return Uint8Array.from(i)}function Wn(n){return n.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"")}function Bp(n){const e=[];let t=0;if(n===0)return[0];for(;n>0;)e[t]=n&127,(n>>=7)&&(e[t]|=128),t+=1;return e}function uk(n){let e=0,t=0,i=0;for(;;){const r=n[i];if(i+=1,e|=(r&127)<<t,!(r&128))break;t+=7}return{value:e,length:i}}class dk{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){const e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){const e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){const e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){const e=this.read32(),i=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+i).toString(10)}read128(){const e=BigInt(this.read64()),i=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+i).toString(10)}read256(){const e=BigInt(this.read128()),i=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+i).toString(10)}readBytes(e){const t=this.bytePosition+this.dataView.byteOffset,i=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),i}readULEB(){const e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:i,length:r}=uk(t);return this.shift(r),i}readVec(e){const t=this.readULEB(),i=[];for(let r=0;r<t;r++)i.push(e(this,r,t));return i}}function pk(n,e){switch(e){case"base58":return zl(n);case"base64":return Dt(n);case"hex":return Wn(n);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function gk(n,e=["<",">"]){const[t,i]=e,r=[];let s="",o=0;for(let a=0;a<n.length;a++){const l=n[a];if(l===t&&o++,l===i&&o--,o===0&&l===","){r.push(s.trim()),s="";continue}s+=l}return r.push(s.trim()),r}class Ok{constructor({initialSize:e=1024,maxSize:t=1/0,allocateSize:i=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t,this.allocateSize=i,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){const t=this.bytePosition+e;if(t>this.size){const i=Math.min(this.maxSize,this.size+this.allocateSize);if(t>i)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=i;const r=new ArrayBuffer(this.size);new Uint8Array(r).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(r)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return Kf(BigInt(e),8).forEach(t=>this.write8(t)),this}write128(e){return Kf(BigInt(e),16).forEach(t=>this.write8(t)),this}write256(e){return Kf(BigInt(e),32).forEach(t=>this.write8(t)),this}writeULEB(e){return Bp(e).forEach(t=>this.write8(t)),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach((i,r)=>t(this,i,r,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return pk(this.toBytes(),e)}}function Kf(n,e){const t=new Uint8Array(e);let i=0;for(;n>0;)t[i]=Number(n%BigInt(256)),n=n/BigInt(256),i+=1;return t}var Ly=n=>{throw TypeError(n)},qy=(n,e,t)=>e.has(n)||Ly("Cannot "+t),Ci=(n,e,t)=>(qy(n,e,"read from private field"),t?t.call(n):e.get(n)),Qh=(n,e,t)=>e.has(n)?Ly("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ph=(n,e,t,i)=>(qy(n,e,"write to private field"),e.set(n,t),t),Ro,Fa,Gc,ss;const mk=class Ny{constructor(e){Qh(this,Ro),Qh(this,Fa),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),Ph(this,Ro,e.write),Ph(this,Fa,e.serialize??((t,i)=>{const r=new Ok({initialSize:this.serializedSize(t)??void 0,...i});return Ci(this,Ro).call(this,t,r),r.toBytes()})),this.validate=e.validate??(()=>{})}write(e,t){this.validate(e),Ci(this,Ro).call(this,e,t)}serialize(e,t){return this.validate(e),new yk(this,Ci(this,Fa).call(this,e,t))}parse(e){const t=new dk(e);return this.read(t)}fromHex(e){return this.parse(Hs(e))}fromBase58(e){return this.parse(sa(e))}fromBase64(e){return this.parse(Tn(e))}transform({name:e,input:t,output:i,validate:r}){return new Ny({name:e??this.name,read:s=>i(this.read(s)),write:(s,o)=>Ci(this,Ro).call(this,t(s),o),serializedSize:s=>this.serializedSize(t(s)),serialize:(s,o)=>Ci(this,Fa).call(this,t(s),o),validate:s=>{r==null||r(s),this.validate(t(s))}})}};Ro=new WeakMap;Fa=new WeakMap;let Tr=mk;const Uy=Symbol.for("@iota/serialized-bcs");function Dp(n){return!!n&&typeof n=="object"&&n[Uy]===!0}class yk{constructor(e,t){Qh(this,Gc),Qh(this,ss),Ph(this,Gc,e),Ph(this,ss,t)}get[Uy](){return!0}toBytes(){return Ci(this,ss)}toHex(){return Wn(Ci(this,ss))}toBase64(){return Dt(Ci(this,ss))}toBase58(){return zl(Ci(this,ss))}parse(){return Ci(this,Gc).parse(Ci(this,ss))}}Gc=new WeakMap;ss=new WeakMap;function _h({size:n,...e}){return new Tr({...e,serializedSize:()=>n})}function Jf({readMethod:n,writeMethod:e,...t}){return _h({...t,read:i=>i[n](),write:(i,r)=>r[e](i),validate:i=>{var r;if(i<0||i>t.maxValue)throw new TypeError(`Invalid ${t.name} value: ${i}. Expected value in range 0-${t.maxValue}`);(r=t.validate)==null||r.call(t,i)}})}function eu({readMethod:n,writeMethod:e,...t}){return _h({...t,read:i=>i[n](),write:(i,r)=>r[e](BigInt(i)),validate:i=>{var s;const r=BigInt(i);if(r<0||r>t.maxValue)throw new TypeError(`Invalid ${t.name} value: ${r}. Expected value in range 0-${t.maxValue}`);(s=t.validate)==null||s.call(t,r)}})}function bk({serialize:n,...e}){const t=new Tr({...e,serialize:n,write:(i,r)=>{for(const s of t.serialize(i).toBytes())r.write8(s)}});return t}function vk({toBytes:n,fromBytes:e,...t}){return new Tr({...t,read:i=>{const r=i.readULEB(),s=i.readBytes(r);return e(s)},write:(i,r)=>{const s=n(i);r.writeULEB(s.length);for(let o=0;o<s.length;o++)r.write8(s[o])},serialize:i=>{const r=n(i),s=Bp(r.length),o=new Uint8Array(s.length+r.length);return o.set(s,0),o.set(r,s.length),o},validate:i=>{var r;if(typeof i!="string")throw new TypeError(`Invalid ${t.name} value: ${i}. Expected string`);(r=t.validate)==null||r.call(t,i)}})}function xk(n){let e=null;function t(){return e||(e=n()),e}return new Tr({name:"lazy",read:i=>t().read(i),serializedSize:i=>t().serializedSize(i),write:(i,r)=>t().write(i,r),serialize:(i,r)=>t().serialize(i,r).toBytes()})}const T={u8(n){return Jf({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...n})},u16(n){return Jf({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...n})},u32(n){return Jf({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...n})},u64(n){return eu({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...n})},u128(n){return eu({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...n})},u256(n){return eu({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...n})},bool(n){return _h({name:"bool",size:1,read:e=>e.read8()===1,write:(e,t)=>t.write8(e?1:0),...n,validate:e=>{var t;if((t=n==null?void 0:n.validate)==null||t.call(n,e),typeof e!="boolean")throw new TypeError(`Expected boolean, found ${typeof e}`)}})},uleb128(n){return bk({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(Bp(e)),...n})},bytes(n,e){return _h({name:`bytes[${n}]`,size:n,read:t=>t.readBytes(n),write:(t,i)=>{for(let r=0;r<n;r++)i.write8(t[r]??0)},...e,validate:t=>{var i;if((i=e==null?void 0:e.validate)==null||i.call(e,t),!t||typeof t!="object"||!("length"in t))throw new TypeError(`Expected array, found ${typeof t}`);if(t.length!==n)throw new TypeError(`Expected array of length ${n}, found ${t.length}`)}})},string(n){return vk({name:"string",toBytes:e=>new TextEncoder().encode(e),fromBytes:e=>new TextDecoder().decode(e),...n})},fixedArray(n,e,t){return new Tr({name:`${e.name}[${n}]`,read:i=>{const r=new Array(n);for(let s=0;s<n;s++)r[s]=e.read(i);return r},write:(i,r)=>{for(const s of i)e.write(s,r)},...t,validate:i=>{var r;if((r=t==null?void 0:t.validate)==null||r.call(t,i),!i||typeof i!="object"||!("length"in i))throw new TypeError(`Expected array, found ${typeof i}`);if(i.length!==n)throw new TypeError(`Expected array of length ${n}, found ${i.length}`)}})},option(n){return T.enum(`Option<${n.name}>`,{None:null,Some:n}).transform({input:e=>e==null?{None:!0}:{Some:e},output:e=>e.$kind==="Some"?e.Some:null})},vector(n,e){return new Tr({name:`vector<${n.name}>`,read:t=>{const i=t.readULEB(),r=new Array(i);for(let s=0;s<i;s++)r[s]=n.read(t);return r},write:(t,i)=>{i.writeULEB(t.length);for(const r of t)n.write(r,i)},...e,validate:t=>{var i;if((i=e==null?void 0:e.validate)==null||i.call(e,t),!t||typeof t!="object"||!("length"in t))throw new TypeError(`Expected array, found ${typeof t}`)}})},tuple(n,e){return new Tr({name:`(${n.map(t=>t.name).join(", ")})`,serializedSize:t=>{let i=0;for(let r=0;r<n.length;r++){const s=n[r].serializedSize(t[r]);if(s==null)return null;i+=s}return i},read:t=>{const i=[];for(const r of n)i.push(r.read(t));return i},write:(t,i)=>{for(let r=0;r<n.length;r++)n[r].write(t[r],i)},...e,validate:t=>{var i;if((i=e==null?void 0:e.validate)==null||i.call(e,t),!Array.isArray(t))throw new TypeError(`Expected array, found ${typeof t}`);if(t.length!==n.length)throw new TypeError(`Expected array of length ${n.length}, found ${t.length}`)}})},struct(n,e,t){const i=Object.entries(e);return new Tr({name:n,serializedSize:r=>{let s=0;for(const[o,a]of i){const l=a.serializedSize(r[o]);if(l==null)return null;s+=l}return s},read:r=>{const s={};for(const[o,a]of i)s[o]=a.read(r);return s},write:(r,s)=>{for(const[o,a]of i)a.write(r[o],s)},...t,validate:r=>{var s;if((s=t==null?void 0:t.validate)==null||s.call(t,r),typeof r!="object"||r==null)throw new TypeError(`Expected object, found ${typeof r}`)}})},enum(n,e,t){const i=Object.entries(e);return new Tr({name:n,read:r=>{const s=r.readULEB(),o=i[s];if(!o)throw new TypeError(`Unknown value ${s} for enum ${n}`);const[a,l]=o;return{[a]:(l==null?void 0:l.read(r))??!0,$kind:a}},write:(r,s)=>{const[o,a]=Object.entries(r).filter(([l])=>Object.hasOwn(e,l))[0];for(let l=0;l<i.length;l++){const[c,h]=i[l];if(c===o){s.writeULEB(l),h==null||h.write(a,s);return}}},...t,validate:r=>{var a;if((a=t==null?void 0:t.validate)==null||a.call(t,r),typeof r!="object"||r==null)throw new TypeError(`Expected object, found ${typeof r}`);const s=Object.keys(r).filter(l=>r[l]!==void 0&&Object.hasOwn(e,l));if(s.length!==1)throw new TypeError(`Expected object with one key, but found ${s.length} for type ${n}}`);const[o]=s;if(!Object.hasOwn(e,o))throw new TypeError(`Invalid enum variant ${o}`)}})},map(n,e){return T.vector(T.tuple([n,e])).transform({name:`Map<${n.name}, ${e.name}>`,input:t=>[...t.entries()],output:t=>{const i=new Map;for(const[r,s]of t)i.set(r,s);return i}})},lazy(n){return xk(n)}};function Dr(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function wk(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Ri(n,...e){if(!wk(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function Xy(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Dr(n.outputLen),Dr(n.blockLen)}function oa(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Vy(n,e){Ri(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const Co=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ah=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),Ks=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Xi=(n,e)=>n<<32-e|n>>>e,fc=(n,e)=>n<<e|n>>>32-e>>>0,qs=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,zy=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255,kr=qs?n=>n:n=>zy(n);function Mo(n){for(let e=0;e<n.length;e++)n[e]=zy(n[e])}const Sk=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function wf(n){Ri(n);let e="";for(let t=0;t<n.length;t++)e+=Sk[n[t]];return e}const br={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function bO(n){if(n>=br._0&&n<=br._9)return n-br._0;if(n>=br._A&&n<=br._F)return n-(br._A-10);if(n>=br._a&&n<=br._f)return n-(br._a-10)}function kk(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(t);for(let r=0,s=0;r<t;r++,s+=2){const o=bO(n.charCodeAt(s)),a=bO(n.charCodeAt(s+1));if(o===void 0||a===void 0){const l=n[s]+n[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}i[r]=o*16+a}return i}function Wy(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function ar(n){return typeof n=="string"&&(n=Wy(n)),Ri(n),n}function Ha(...n){let e=0;for(let i=0;i<n.length;i++){const r=n[i];Ri(r),e+=r.length}const t=new Uint8Array(e);for(let i=0,r=0;i<n.length;i++){const s=n[i];t.set(s,r),r+=s.length}return t}class Lp{clone(){return this._cloneInto()}}const $k={}.toString;function Qk(n,e){if(e!==void 0&&$k.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(n,e)}function qp(n){const e=i=>n().update(ar(i)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function Pk(n){const e=(i,r)=>n(r).update(ar(i)).digest(),t=n({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=i=>n(i),e}function Yy(n=32){if(Co&&typeof Co.getRandomValues=="function")return Co.getRandomValues(new Uint8Array(n));if(Co&&typeof Co.randomBytes=="function")return Co.randomBytes(n);throw new Error("crypto.getRandomValues must be defined")}const _k=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class Ak extends Lp{constructor(e,t,i={},r,s,o){if(super(),this.blockLen=e,this.outputLen=t,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,Dr(e),Dr(t),Dr(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");if(i.key!==void 0&&(i.key.length<1||i.key.length>r))throw new Error(`key must be up 1..${r} byte long or undefined`);if(i.salt!==void 0&&i.salt.length!==s)throw new Error(`salt must be ${s} byte long or undefined`);if(i.personalization!==void 0&&i.personalization.length!==o)throw new Error(`personalization must be ${o} byte long or undefined`);this.buffer32=Ah(this.buffer=new Uint8Array(e))}update(e){oa(this);const{blockLen:t,buffer:i,buffer32:r}=this;e=ar(e);const s=e.length,o=e.byteOffset,a=e.buffer;for(let l=0;l<s;){this.pos===t&&(qs||Mo(r),this.compress(r,0,!1),qs||Mo(r),this.pos=0);const c=Math.min(t-this.pos,s-l),h=o+l;if(c===t&&!(h%4)&&l+c<s){const f=new Uint32Array(a,h,Math.floor((s-l)/4));qs||Mo(f);for(let u=0;l+t<s;u+=r.length,l+=t)this.length+=t,this.compress(f,u,!1);qs||Mo(f);continue}i.set(e.subarray(l,l+c),this.pos),this.pos+=c,this.length+=c,l+=c}return this}digestInto(e){oa(this),Vy(e,this);const{pos:t,buffer32:i}=this;this.finished=!0,this.buffer.subarray(t).fill(0),qs||Mo(i),this.compress(i,0,!0),qs||Mo(i);const r=Ah(e);this.get().forEach((s,o)=>r[o]=kr(s))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const i=e.slice(0,t);return this.destroy(),i}_cloneInto(e){const{buffer:t,length:i,finished:r,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.length=i,e.finished=r,e.destroyed=s,e.outputLen=o,e.buffer.set(t),e.pos=a,e}}const uc=BigInt(2**32-1),id=BigInt(32);function Gy(n,e=!1){return e?{h:Number(n&uc),l:Number(n>>id&uc)}:{h:Number(n>>id&uc)|0,l:Number(n&uc)|0}}function Ek(n,e=!1){let t=new Uint32Array(n.length),i=new Uint32Array(n.length);for(let r=0;r<n.length;r++){const{h:s,l:o}=Gy(n[r],e);[t[r],i[r]]=[s,o]}return[t,i]}const Tk=(n,e)=>BigInt(n>>>0)<<id|BigInt(e>>>0),Ck=(n,e,t)=>n>>>t,Mk=(n,e,t)=>n<<32-t|e>>>t,Zk=(n,e,t)=>n>>>t|e<<32-t,Rk=(n,e,t)=>n<<32-t|e>>>t,Ik=(n,e,t)=>n<<64-t|e>>>t-32,jk=(n,e,t)=>n>>>t-32|e<<64-t,Bk=(n,e)=>e,Dk=(n,e)=>n,Lk=(n,e,t)=>n<<t|e>>>32-t,qk=(n,e,t)=>e<<t|n>>>32-t,Nk=(n,e,t)=>e<<t-32|n>>>64-t,Uk=(n,e,t)=>n<<t-32|e>>>64-t;function Xk(n,e,t,i){const r=(e>>>0)+(i>>>0);return{h:n+t+(r/2**32|0)|0,l:r|0}}const Vk=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),zk=(n,e,t,i)=>e+t+i+(n/2**32|0)|0,Wk=(n,e,t,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(i>>>0),Yk=(n,e,t,i,r)=>e+t+i+r+(n/2**32|0)|0,Gk=(n,e,t,i,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(i>>>0)+(r>>>0),Fk=(n,e,t,i,r,s)=>e+t+i+r+s+(n/2**32|0)|0,Qe={fromBig:Gy,split:Ek,toBig:Tk,shrSH:Ck,shrSL:Mk,rotrSH:Zk,rotrSL:Rk,rotrBH:Ik,rotrBL:jk,rotr32H:Bk,rotr32L:Dk,rotlSH:Lk,rotlSL:qk,rotlBH:Nk,rotlBL:Uk,add:Xk,add3L:Vk,add3H:zk,add4L:Wk,add4H:Yk,add5H:Fk,add5L:Gk},ln=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),he=new Uint32Array(32);function Kr(n,e,t,i,r,s){const o=r[s],a=r[s+1];let l=he[2*n],c=he[2*n+1],h=he[2*e],f=he[2*e+1],u=he[2*t],d=he[2*t+1],g=he[2*i],m=he[2*i+1],O=Qe.add3L(l,h,o);c=Qe.add3H(O,c,f,a),l=O|0,{Dh:m,Dl:g}={Dh:m^c,Dl:g^l},{Dh:m,Dl:g}={Dh:Qe.rotr32H(m,g),Dl:Qe.rotr32L(m,g)},{h:d,l:u}=Qe.add(d,u,m,g),{Bh:f,Bl:h}={Bh:f^d,Bl:h^u},{Bh:f,Bl:h}={Bh:Qe.rotrSH(f,h,24),Bl:Qe.rotrSL(f,h,24)},he[2*n]=l,he[2*n+1]=c,he[2*e]=h,he[2*e+1]=f,he[2*t]=u,he[2*t+1]=d,he[2*i]=g,he[2*i+1]=m}function Jr(n,e,t,i,r,s){const o=r[s],a=r[s+1];let l=he[2*n],c=he[2*n+1],h=he[2*e],f=he[2*e+1],u=he[2*t],d=he[2*t+1],g=he[2*i],m=he[2*i+1],O=Qe.add3L(l,h,o);c=Qe.add3H(O,c,f,a),l=O|0,{Dh:m,Dl:g}={Dh:m^c,Dl:g^l},{Dh:m,Dl:g}={Dh:Qe.rotrSH(m,g,16),Dl:Qe.rotrSL(m,g,16)},{h:d,l:u}=Qe.add(d,u,m,g),{Bh:f,Bl:h}={Bh:f^d,Bl:h^u},{Bh:f,Bl:h}={Bh:Qe.rotrBH(f,h,63),Bl:Qe.rotrBL(f,h,63)},he[2*n]=l,he[2*n+1]=c,he[2*e]=h,he[2*e+1]=f,he[2*t]=u,he[2*t+1]=d,he[2*i]=g,he[2*i+1]=m}class Hk extends Ak{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=ln[0]|0,this.v0h=ln[1]|0,this.v1l=ln[2]|0,this.v1h=ln[3]|0,this.v2l=ln[4]|0,this.v2h=ln[5]|0,this.v3l=ln[6]|0,this.v3h=ln[7]|0,this.v4l=ln[8]|0,this.v4h=ln[9]|0,this.v5l=ln[10]|0,this.v5h=ln[11]|0,this.v6l=ln[12]|0,this.v6h=ln[13]|0,this.v7l=ln[14]|0,this.v7h=ln[15]|0;const t=e.key?e.key.length:0;if(this.v0l^=this.outputLen|t<<8|65536|1<<24,e.salt){const i=Ah(ar(e.salt));this.v4l^=kr(i[0]),this.v4h^=kr(i[1]),this.v5l^=kr(i[2]),this.v5h^=kr(i[3])}if(e.personalization){const i=Ah(ar(e.personalization));this.v6l^=kr(i[0]),this.v6h^=kr(i[1]),this.v7l^=kr(i[2]),this.v7h^=kr(i[3])}if(e.key){const i=new Uint8Array(this.blockLen);i.set(ar(e.key)),this.update(i)}}get(){let{v0l:e,v0h:t,v1l:i,v1h:r,v2l:s,v2h:o,v3l:a,v3h:l,v4l:c,v4h:h,v5l:f,v5h:u,v6l:d,v6h:g,v7l:m,v7h:O}=this;return[e,t,i,r,s,o,a,l,c,h,f,u,d,g,m,O]}set(e,t,i,r,s,o,a,l,c,h,f,u,d,g,m,O){this.v0l=e|0,this.v0h=t|0,this.v1l=i|0,this.v1h=r|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=l|0,this.v4l=c|0,this.v4h=h|0,this.v5l=f|0,this.v5h=u|0,this.v6l=d|0,this.v6h=g|0,this.v7l=m|0,this.v7h=O|0}compress(e,t,i){this.get().forEach((l,c)=>he[c]=l),he.set(ln,16);let{h:r,l:s}=Qe.fromBig(BigInt(this.length));he[24]=ln[8]^s,he[25]=ln[9]^r,i&&(he[28]=~he[28],he[29]=~he[29]);let o=0;const a=_k;for(let l=0;l<12;l++)Kr(0,4,8,12,e,t+2*a[o++]),Jr(0,4,8,12,e,t+2*a[o++]),Kr(1,5,9,13,e,t+2*a[o++]),Jr(1,5,9,13,e,t+2*a[o++]),Kr(2,6,10,14,e,t+2*a[o++]),Jr(2,6,10,14,e,t+2*a[o++]),Kr(3,7,11,15,e,t+2*a[o++]),Jr(3,7,11,15,e,t+2*a[o++]),Kr(0,5,10,15,e,t+2*a[o++]),Jr(0,5,10,15,e,t+2*a[o++]),Kr(1,6,11,12,e,t+2*a[o++]),Jr(1,6,11,12,e,t+2*a[o++]),Kr(2,7,8,13,e,t+2*a[o++]),Jr(2,7,8,13,e,t+2*a[o++]),Kr(3,4,9,14,e,t+2*a[o++]),Jr(3,4,9,14,e,t+2*a[o++]);this.v0l^=he[0]^he[16],this.v0h^=he[1]^he[17],this.v1l^=he[2]^he[18],this.v1h^=he[3]^he[19],this.v2l^=he[4]^he[20],this.v2h^=he[5]^he[21],this.v3l^=he[6]^he[22],this.v3h^=he[7]^he[23],this.v4l^=he[8]^he[24],this.v4h^=he[9]^he[25],this.v5l^=he[10]^he[26],this.v5h^=he[11]^he[27],this.v6l^=he[12]^he[28],this.v6h^=he[13]^he[29],this.v7l^=he[14]^he[30],this.v7h^=he[15]^he[31],he.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const aa=Pk(n=>new Hk(n));var Rs={},vO;function Kk(){if(vO)return Rs;vO=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.bech32m=Rs.bech32=void 0;const n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={};for(let c=0;c<n.length;c++){const h=n.charAt(c);e[h]=c}function t(c){const h=c>>25;return(c&33554431)<<5^-(h>>0&1)&996825010^-(h>>1&1)&642813549^-(h>>2&1)&513874426^-(h>>3&1)&1027748829^-(h>>4&1)&705979059}function i(c){let h=1;for(let f=0;f<c.length;++f){const u=c.charCodeAt(f);if(u<33||u>126)return"Invalid prefix ("+c+")";h=t(h)^u>>5}h=t(h);for(let f=0;f<c.length;++f){const u=c.charCodeAt(f);h=t(h)^u&31}return h}function r(c,h,f,u){let d=0,g=0;const m=(1<<f)-1,O=[];for(let b=0;b<c.length;++b)for(d=d<<h|c[b],g+=h;g>=f;)g-=f,O.push(d>>g&m);if(u)g>0&&O.push(d<<f-g&m);else{if(g>=h)return"Excess padding";if(d<<f-g&m)return"Non-zero padding"}return O}function s(c){return r(c,8,5,!0)}function o(c){const h=r(c,5,8,!1);if(Array.isArray(h))return h}function a(c){const h=r(c,5,8,!1);if(Array.isArray(h))return h;throw new Error(h)}function l(c){let h;c==="bech32"?h=1:h=734539939;function f(m,O,b){if(b=b||90,m.length+7+O.length>b)throw new TypeError("Exceeds length limit");m=m.toLowerCase();let $=i(m);if(typeof $=="string")throw new Error($);let Q=m+"1";for(let P=0;P<O.length;++P){const k=O[P];if(k>>5)throw new Error("Non 5-bit word");$=t($)^k,Q+=n.charAt(k)}for(let P=0;P<6;++P)$=t($);$^=h;for(let P=0;P<6;++P){const k=$>>(5-P)*5&31;Q+=n.charAt(k)}return Q}function u(m,O){if(O=O||90,m.length<8)return m+" too short";if(m.length>O)return"Exceeds length limit";const b=m.toLowerCase(),$=m.toUpperCase();if(m!==b&&m!==$)return"Mixed-case string "+m;m=b;const Q=m.lastIndexOf("1");if(Q===-1)return"No separator character for "+m;if(Q===0)return"Missing prefix for "+m;const P=m.slice(0,Q),k=m.slice(Q+1);if(k.length<6)return"Data too short";let A=i(P);if(typeof A=="string")return A;const E=[];for(let M=0;M<k.length;++M){const C=k.charAt(M),j=e[C];if(j===void 0)return"Unknown character "+C;A=t(A)^j,!(M+6>=k.length)&&E.push(j)}return A!==h?"Invalid checksum for "+m:{prefix:P,words:E}}function d(m,O){const b=u(m,O);if(typeof b=="object")return b}function g(m,O){const b=u(m,O);if(typeof b=="object")return b;throw new Error(b)}return{decodeUnsafe:d,decode:g,encode:f,toWords:s,fromWordsUnsafe:o,fromWords:a}}return Rs.bech32=l("bech32"),Rs.bech32m=l("bech32m"),Rs}var Eh=Kk();const Jk=32;function xO(n){try{return sa(n).length===Jk}catch{return!1}}const Sf=32;function li(n){return e2(n)&&t2(n)===Sf}function Da(n){return li(n)}function wt(n,e=!1){let t=n.toLowerCase();return!e&&t.startsWith("0x")&&(t=t.slice(2)),`0x${t.padStart(Sf*2,"0")}`}function Fi(n,e=!1){return wt(n,e)}function e2(n){return/^(0x|0X)?[a-fA-F0-9]+$/.test(n)&&n.length%2===0}function t2(n){return/^(0x|0X)/.test(n)?(n.length-2)/2:n.length/2}const n2=/^vector<(.+)>$/,i2=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class Hi{static parseFromStr(e,t=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};const i=e.match(n2);if(i)return{vector:Hi.parseFromStr(i[1],t)};const r=e.match(i2);if(r)return{struct:{address:t?wt(r[1]):r[1],module:r[2],name:r[3],typeParams:r[5]===void 0?[]:Hi.parseStructTypeArgs(r[5],t)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){return gk(e).map(i=>Hi.parseFromStr(i,t))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${Hi.tagToString(e.vector)}>`;if("struct"in e){const t=e.struct,i=t.typeParams.map(Hi.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${i?`<${i}>`:""}`}throw new Error("Invalid TypeTag")}}function r2(n){return T.u64({name:"unsafe_u64",...n}).transform({input:e=>e,output:e=>Number(e)})}function s2(n){return T.enum("Option",{None:null,Some:n})}const tn=T.bytes(Sf).transform({validate:n=>{const e=typeof n=="string"?n:Wn(n);if(!e||!li(wt(e)))throw new Error(`Invalid IOTA address ${e}`)},input:n=>typeof n=="string"?Hs(wt(n)):n,output:n=>wt(Wn(n))}),ps=T.vector(T.u8()).transform({name:"ObjectDigest",input:n=>sa(n),output:n=>zl(new Uint8Array(n)),validate:n=>{if(sa(n).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),Th=T.struct("IotaObjectRef",{objectId:tn,version:T.u64(),digest:ps}),Fy=T.struct("SharedObjectRef",{objectId:tn,initialSharedVersion:T.u64(),mutable:T.bool()}),Hy=T.enum("ObjectArg",{ImmOrOwnedObject:Th,SharedObject:Fy,Receiving:Th}),Ky=T.enum("CallArg",{Pure:T.struct("Pure",{bytes:T.vector(T.u8()).transform({input:n=>typeof n=="string"?Tn(n):n,output:n=>Dt(new Uint8Array(n))})}),Object:Hy}),Np=T.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:T.lazy(()=>Np),struct:T.lazy(()=>rb),u16:null,u32:null,u256:null}),Up=Np.transform({input:n=>typeof n=="string"?Hi.parseFromStr(n,!0):n,output:n=>Hi.tagToString(n)}),Gi=T.enum("Argument",{GasCoin:null,Input:T.u16(),Result:T.u16(),NestedResult:T.tuple([T.u16(),T.u16()])}),Jy=T.struct("ProgrammableMoveCall",{package:tn,module:T.string(),function:T.string(),typeArguments:T.vector(Up),arguments:T.vector(Gi)}),eb=T.enum("Command",{MoveCall:Jy,TransferObjects:T.struct("TransferObjects",{objects:T.vector(Gi),address:Gi}),SplitCoins:T.struct("SplitCoins",{coin:Gi,amounts:T.vector(Gi)}),MergeCoins:T.struct("MergeCoins",{destination:Gi,sources:T.vector(Gi)}),Publish:T.struct("Publish",{modules:T.vector(T.vector(T.u8()).transform({input:n=>typeof n=="string"?Tn(n):n,output:n=>Dt(new Uint8Array(n))})),dependencies:T.vector(tn)}),MakeMoveVec:T.struct("MakeMoveVec",{type:s2(Up).transform({input:n=>n===null?{None:!0}:{Some:n},output:n=>n.Some??null}),elements:T.vector(Gi)}),Upgrade:T.struct("Upgrade",{modules:T.vector(T.vector(T.u8()).transform({input:n=>typeof n=="string"?Tn(n):n,output:n=>Dt(new Uint8Array(n))})),dependencies:T.vector(tn),package:tn,ticket:Gi})}),tb=T.struct("ProgrammableTransaction",{inputs:T.vector(Ky),commands:T.vector(eb)}),nb=T.enum("TransactionKind",{ProgrammableTransaction:tb,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),ib=T.enum("TransactionExpiration",{None:null,Epoch:r2()}),rb=T.struct("StructTag",{address:tn,module:T.string(),name:T.string(),typeParams:T.vector(Np)}),sb=T.struct("GasData",{payment:T.vector(Th),owner:tn,price:T.u64(),budget:T.u64()}),ob=T.struct("TransactionDataV1",{kind:nb,sender:tn,gasData:sb,expiration:ib}),ab=T.enum("TransactionData",{V1:ob}),lb=T.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),cb=T.enum("IntentVersion",{V0:null}),hb=T.enum("AppId",{Iota:null}),fb=T.struct("Intent",{scope:lb,version:cb,appId:hb});function ub(n){return T.struct(`IntentMessage<${n.name}>`,{intent:fb,value:n})}const db=T.enum("CompressedSignature",{ED25519:T.fixedArray(64,T.u8()),Secp256k1:T.fixedArray(64,T.u8()),Secp256r1:T.fixedArray(64,T.u8())}),pb=T.enum("PublicKey",{ED25519:T.fixedArray(32,T.u8()),Secp256k1:T.fixedArray(33,T.u8()),Secp256r1:T.fixedArray(33,T.u8())}),gb=T.struct("MultiSigPkMap",{pubKey:pb,weight:T.u8()}),Ob=T.struct("MultiSigPublicKey",{pk_map:T.vector(gb),threshold:T.u16()}),o2=T.struct("MultiSig",{sigs:T.vector(db),bitmap:T.u16(),multisig_pk:Ob}),a2=T.vector(T.u8()).transform({input:n=>typeof n=="string"?Tn(n):n,output:n=>Dt(new Uint8Array(n))}),mb=T.struct("SenderSignedTransaction",{intentMessage:ub(ab),txSignatures:T.vector(a2)}),l2=T.vector(mb,{name:"SenderSignedData"}),c2=T.enum("PackageUpgradeError",{UnableToFetchPackage:T.struct("UnableToFetchPackage",{packageId:tn}),NotAPackage:T.struct("NotAPackage",{objectId:tn}),IncompatibleUpgrade:null,DigestDoesNotMatch:T.struct("DigestDoesNotMatch",{digest:T.vector(T.u8())}),UnknownUpgradePolicy:T.struct("UnknownUpgradePolicy",{policy:T.u8()}),PackageIDDoesNotMatch:T.struct("PackageIDDoesNotMatch",{packageId:tn,ticketId:tn})}),h2=T.struct("ModuleId",{address:tn,name:T.string()}),wO=T.struct("MoveLocation",{module:h2,function:T.u16(),instruction:T.u16(),functionName:T.option(T.string())}),f2=T.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:T.struct("IndexOutOfBounds",{idx:T.u16()}),SecondaryIndexOutOfBounds:T.struct("SecondaryIndexOutOfBounds",{resultIdx:T.u16(),secondaryIdx:T.u16()}),InvalidResultArity:T.struct("InvalidResultArity",{resultIdx:T.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),u2=T.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),d2=T.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:T.struct("MoveObjectTooBig",{objectSize:T.u64(),maxObjectSize:T.u64()}),MovePackageTooBig:T.struct("MovePackageTooBig",{objectSize:T.u64(),maxObjectSize:T.u64()}),CircularObjectOwnership:T.struct("CircularObjectOwnership",{object:tn}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,IotaMoveVerificationError:null,MovePrimitiveRuntimeError:T.option(wO),MoveAbort:T.tuple([wO,T.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:T.struct("CommandArgumentError",{argIdx:T.u16(),kind:f2}),TypeArgumentError:T.struct("TypeArgumentError",{argumentIdx:T.u16(),kind:u2}),UnusedValueWithoutDrop:T.struct("UnusedValueWithoutDrop",{resultIdx:T.u16(),secondaryIdx:T.u16()}),InvalidPublicFunctionReturnType:T.struct("InvalidPublicFunctionReturnType",{idx:T.u16()}),InvalidTransferObject:null,EffectsTooLarge:T.struct("EffectsTooLarge",{currentSize:T.u64(),maxSize:T.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:T.struct("PackageUpgradeError",{upgradeError:c2}),WrittenObjectsTooLarge:T.struct("WrittenObjectsTooLarge",{currentSize:T.u64(),maxSize:T.u64()}),CertificateDenied:null,IotaMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null}),p2=T.enum("ExecutionStatus",{Success:null,Failed:T.struct("ExecutionFailed",{error:d2,command:T.option(T.u64())})}),g2=T.struct("GasCostSummary",{computationCost:T.u64(),computationCostBurned:T.u64(),storageCost:T.u64(),storageRebate:T.u64(),nonRefundableStorageFee:T.u64()}),yb=T.enum("Owner",{AddressOwner:tn,ObjectOwner:tn,Shared:T.struct("Shared",{initialSharedVersion:T.u64()}),Immutable:null}),Xp=T.tuple([T.u64(),ps]),O2=T.enum("ObjectIn",{NotExist:null,Exist:T.tuple([Xp,yb])}),m2=T.enum("ObjectOut",{NotExist:null,ObjectWrite:T.tuple([ps,yb]),PackageWrite:Xp}),y2=T.enum("IDOperation",{None:null,Created:null,Deleted:null}),b2=T.struct("EffectsObjectChange",{inputState:O2,outputState:m2,idOperation:y2}),v2=T.enum("UnchangedSharedKind",{ReadOnlyRoot:Xp,MutateDeleted:T.u64(),ReadDeleted:T.u64(),Cancelled:T.u64(),PerEpochConfig:null}),x2=T.struct("TransactionEffectsV1",{status:p2,executedEpoch:T.u64(),gasUsed:g2,transactionDigest:ps,gasObjectIndex:T.option(T.u32()),eventsDigest:T.option(ps),dependencies:T.vector(ps),lamportVersion:T.u64(),changedObjects:T.vector(T.tuple([tn,b2])),unchangedSharedObjects:T.vector(T.tuple([tn,v2])),auxDataDigest:T.option(ps)}),w2=T.enum("TransactionEffects",{V1:x2}),Ze={...T,U8:T.u8(),U16:T.u16(),U32:T.u32(),U64:T.u64(),U128:T.u128(),U256:T.u256(),ULEB128:T.uleb128(),Bool:T.bool(),String:T.string(),Address:tn,AppId:hb,Argument:Gi,CallArg:Ky,CompressedSignature:db,GasData:sb,Intent:fb,IntentMessage:ub,IntentScope:lb,IntentVersion:cb,MultiSig:o2,MultiSigPkMap:gb,MultiSigPublicKey:Ob,ObjectArg:Hy,ObjectDigest:ps,ProgrammableMoveCall:Jy,ProgrammableTransaction:tb,PublicKey:pb,SenderSignedData:l2,SenderSignedTransaction:mb,SharedObjectRef:Fy,StructTag:rb,IotaObjectRef:Th,Command:eb,TransactionData:ab,TransactionDataV1:ob,TransactionExpiration:ib,TransactionKind:nb,TypeTag:Up,TransactionEffects:w2};function bb(n,e){return Ze.IntentMessage(Ze.fixedArray(e.length,Ze.u8())).serialize({intent:{scope:{[n]:!0},version:{V0:!0},appId:{Iota:!0}},value:e}).toBytes()}const ka={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3},S2={ED25519:32,Secp256k1:33,Secp256r1:33},vb={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig"};function k2({signature:n,signatureScheme:e,publicKey:t}){if(!t)throw new Error("`publicKey` is required");const i=t.toRawBytes(),r=new Uint8Array(1+n.length+i.length);return r.set([ka[e]]),r.set(n,1),r.set(i,1+n.length),Dt(r)}function Vp(n){const e=Tn(n),t=vb[e[0]];switch(t){case"MultiSig":const i=Ze.MultiSig.parse(e.slice(1));return{serializedSignature:n,signatureScheme:t,multisig:i,bytes:e};case"ED25519":case"Secp256k1":case"Secp256r1":const r=S2[t],s=e.slice(1,e.length-r),o=e.slice(1+s.length);return{serializedSignature:n,signatureScheme:t,signature:s,publicKey:o,bytes:e};default:throw new Error("Unsupported signature scheme")}}const Fc=32,xb="iotaprivkey";class $2{async signWithIntent(e,t){const i=bb(t,e),r=aa(i,{dkLen:32});return{signature:k2({signature:await this.sign(r),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:Dt(e)}}async signTransaction(e){return this.signWithIntent(e,"TransactionData")}async signPersonalMessage(e){const{signature:t}=await this.signWithIntent(T.vector(T.u8()).serialize(e).toBytes(),"PersonalMessage");return{bytes:Dt(e),signature:t}}toIotaAddress(){return this.getPublicKey().toIotaAddress()}}class zp extends $2{}function wb(n){const{prefix:e,words:t}=Eh.bech32.decode(n);if(e!==xb)throw new Error("invalid private key prefix");const i=new Uint8Array(Eh.bech32.fromWords(t)),r=i.slice(1);return{schema:vb[i[0]],secretKey:r}}function Wp(n,e){if(n.length!==Fc)throw new Error("Invalid bytes length");const t=ka[e],i=new Uint8Array(n.length+1);return i.set([t]),i.set(n,1),Eh.bech32.encode(xb,Eh.bech32.toWords(i))}class Sb extends Lp{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Xy(e);const i=ar(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,s=new Uint8Array(r);s.set(i.length>r?e.create().update(i).digest():i);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return oa(this),this.iHash.update(e),this}digestInto(e){oa(this),Ri(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:i,finished:r,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=r,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Nr=(n,e,t)=>new Sb(n,e).update(t).digest();Nr.create=(n,e)=>new Sb(n,e);function Q2(n,e,t,i){Xy(n);const r=Qk({dkLen:32,asyncTick:10},i),{c:s,dkLen:o,asyncTick:a}=r;if(Dr(s),Dr(o),Dr(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=ar(e),c=ar(t),h=new Uint8Array(o),f=Nr.create(n,l),u=f._cloneInto().update(c);return{c:s,dkLen:o,asyncTick:a,DK:h,PRF:f,PRFSalt:u}}function P2(n,e,t,i,r){return n.destroy(),e.destroy(),i&&i.destroy(),r.fill(0),t}function _2(n,e,t,i){const{c:r,dkLen:s,DK:o,PRF:a,PRFSalt:l}=Q2(n,e,t,i);let c;const h=new Uint8Array(4),f=Ks(h),u=new Uint8Array(a.outputLen);for(let d=1,g=0;g<s;d++,g+=a.outputLen){const m=o.subarray(g,g+a.outputLen);f.setInt32(0,d,!1),(c=l._cloneInto(c)).update(h).digestInto(u),m.set(u.subarray(0,m.length));for(let O=1;O<r;O++){a._cloneInto(c).update(u).digestInto(u);for(let b=0;b<m.length;b++)m[b]^=u[b]}}return P2(a,l,o,c,u)}function A2(n,e,t,i){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,i);const r=BigInt(32),s=BigInt(4294967295),o=Number(t>>r&s),a=Number(t&s),l=i?4:0,c=i?0:4;n.setUint32(e+l,o,i),n.setUint32(e+c,a,i)}const E2=(n,e,t)=>n&e^~n&t,T2=(n,e,t)=>n&e^n&t^e&t;class Yp extends Lp{constructor(e,t,i,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=i,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ks(this.buffer)}update(e){oa(this);const{view:t,buffer:i,blockLen:r}=this;e=ar(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(r-this.pos,s-o);if(a===r){const l=Ks(e);for(;r<=s-o;o+=r)this.process(l,o);continue}i.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){oa(this),Vy(e,this),this.finished=!0;const{buffer:t,view:i,blockLen:r,isLE:s}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(i,0),o=0);for(let f=o;f<r;f++)t[f]=0;A2(i,r-8,BigInt(this.length*8),s),this.process(i,0);const a=Ks(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const i=e.slice(0,t);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:i,length:r,finished:s,destroyed:o,pos:a}=this;return e.length=r,e.pos=a,e.finished=s,e.destroyed=o,r%t&&e.buffer.set(i),e}}const C2=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),es=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ts=new Uint32Array(64);class M2 extends Yp{constructor(){super(64,32,8,!1),this.A=es[0]|0,this.B=es[1]|0,this.C=es[2]|0,this.D=es[3]|0,this.E=es[4]|0,this.F=es[5]|0,this.G=es[6]|0,this.H=es[7]|0}get(){const{A:e,B:t,C:i,D:r,E:s,F:o,G:a,H:l}=this;return[e,t,i,r,s,o,a,l]}set(e,t,i,r,s,o,a,l){this.A=e|0,this.B=t|0,this.C=i|0,this.D=r|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,t){for(let f=0;f<16;f++,t+=4)ts[f]=e.getUint32(t,!1);for(let f=16;f<64;f++){const u=ts[f-15],d=ts[f-2],g=Xi(u,7)^Xi(u,18)^u>>>3,m=Xi(d,17)^Xi(d,19)^d>>>10;ts[f]=m+ts[f-7]+g+ts[f-16]|0}let{A:i,B:r,C:s,D:o,E:a,F:l,G:c,H:h}=this;for(let f=0;f<64;f++){const u=Xi(a,6)^Xi(a,11)^Xi(a,25),d=h+u+E2(a,l,c)+C2[f]+ts[f]|0,m=(Xi(i,2)^Xi(i,13)^Xi(i,22))+T2(i,r,s)|0;h=c,c=l,l=a,a=o+d|0,o=s,s=r,r=i,i=d+m|0}i=i+this.A|0,r=r+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(i,r,s,o,a,l,c,h)}roundClean(){ts.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Yr=qp(()=>new M2),[Z2,R2]=Qe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),ns=new Uint32Array(80),is=new Uint32Array(80);class I2 extends Yp{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:i,Bl:r,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:h,Fh:f,Fl:u,Gh:d,Gl:g,Hh:m,Hl:O}=this;return[e,t,i,r,s,o,a,l,c,h,f,u,d,g,m,O]}set(e,t,i,r,s,o,a,l,c,h,f,u,d,g,m,O){this.Ah=e|0,this.Al=t|0,this.Bh=i|0,this.Bl=r|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=h|0,this.Fh=f|0,this.Fl=u|0,this.Gh=d|0,this.Gl=g|0,this.Hh=m|0,this.Hl=O|0}process(e,t){for(let Q=0;Q<16;Q++,t+=4)ns[Q]=e.getUint32(t),is[Q]=e.getUint32(t+=4);for(let Q=16;Q<80;Q++){const P=ns[Q-15]|0,k=is[Q-15]|0,A=Qe.rotrSH(P,k,1)^Qe.rotrSH(P,k,8)^Qe.shrSH(P,k,7),E=Qe.rotrSL(P,k,1)^Qe.rotrSL(P,k,8)^Qe.shrSL(P,k,7),M=ns[Q-2]|0,C=is[Q-2]|0,j=Qe.rotrSH(M,C,19)^Qe.rotrBH(M,C,61)^Qe.shrSH(M,C,6),q=Qe.rotrSL(M,C,19)^Qe.rotrBL(M,C,61)^Qe.shrSL(M,C,6),D=Qe.add4L(E,q,is[Q-7],is[Q-16]),G=Qe.add4H(D,A,j,ns[Q-7],ns[Q-16]);ns[Q]=G|0,is[Q]=D|0}let{Ah:i,Al:r,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:h,Eh:f,El:u,Fh:d,Fl:g,Gh:m,Gl:O,Hh:b,Hl:$}=this;for(let Q=0;Q<80;Q++){const P=Qe.rotrSH(f,u,14)^Qe.rotrSH(f,u,18)^Qe.rotrBH(f,u,41),k=Qe.rotrSL(f,u,14)^Qe.rotrSL(f,u,18)^Qe.rotrBL(f,u,41),A=f&d^~f&m,E=u&g^~u&O,M=Qe.add5L($,k,E,R2[Q],is[Q]),C=Qe.add5H(M,b,P,A,Z2[Q],ns[Q]),j=M|0,q=Qe.rotrSH(i,r,28)^Qe.rotrBH(i,r,34)^Qe.rotrBH(i,r,39),D=Qe.rotrSL(i,r,28)^Qe.rotrBL(i,r,34)^Qe.rotrBL(i,r,39),G=i&s^i&a^s&a,I=r&o^r&l^o&l;b=m|0,$=O|0,m=d|0,O=g|0,d=f|0,g=u|0,{h:f,l:u}=Qe.add(c|0,h|0,C|0,j|0),c=a|0,h=l|0,a=s|0,l=o|0,s=i|0,o=r|0;const B=Qe.add3L(j,D,I);i=Qe.add3H(B,C,q,G),r=B|0}({h:i,l:r}=Qe.add(this.Ah|0,this.Al|0,i|0,r|0)),{h:s,l:o}=Qe.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Qe.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:h}=Qe.add(this.Dh|0,this.Dl|0,c|0,h|0),{h:f,l:u}=Qe.add(this.Eh|0,this.El|0,f|0,u|0),{h:d,l:g}=Qe.add(this.Fh|0,this.Fl|0,d|0,g|0),{h:m,l:O}=Qe.add(this.Gh|0,this.Gl|0,m|0,O|0),{h:b,l:$}=Qe.add(this.Hh|0,this.Hl|0,b|0,$|0),this.set(i,r,s,o,a,l,c,h,f,u,d,g,m,O,b,$)}roundClean(){ns.fill(0),is.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const so=qp(()=>new I2);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ch(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Gp(...n){const e=s=>s,t=(s,o)=>a=>s(o(a)),i=n.map(s=>s.encode).reduceRight(t,e),r=n.map(s=>s.decode).reduce(t,e);return{encode:i,decode:r}}function kb(n){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(t=>{if(t<0||t>=n.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${n.length})`);return n[t]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(t=>{if(typeof t!="string")throw new Error(`alphabet.decode: not string element=${t}`);const i=n.indexOf(t);if(i===-1)throw new Error(`Unknown letter: "${t}". Allowed: ${n}`);return i})}}}function $b(n=""){if(typeof n!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let t of e)if(typeof t!="string")throw new Error(`join.encode: non-string input=${t}`);return e.join(n)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(n)}}}function j2(n,e="="){if(typeof e!="string")throw new Error("padding chr should be string");return{encode(t){if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of t)if(typeof i!="string")throw new Error(`padding.encode: non-string input=${i}`);for(;t.length*n%8;)t.push(e);return t},decode(t){if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of t)if(typeof r!="string")throw new Error(`padding.decode: non-string input=${r}`);let i=t.length;if(i*n%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;i>0&&t[i-1]===e;i--)if(!((i-1)*n%8))throw new Error("Invalid padding: string has too much padding");return t.slice(0,i)}}}function rd(n,e,t){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(t<2)throw new Error(`convertRadix: wrong to=${t}, base cannot be less than 2`);if(!Array.isArray(n))throw new Error("convertRadix: data should be array");if(!n.length)return[];let i=0;const r=[],s=Array.from(n);for(s.forEach(o=>{if(o<0||o>=e)throw new Error(`Wrong integer: ${o}`)});;){let o=0,a=!0;for(let l=i;l<s.length;l++){const c=s[l],h=e*o+c;if(!Number.isSafeInteger(h)||e*o/e!==o||h-c!==e*o)throw new Error("convertRadix: carry overflow");o=h%t;const f=Math.floor(h/t);if(s[l]=f,!Number.isSafeInteger(f)||f*t+o!==h)throw new Error("convertRadix: carry overflow");if(a)f?a=!1:i=l;else continue}if(r.push(o),a)break}for(let o=0;o<n.length-1&&n[o]===0;o++)r.push(0);return r.reverse()}const Qb=(n,e)=>e?Qb(e,n%e):n,Mh=(n,e)=>n+(e-Qb(n,e));function sd(n,e,t,i){if(!Array.isArray(n))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(t<=0||t>32)throw new Error(`convertRadix2: wrong to=${t}`);if(Mh(e,t)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${t} carryBits=${Mh(e,t)}`);let r=0,s=0;const o=2**t-1,a=[];for(const l of n){if(l>=2**e)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(r=r<<e|l,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=t;s-=t)a.push((r>>s-t&o)>>>0);r&=2**s-1}if(r=r<<t-s&o,!i&&s>=e)throw new Error("Excess padding");if(!i&&r)throw new Error(`Non-zero padding: ${r}`);return i&&s>0&&a.push(r>>>0),a}function Pb(n){return{encode:e=>{if(!Ch(e))throw new Error("radix.encode input should be Uint8Array");return rd(Array.from(e),2**8,n)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(rd(e,n,2**8))}}}function B2(n,e=!1){if(n<=0||n>32)throw new Error("radix2: bits should be in (0..32]");if(Mh(8,n)>32||Mh(n,8)>32)throw new Error("radix2: carry overflow");return{encode:t=>{if(!Ch(t))throw new Error("radix2.encode input should be Uint8Array");return sd(Array.from(t),8,n,!e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(sd(t,n,8,e))}}}function _b(n,e){if(typeof e!="function")throw new Error("checksum fn should be function");return{encode(t){if(!Ch(t))throw new Error("checksum.encode: input should be Uint8Array");const i=e(t).slice(0,n),r=new Uint8Array(t.length+n);return r.set(t),r.set(i,t.length),r},decode(t){if(!Ch(t))throw new Error("checksum.decode: input should be Uint8Array");const i=t.slice(0,-n),r=e(i).slice(0,n),s=t.slice(-n);for(let o=0;o<n;o++)if(r[o]!==s[o])throw new Error("Invalid checksum");return i}}}const dc={alphabet:kb,chain:Gp,checksum:_b,convertRadix:rd,convertRadix2:sd,radix:Pb,radix2:B2,join:$b,padding:j2},D2=n=>Gp(Pb(58),kb(n),$b("")),L2=D2("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),q2=n=>Gp(_b(4,e=>n(n(e))),L2);/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const N2=n=>n[0]==="";function Ab(n){if(typeof n!="string")throw new TypeError(`Invalid mnemonic type: ${typeof n}`);return n.normalize("NFKD")}function Eb(n){const e=Ab(n),t=e.split(" ");if(![12,15,18,21,24].includes(t.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:t}}function Tb(n){Ri(n,16,20,24,28,32)}function SO(n,e=128){if(Dr(e),e%32!==0||e>256)throw new TypeError("Invalid entropy");return Mb(Yy(e/8),n)}const U2=n=>{const e=8-n.length/4;return new Uint8Array([Yr(n)[0]>>e<<e])};function Cb(n){if(!Array.isArray(n)||n.length!==2048||typeof n[0]!="string")throw new Error("Wordlist: expected array of 2048 strings");return n.forEach(e=>{if(typeof e!="string")throw new Error(`Wordlist: non-string element: ${e}`)}),dc.chain(dc.checksum(1,U2),dc.radix2(11,!0),dc.alphabet(n))}function X2(n,e){const{words:t}=Eb(n),i=Cb(e).decode(t);return Tb(i),i}function Mb(n,e){return Tb(n),Cb(e).encode(n).join(N2(e)?"":" ")}const V2=n=>Ab(`mnemonic${n}`);function Zb(n,e=""){return _2(so,Eb(n).nfkd,V2(e),{c:2048,dkLen:64})}function kO(n){return!!new RegExp("^m\\/44'\\/4218'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(n)}function Rb(n){return!!new RegExp("^m\\/(54|74)'\\/4218'\\/[0-9]+'\\/[0-9]+\\/[0-9]+$").test(n)}function Fp(n){return Zb(n,"")}function z2(n){return Wn(Fp(n))}const W2="ed25519 seed",Y2=2147483648,G2=new RegExp("^m(\\/[0-9]+')+$"),Ib=n=>n.replace("'",""),F2=n=>{const t=Nr.create(so,W2).update(Hs(n)).digest(),i=t.slice(0,32),r=t.slice(32);return{key:i,chainCode:r}},H2=({key:n,chainCode:e},t)=>{const i=new ArrayBuffer(4);new DataView(i).setUint32(0,t);const s=new Uint8Array(1+n.length+i.byteLength);s.set(new Uint8Array(1).fill(0)),s.set(n,1),s.set(new Uint8Array(i,0,i.byteLength),n.length+1);const o=Nr.create(so,e).update(s).digest(),a=o.slice(0,32),l=o.slice(32);return{key:a,chainCode:l}},K2=n=>G2.test(n)?!n.split("/").slice(1).map(Ib).some(isNaN):!1,$O=(n,e,t=Y2)=>{if(!K2(n))throw new Error("Invalid derivation path");const{key:i,chainCode:r}=F2(e);return n.split("/").slice(1).map(Ib).map(o=>parseInt(o,10)).reduce((o,a)=>H2(o,a+t),{key:i,chainCode:r})};function kf(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}class Hp{equals(e){return kf(this.toRawBytes(),e.toRawBytes())}toBase64(){return Dt(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toIotaPublicKey(){const e=this.toIotaBytes();return Dt(e)}verifyWithIntent(e,t,i){const r=bb(i,e),s=aa(r,{dkLen:32});return this.verify(s,t)}verifyPersonalMessage(e,t){return this.verifyWithIntent(Ze.vector(Ze.u8()).serialize(e).toBytes(),t,"PersonalMessage")}verifyTransaction(e,t){return this.verifyWithIntent(e,t,"TransactionData")}toIotaBytes(){const e=this.toRawBytes(),t=new Uint8Array(e.length+1);return t.set([this.flag()]),t.set(e,1),t}toIotaBytesForAddress(){const e=this.toRawBytes();if(this.flag()===ka.ED25519)return e;{const t=new Uint8Array(e.length+1);return t.set([this.flag()]),t.set(e,1),t}}toIotaAddress(){return wt(wf(aa(this.toIotaBytesForAddress(),{dkLen:32})).slice(0,Sf*2))}}const od=32;class Zh extends Hp{constructor(e){if(super(),typeof e=="string"?this.data=Tn(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==od)throw new Error(`Invalid public key input. Expected ${od} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return ka.ED25519}async verify(e,t){let i;if(typeof t=="string"){const r=Vp(t);if(r.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!kf(this.toRawBytes(),r.publicKey))throw new Error("Signature does not match public key");i=r.signature}else i=t;return Ls.sign.detached.verify(e,i,this.toRawBytes())}}Zh.SIZE=od;const QO="m/44'/4218'/0'/0'/0'";class Zr extends zp{constructor(e){super(),e?this.keypair=e:this.keypair=Ls.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new Zr(Ls.sign.keyPair())}static fromSecretKey(e,t){const i=e.length;if(i!==Fc)throw new Error(`Wrong secretKey size. Expected ${Fc} bytes, got ${i}.`);const r=Ls.sign.keyPair.fromSeed(e);if(!t||!t.skipValidation){const o=new TextEncoder().encode("iota validation"),a=Ls.sign.detached(o,r.secretKey);if(!Ls.sign.detached.verify(o,a,r.publicKey))throw new Error("provided secretKey is invalid")}return new Zr(r)}getPublicKey(){return new Zh(this.keypair.publicKey)}getSecretKey(){return Wp(this.keypair.secretKey.slice(0,Fc),this.getKeyScheme())}async sign(e){return Ls.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,t){if(t==null&&(t=QO),!kO(t))throw new Error("Invalid derivation path");const{key:i}=$O(t,z2(e));return Zr.fromSecretKey(i)}static deriveKeypairFromSeed(e,t){if(t==null&&(t=QO),!kO(t))throw new Error("Invalid derivation path");const{key:i}=$O(t,e);return Zr.fromSecretKey(i)}}const J2="ed25519 seed",e$=2147483648,t$=new RegExp("^m(\\/[0-9]+')+$"),jb=n=>n.replace("'",""),n$=n=>{const t=Nr.create(so,J2).update(Hs(n)).digest(),i=t.slice(0,32),r=t.slice(32);return{key:i,chainCode:r}},i$=({key:n,chainCode:e},t)=>{const i=new ArrayBuffer(4);new DataView(i).setUint32(0,t);const s=new Uint8Array(1+n.length+i.byteLength);s.set(new Uint8Array(1).fill(0)),s.set(n,1),s.set(new Uint8Array(i,0,i.byteLength),n.length+1);const o=Nr.create(so,e).update(s).digest(),a=o.slice(0,32),l=o.slice(32);return{key:a,chainCode:l}},r$=n=>t$.test(n)?!n.split("/").slice(1).map(jb).some(isNaN):!1,s$=(n,e,t=e$)=>{if(!r$(n))throw new Error("Invalid derivation path");const{key:i,chainCode:r}=n$(e);return n.split("/").slice(1).map(jb).map(o=>parseInt(o,10)).reduce((o,a)=>i$(o,a+t),{key:i,chainCode:r})},pc=`abandon
ability
able
about
above
absent
absorb
abstract
absurd
abuse
access
accident
account
accuse
achieve
acid
acoustic
acquire
across
act
action
actor
actress
actual
adapt
add
addict
address
adjust
admit
adult
advance
advice
aerobic
affair
afford
afraid
again
age
agent
agree
ahead
aim
air
airport
aisle
alarm
album
alcohol
alert
alien
all
alley
allow
almost
alone
alpha
already
also
alter
always
amateur
amazing
among
amount
amused
analyst
anchor
ancient
anger
angle
angry
animal
ankle
announce
annual
another
answer
antenna
antique
anxiety
any
apart
apology
appear
apple
approve
april
arch
arctic
area
arena
argue
arm
armed
armor
army
around
arrange
arrest
arrive
arrow
art
artefact
artist
artwork
ask
aspect
assault
asset
assist
assume
asthma
athlete
atom
attack
attend
attitude
attract
auction
audit
august
aunt
author
auto
autumn
average
avocado
avoid
awake
aware
away
awesome
awful
awkward
axis
baby
bachelor
bacon
badge
bag
balance
balcony
ball
bamboo
banana
banner
bar
barely
bargain
barrel
base
basic
basket
battle
beach
bean
beauty
because
become
beef
before
begin
behave
behind
believe
below
belt
bench
benefit
best
betray
better
between
beyond
bicycle
bid
bike
bind
biology
bird
birth
bitter
black
blade
blame
blanket
blast
bleak
bless
blind
blood
blossom
blouse
blue
blur
blush
board
boat
body
boil
bomb
bone
bonus
book
boost
border
boring
borrow
boss
bottom
bounce
box
boy
bracket
brain
brand
brass
brave
bread
breeze
brick
bridge
brief
bright
bring
brisk
broccoli
broken
bronze
broom
brother
brown
brush
bubble
buddy
budget
buffalo
build
bulb
bulk
bullet
bundle
bunker
burden
burger
burst
bus
business
busy
butter
buyer
buzz
cabbage
cabin
cable
cactus
cage
cake
call
calm
camera
camp
can
canal
cancel
candy
cannon
canoe
canvas
canyon
capable
capital
captain
car
carbon
card
cargo
carpet
carry
cart
case
cash
casino
castle
casual
cat
catalog
catch
category
cattle
caught
cause
caution
cave
ceiling
celery
cement
census
century
cereal
certain
chair
chalk
champion
change
chaos
chapter
charge
chase
chat
cheap
check
cheese
chef
cherry
chest
chicken
chief
child
chimney
choice
choose
chronic
chuckle
chunk
churn
cigar
cinnamon
circle
citizen
city
civil
claim
clap
clarify
claw
clay
clean
clerk
clever
click
client
cliff
climb
clinic
clip
clock
clog
close
cloth
cloud
clown
club
clump
cluster
clutch
coach
coast
coconut
code
coffee
coil
coin
collect
color
column
combine
come
comfort
comic
common
company
concert
conduct
confirm
congress
connect
consider
control
convince
cook
cool
copper
copy
coral
core
corn
correct
cost
cotton
couch
country
couple
course
cousin
cover
coyote
crack
cradle
craft
cram
crane
crash
crater
crawl
crazy
cream
credit
creek
crew
cricket
crime
crisp
critic
crop
cross
crouch
crowd
crucial
cruel
cruise
crumble
crunch
crush
cry
crystal
cube
culture
cup
cupboard
curious
current
curtain
curve
cushion
custom
cute
cycle
dad
damage
damp
dance
danger
daring
dash
daughter
dawn
day
deal
debate
debris
decade
december
decide
decline
decorate
decrease
deer
defense
define
defy
degree
delay
deliver
demand
demise
denial
dentist
deny
depart
depend
deposit
depth
deputy
derive
describe
desert
design
desk
despair
destroy
detail
detect
develop
device
devote
diagram
dial
diamond
diary
dice
diesel
diet
differ
digital
dignity
dilemma
dinner
dinosaur
direct
dirt
disagree
discover
disease
dish
dismiss
disorder
display
distance
divert
divide
divorce
dizzy
doctor
document
dog
doll
dolphin
domain
donate
donkey
donor
door
dose
double
dove
draft
dragon
drama
drastic
draw
dream
dress
drift
drill
drink
drip
drive
drop
drum
dry
duck
dumb
dune
during
dust
dutch
duty
dwarf
dynamic
eager
eagle
early
earn
earth
easily
east
easy
echo
ecology
economy
edge
edit
educate
effort
egg
eight
either
elbow
elder
electric
elegant
element
elephant
elevator
elite
else
embark
embody
embrace
emerge
emotion
employ
empower
empty
enable
enact
end
endless
endorse
enemy
energy
enforce
engage
engine
enhance
enjoy
enlist
enough
enrich
enroll
ensure
enter
entire
entry
envelope
episode
equal
equip
era
erase
erode
erosion
error
erupt
escape
essay
essence
estate
eternal
ethics
evidence
evil
evoke
evolve
exact
example
excess
exchange
excite
exclude
excuse
execute
exercise
exhaust
exhibit
exile
exist
exit
exotic
expand
expect
expire
explain
expose
express
extend
extra
eye
eyebrow
fabric
face
faculty
fade
faint
faith
fall
false
fame
family
famous
fan
fancy
fantasy
farm
fashion
fat
fatal
father
fatigue
fault
favorite
feature
february
federal
fee
feed
feel
female
fence
festival
fetch
fever
few
fiber
fiction
field
figure
file
film
filter
final
find
fine
finger
finish
fire
firm
first
fiscal
fish
fit
fitness
fix
flag
flame
flash
flat
flavor
flee
flight
flip
float
flock
floor
flower
fluid
flush
fly
foam
focus
fog
foil
fold
follow
food
foot
force
forest
forget
fork
fortune
forum
forward
fossil
foster
found
fox
fragile
frame
frequent
fresh
friend
fringe
frog
front
frost
frown
frozen
fruit
fuel
fun
funny
furnace
fury
future
gadget
gain
galaxy
gallery
game
gap
garage
garbage
garden
garlic
garment
gas
gasp
gate
gather
gauge
gaze
general
genius
genre
gentle
genuine
gesture
ghost
giant
gift
giggle
ginger
giraffe
girl
give
glad
glance
glare
glass
glide
glimpse
globe
gloom
glory
glove
glow
glue
goat
goddess
gold
good
goose
gorilla
gospel
gossip
govern
gown
grab
grace
grain
grant
grape
grass
gravity
great
green
grid
grief
grit
grocery
group
grow
grunt
guard
guess
guide
guilt
guitar
gun
gym
habit
hair
half
hammer
hamster
hand
happy
harbor
hard
harsh
harvest
hat
have
hawk
hazard
head
health
heart
heavy
hedgehog
height
hello
helmet
help
hen
hero
hidden
high
hill
hint
hip
hire
history
hobby
hockey
hold
hole
holiday
hollow
home
honey
hood
hope
horn
horror
horse
hospital
host
hotel
hour
hover
hub
huge
human
humble
humor
hundred
hungry
hunt
hurdle
hurry
hurt
husband
hybrid
ice
icon
idea
identify
idle
ignore
ill
illegal
illness
image
imitate
immense
immune
impact
impose
improve
impulse
inch
include
income
increase
index
indicate
indoor
industry
infant
inflict
inform
inhale
inherit
initial
inject
injury
inmate
inner
innocent
input
inquiry
insane
insect
inside
inspire
install
intact
interest
into
invest
invite
involve
iron
island
isolate
issue
item
ivory
jacket
jaguar
jar
jazz
jealous
jeans
jelly
jewel
job
join
joke
journey
joy
judge
juice
jump
jungle
junior
junk
just
kangaroo
keen
keep
ketchup
key
kick
kid
kidney
kind
kingdom
kiss
kit
kitchen
kite
kitten
kiwi
knee
knife
knock
know
lab
label
labor
ladder
lady
lake
lamp
language
laptop
large
later
latin
laugh
laundry
lava
law
lawn
lawsuit
layer
lazy
leader
leaf
learn
leave
lecture
left
leg
legal
legend
leisure
lemon
lend
length
lens
leopard
lesson
letter
level
liar
liberty
library
license
life
lift
light
like
limb
limit
link
lion
liquid
list
little
live
lizard
load
loan
lobster
local
lock
logic
lonely
long
loop
lottery
loud
lounge
love
loyal
lucky
luggage
lumber
lunar
lunch
luxury
lyrics
machine
mad
magic
magnet
maid
mail
main
major
make
mammal
man
manage
mandate
mango
mansion
manual
maple
marble
march
margin
marine
market
marriage
mask
mass
master
match
material
math
matrix
matter
maximum
maze
meadow
mean
measure
meat
mechanic
medal
media
melody
melt
member
memory
mention
menu
mercy
merge
merit
merry
mesh
message
metal
method
middle
midnight
milk
million
mimic
mind
minimum
minor
minute
miracle
mirror
misery
miss
mistake
mix
mixed
mixture
mobile
model
modify
mom
moment
monitor
monkey
monster
month
moon
moral
more
morning
mosquito
mother
motion
motor
mountain
mouse
move
movie
much
muffin
mule
multiply
muscle
museum
mushroom
music
must
mutual
myself
mystery
myth
naive
name
napkin
narrow
nasty
nation
nature
near
neck
need
negative
neglect
neither
nephew
nerve
nest
net
network
neutral
never
news
next
nice
night
noble
noise
nominee
noodle
normal
north
nose
notable
note
nothing
notice
novel
now
nuclear
number
nurse
nut
oak
obey
object
oblige
obscure
observe
obtain
obvious
occur
ocean
october
odor
off
offer
office
often
oil
okay
old
olive
olympic
omit
once
one
onion
online
only
open
opera
opinion
oppose
option
orange
orbit
orchard
order
ordinary
organ
orient
original
orphan
ostrich
other
outdoor
outer
output
outside
oval
oven
over
own
owner
oxygen
oyster
ozone
pact
paddle
page
pair
palace
palm
panda
panel
panic
panther
paper
parade
parent
park
parrot
party
pass
patch
path
patient
patrol
pattern
pause
pave
payment
peace
peanut
pear
peasant
pelican
pen
penalty
pencil
people
pepper
perfect
permit
person
pet
phone
photo
phrase
physical
piano
picnic
picture
piece
pig
pigeon
pill
pilot
pink
pioneer
pipe
pistol
pitch
pizza
place
planet
plastic
plate
play
please
pledge
pluck
plug
plunge
poem
poet
point
polar
pole
police
pond
pony
pool
popular
portion
position
possible
post
potato
pottery
poverty
powder
power
practice
praise
predict
prefer
prepare
present
pretty
prevent
price
pride
primary
print
priority
prison
private
prize
problem
process
produce
profit
program
project
promote
proof
property
prosper
protect
proud
provide
public
pudding
pull
pulp
pulse
pumpkin
punch
pupil
puppy
purchase
purity
purpose
purse
push
put
puzzle
pyramid
quality
quantum
quarter
question
quick
quit
quiz
quote
rabbit
raccoon
race
rack
radar
radio
rail
rain
raise
rally
ramp
ranch
random
range
rapid
rare
rate
rather
raven
raw
razor
ready
real
reason
rebel
rebuild
recall
receive
recipe
record
recycle
reduce
reflect
reform
refuse
region
regret
regular
reject
relax
release
relief
rely
remain
remember
remind
remove
render
renew
rent
reopen
repair
repeat
replace
report
require
rescue
resemble
resist
resource
response
result
retire
retreat
return
reunion
reveal
review
reward
rhythm
rib
ribbon
rice
rich
ride
ridge
rifle
right
rigid
ring
riot
ripple
risk
ritual
rival
river
road
roast
robot
robust
rocket
romance
roof
rookie
room
rose
rotate
rough
round
route
royal
rubber
rude
rug
rule
run
runway
rural
sad
saddle
sadness
safe
sail
salad
salmon
salon
salt
salute
same
sample
sand
satisfy
satoshi
sauce
sausage
save
say
scale
scan
scare
scatter
scene
scheme
school
science
scissors
scorpion
scout
scrap
screen
script
scrub
sea
search
season
seat
second
secret
section
security
seed
seek
segment
select
sell
seminar
senior
sense
sentence
series
service
session
settle
setup
seven
shadow
shaft
shallow
share
shed
shell
sheriff
shield
shift
shine
ship
shiver
shock
shoe
shoot
shop
short
shoulder
shove
shrimp
shrug
shuffle
shy
sibling
sick
side
siege
sight
sign
silent
silk
silly
silver
similar
simple
since
sing
siren
sister
situate
six
size
skate
sketch
ski
skill
skin
skirt
skull
slab
slam
sleep
slender
slice
slide
slight
slim
slogan
slot
slow
slush
small
smart
smile
smoke
smooth
snack
snake
snap
sniff
snow
soap
soccer
social
sock
soda
soft
solar
soldier
solid
solution
solve
someone
song
soon
sorry
sort
soul
sound
soup
source
south
space
spare
spatial
spawn
speak
special
speed
spell
spend
sphere
spice
spider
spike
spin
spirit
split
spoil
sponsor
spoon
sport
spot
spray
spread
spring
spy
square
squeeze
squirrel
stable
stadium
staff
stage
stairs
stamp
stand
start
state
stay
steak
steel
stem
step
stereo
stick
still
sting
stock
stomach
stone
stool
story
stove
strategy
street
strike
strong
struggle
student
stuff
stumble
style
subject
submit
subway
success
such
sudden
suffer
sugar
suggest
suit
summer
sun
sunny
sunset
super
supply
supreme
sure
surface
surge
surprise
surround
survey
suspect
sustain
swallow
swamp
swap
swarm
swear
sweet
swift
swim
swing
switch
sword
symbol
symptom
syrup
system
table
tackle
tag
tail
talent
talk
tank
tape
target
task
taste
tattoo
taxi
teach
team
tell
ten
tenant
tennis
tent
term
test
text
thank
that
theme
then
theory
there
they
thing
this
thought
three
thrive
throw
thumb
thunder
ticket
tide
tiger
tilt
timber
time
tiny
tip
tired
tissue
title
toast
tobacco
today
toddler
toe
together
toilet
token
tomato
tomorrow
tone
tongue
tonight
tool
tooth
top
topic
topple
torch
tornado
tortoise
toss
total
tourist
toward
tower
town
toy
track
trade
traffic
tragic
train
transfer
trap
trash
travel
tray
treat
tree
trend
trial
tribe
trick
trigger
trim
trip
trophy
trouble
truck
true
truly
trumpet
trust
truth
try
tube
tuition
tumble
tuna
tunnel
turkey
turn
turtle
twelve
twenty
twice
twin
twist
two
type
typical
ugly
umbrella
unable
unaware
uncle
uncover
under
undo
unfair
unfold
unhappy
uniform
unique
unit
universe
unknown
unlock
until
unusual
unveil
update
upgrade
uphold
upon
upper
upset
urban
urge
usage
use
used
useful
useless
usual
utility
vacant
vacuum
vague
valid
valley
valve
van
vanish
vapor
various
vast
vault
vehicle
velvet
vendor
venture
venue
verb
verify
version
very
vessel
veteran
viable
vibrant
vicious
victory
video
view
village
vintage
violin
virtual
virus
visa
visit
visual
vital
vivid
vocal
voice
void
volcano
volume
vote
voyage
wage
wagon
wait
walk
wall
walnut
want
warfare
warm
warrior
wash
wasp
waste
water
wave
way
wealth
weapon
wear
weasel
weather
web
wedding
weekend
weird
welcome
west
wet
whale
what
wheat
wheel
when
where
whip
whisper
wide
width
wife
wild
will
win
window
wine
wing
wink
winner
winter
wire
wisdom
wise
wish
witness
wolf
woman
wonder
wood
wool
word
work
world
worry
worth
wrap
wreck
wrestle
wrist
write
wrong
yard
year
yellow
you
young
youth
zebra
zero
zone
zoo`.split(`
`);var o$=pe(`<main><div class="svelte-1obiie6">For development purposes only, never use with real funds!</div> <br> <button>Generate new</button> <button>Generate new short (&#60;130 chars)</button> <input type="string" size="140" placeholder="24 word BIP-39 mnemonic. For development purposes only, never use with real funds!"> <br> BIP 44 path: <input type="number" list="coinTypes" placeholder="BIP-44 coin type" class="svelte-1obiie6"> <datalist id="coinTypes"><option>IOTA</option><option>Shimmer</option><option>Testnet</option></datalist> <input type="number" min="0" placeholder="account index" class="svelte-1obiie6"> <select><option>0</option><option>1</option></select> <input type="number" width="1" min="0" placeholder="address index" class="svelte-1obiie6"> <br> <div class="svelte-1obiie6">Insert anything and it will generate/convert what's possible:</div> <div class="svelte-1obiie6">Mnemonic entropy: &nbsp;&nbsp;<input type="string" size="70" placeholder="hex mnemonic entropy"></div> <div class="svelte-1obiie6">Seed:
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="string" size="130" placeholder="hex seed"></div> <div class="svelte-1obiie6">Private key bech32:&nbsp;<input type="string" size="75" placeholder="bech32 iotaprivkey"></div> <div class="svelte-1obiie6">Private key hex: &nbsp;&nbsp;&nbsp;<input type="string" size="70" placeholder="hex Ed25519 private key"></div> <div class="svelte-1obiie6">Public key base64:&nbsp;&nbsp;<input type="string" size="70" placeholder="base64 Ed25519 public key"></div> <div class="svelte-1obiie6">Public key:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="string" size="70" placeholder="hex Ed25519 public key"></div> <div class="svelte-1obiie6"> </div> <br> </main>`);function a$(n,e){yt(e,!1);const t=4218,i=4219,r=1;let s=re(t),o=re(0),a=re(0),l=re(0),c=re(""),h=re(""),f=re(""),u=re(""),d=re(""),g=re(""),m=re(""),O=re(""),b=re("");const $=()=>{Me(Q)},Q=()=>{N(c,SO(pc,256)),M()},P=()=>{Me(k)},k=()=>{for(N(c,"");x(c).length==0||x(c).length>129;)N(c,SO(pc,256));M()},A=()=>{Me(E)},E=()=>{N(c,Mb(Hs(x(h)),pc)),j()},M=()=>{Me(C)},C=()=>{N(h,Wn(X2(x(c),pc))),j()},j=()=>{Me(q)},q=()=>{N(f,Wn(Zb(x(c),""))),D()},D=()=>{Me(G)},G=()=>{let _e=it(x(f),`m/44'/${x(s)}'/${x(o)}'/${x(a)}'/${x(l)}'`);N(u,_e.getSecretKey()),N(d,Wn(_e.keypair.secretKey.slice(0,32))),se(_e)},I=()=>{Me(B)},B=()=>{let _e=Zr.fromSecretKey(Hs(x(d)));N(u,_e.getSecretKey()),se(_e)},V=()=>{Me(W)},W=()=>{const{schema:_e,secretKey:kn}=wb(x(u));if(_e!="ED25519")throw"unsupported schema: "+_e;const Oi=Zr.fromSecretKey(kn);N(d,Wn(Oi.keypair.secretKey.slice(0,32))),se(Oi)},se=_e=>{N(b,"");try{N(g,Dt(_e.getPublicKey().toRawBytes())),N(m,Wn(_e.getPublicKey().toRawBytes())),N(O,_e.getPublicKey().toIotaAddress())}catch(kn){try{N(b,JSON.stringify(JSON.parse(kn.message).payload.error))}catch{N(b,kn)}}},be=()=>{Me(Re)},Re=()=>{let _e=Tn(x(g));_e.length==33&&(_e=_e.slice(1)),N(m,Wn(_e)),N(O,new Zh(_e).toIotaAddress())},Pe=()=>{Me(Je)},Je=()=>{let _e=Hs(x(m));N(g,Dt(_e)),N(O,new Zh(_e).toIotaAddress())},Me=_e=>{N(b,"");try{_e()}catch(kn){try{N(b,JSON.stringify(JSON.parse(kn.message).payload.error))}catch{N(b,kn)}}};function it(_e,kn){const{key:Oi}=s$(kn,_e);return Zr.fromSecretKey(Oi)}kt();var ke=o$(),ct=z(J(ke),4),Zn=z(ct,2),mn=z(Zn,2),yn=z(mn,4),gi=z(yn,2),Rn=J(gi);Rn.value=(Rn.__value=t)==null?"":t;var Ct=z(Rn);Ct.value=(Ct.__value=i)==null?"":i;var Xn=z(Ct);Xn.value=(Xn.__value=r)==null?"":r;var Hr=z(gi,2),mr=z(Hr,2);Te(()=>{x(a),Ku(()=>{})});var Ta=J(mr);Ta.value=(Ta.__value=0)==null?"":0;var Ca=z(Ta);Ca.value=(Ca.__value=1)==null?"":1;var xo=z(mr,2),Ui=z(xo,6),Ts=z(J(Ui)),Ma=z(Ui,2),wo=z(J(Ma)),So=z(Ma,2),Cs=z(J(So)),ko=z(So,2),Ms=z(J(ko)),$o=z(ko,2),Qo=z(J($o)),Za=z($o,2),ac=z(J(Za)),Po=z(Za,2),Ra=J(Po),_o=z(Po,3);Te(()=>{je(Ra,`Address:
        ${x(O)??""}`),je(_o,` ${x(b)??""}`)}),Xe("click",ct,()=>$()),Xe("click",Zn,()=>P()),vt(mn,()=>x(c),_e=>N(c,_e)),Xe("input",mn,()=>M()),vt(yn,()=>x(s),_e=>N(s,_e)),Xe("input",yn,()=>D()),vt(Hr,()=>x(o),_e=>N(o,_e)),Xe("input",Hr,()=>D()),$h(mr,()=>x(a),_e=>N(a,_e)),Xe("input",mr,()=>D()),vt(xo,()=>x(l),_e=>N(l,_e)),Xe("input",xo,()=>D()),vt(Ts,()=>x(h),_e=>N(h,_e)),Xe("input",Ts,()=>A()),vt(wo,()=>x(f),_e=>N(f,_e)),Xe("input",wo,()=>D()),vt(Cs,()=>x(u),_e=>N(u,_e)),Xe("input",Cs,()=>V()),vt(Ms,()=>x(d),_e=>N(d,_e)),Xe("input",Ms,()=>I()),vt(Qo,()=>x(g),_e=>N(g,_e)),Xe("input",Qo,()=>be()),vt(ac,()=>x(m),_e=>N(m,_e)),Xe("input",ac,()=>Pe()),ie(n,ke),bt()}var l$=pe('<main><div class="wrapper svelte-6yklfs"><div class="box svelte-6yklfs">Bytes:</div> <div class="box svelte-6yklfs"><input type="string" size="160" placeholder="bytes like: 1, 2, 3"></div> <div class="box svelte-6yklfs">Hex:</div> <div class="box svelte-6yklfs"><input type="string" size="160" placeholder="hex string"></div> <div class="box svelte-6yklfs">Base64:</div> <div class="box svelte-6yklfs"><input type="string" size="160" placeholder="base64 string"></div> <div class="box svelte-6yklfs">Base58:</div> <div class="box svelte-6yklfs"><input type="string" size="160" placeholder="base58 string"></div> <div class="box svelte-6yklfs">UTF-8:</div> <div class="box svelte-6yklfs"><input type="string" size="160" placeholder="UTF-8 string"></div></div> <br> </main>');function c$(n,e){yt(e,!1);let t=re(),i=re(""),r=re(""),s=re(""),o=re(""),a=re("");var l=(C=>(C[C.Bytes=0]="Bytes",C[C.Hex=1]="Hex",C[C.Base58=2]="Base58",C[C.Base64=3]="Base64",C[C.UTF8=4]="UTF8",C))(l||{});function c(C){N(a,"");try{let j;switch(+C){case 0:let q=x(t).trim().split(","),D=[];for(let G of q)Number.isInteger(parseInt(G))&&D.push(parseInt(G,10));j=D;break;case 1:if(x(i).length%2!=0)return;j=h(x(i));break;case 2:j=sa(x(r));break;case 3:j=Tn(x(s));break;case 4:j=new TextEncoder().encode(x(o));break}C!=0&&N(t,j),N(i,Wn(j)),N(r,zl(j)),N(s,Dt(j)),N(o,f(j))}catch(j){try{N(a,JSON.stringify(JSON.parse(j.message).payload.error))}catch{N(a,j)}}}function h(C){var j=/^(0[xX])?[A-Fa-f0-9]+$/;if(!j.test(C))throw console.error("invalid hex"),"invalid hex";C.toLowerCase().startsWith("0x")&&(C=C.slice(2,C.length));for(var q=[],D=0;D<C.length;D+=2){let G=parseInt(C.substr(D,2),16);q.push(G)}return q}function f(C){return new TextDecoder().decode(new Uint8Array(C))}kt();var u=l$(),d=J(u),g=z(J(d),2),m=J(g),O=z(g,4),b=J(O),$=z(O,4),Q=J($),P=z($,4),k=J(P),A=z(P,4),E=J(A),M=z(d,3);Te(()=>je(M,` ${x(a)??""}`)),vt(m,()=>x(t),C=>N(t,C)),Xe("input",m,()=>c(l.Bytes)),vt(b,()=>x(i),C=>N(i,C)),Xe("input",b,()=>c(l.Hex)),vt(Q,()=>x(s),C=>N(s,C)),Xe("input",Q,()=>c(l.Base64)),vt(k,()=>x(r),C=>N(r,C)),Xe("input",k,()=>c(l.Base58)),vt(E,()=>x(o),C=>N(o,C)),Xe("input",E,()=>c(l.UTF8)),ie(n,u),bt()}BigInt(1e9);const h$="0x1",Bb="0x2";Fi("0x6");const f$=`${Bb}::iota::IOTA`,u$=Fi("0x5"),d$="0.5.0",p$="0.9.0-alpha",g$={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};class Db extends Error{}class Lb extends Db{constructor(e,t){super(e),this.code=t,this.type=g$[t]??"ServerError"}}class O$ extends Db{constructor(e,t,i){super(e),this.status=t,this.statusText=i}}var qb=n=>{throw TypeError(n)},Kp=(n,e,t)=>e.has(n)||qb("Cannot "+t),zt=(n,e,t)=>(Kp(n,e,"read from private field"),t?t.call(n):e.get(n)),Is=(n,e,t)=>e.has(n)?qb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Wo=(n,e,t,i)=>(Kp(n,e,"write to private field"),e.set(n,t),t),Nb=(n,e,t)=>(Kp(n,e,"access private method"),t),m$=(n,e,t,i)=>({set _(r){Wo(n,e,r)},get _(){return zt(n,e,i)}}),Ns,ll,_r,Ys,xl,Yo,Rh,Ub,Xb;function y$(n){const e=new URL(n);return e.protocol=e.protocol.replace("http","ws"),e.toString()}const b$={WebSocketConstructor:typeof WebSocket<"u"?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class v${constructor(e,t={}){if(Is(this,Rh),Is(this,Ns,0),Is(this,ll,0),Is(this,_r,null),Is(this,Ys,null),Is(this,xl,new Set),Is(this,Yo,new Map),this.endpoint=e,this.options={...b$,...t},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=y$(this.endpoint))}async makeRequest(e,t){const i=await Nb(this,Rh,Ub).call(this);return new Promise((r,s)=>{Wo(this,Ns,zt(this,Ns)+1),zt(this,Yo).set(zt(this,Ns),{resolve:r,reject:s,timeout:setTimeout(()=>{zt(this,Yo).delete(zt(this,Ns)),s(new Error(`Request timeout: ${e}`))},this.options.callTimeout)}),i.send(JSON.stringify({jsonrpc:"2.0",id:zt(this,Ns),method:e,params:t}))}).then(({error:r,result:s})=>{if(r)throw new Lb(r.message,r.code);return s})}async subscribe(e){const t=new x$(e);return zt(this,xl).add(t),await t.subscribe(this),()=>t.unsubscribe(this)}}Ns=new WeakMap;ll=new WeakMap;_r=new WeakMap;Ys=new WeakMap;xl=new WeakMap;Yo=new WeakMap;Rh=new WeakSet;Ub=function(){return zt(this,Ys)?zt(this,Ys):(Wo(this,Ys,new Promise(n=>{var e;(e=zt(this,_r))==null||e.close(),Wo(this,_r,new this.options.WebSocketConstructor(this.endpoint)),zt(this,_r).addEventListener("open",()=>{Wo(this,ll,0),n(zt(this,_r))}),zt(this,_r).addEventListener("close",()=>{m$(this,ll)._++,zt(this,ll)<=this.options.maxReconnects&&setTimeout(()=>{Nb(this,Rh,Xb).call(this)},this.options.reconnectTimeout)}),zt(this,_r).addEventListener("message",({data:t})=>{let i;try{i=JSON.parse(t)}catch(r){console.error(new Error(`Failed to parse RPC message: ${t}`,{cause:r}));return}if("id"in i&&i.id!=null&&zt(this,Yo).has(i.id)){const{resolve:r,timeout:s}=zt(this,Yo).get(i.id);clearTimeout(s),r(i)}else if("params"in i){const{params:r}=i;zt(this,xl).forEach(s=>{s.subscriptionId===r.subscription&&r.subscription===s.subscriptionId&&s.onMessage(r.result)})}})})),zt(this,Ys))};Xb=async function(){var n;return(n=zt(this,_r))==null||n.close(),Wo(this,Ys,null),Promise.allSettled([...zt(this,xl)].map(e=>e.subscribe(this)))};class x${constructor(e){this.subscriptionId=null,this.subscribed=!1,this.input=e}onMessage(e){this.subscribed&&this.input.onMessage(e)}async unsubscribe(e){const{subscriptionId:t}=this;return this.subscribed=!1,t==null?!1:(this.subscriptionId=null,e.makeRequest(this.input.unsubscribe,[t]))}async subscribe(e){this.subscriptionId=null,this.subscribed=!0;const t=await e.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=t)}}var Vb=n=>{throw TypeError(n)},Jp=(n,e,t)=>e.has(n)||Vb("Cannot "+t),yi=(n,e,t)=>(Jp(n,e,"read from private field"),t?t.call(n):e.get(n)),gc=(n,e,t)=>e.has(n)?Vb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),ad=(n,e,t,i)=>(Jp(n,e,"write to private field"),e.set(n,t),t),w$=(n,e,t)=>(Jp(n,e,"access private method"),t),Ka,Mi,cl,ld,zb;class S${constructor(e){gc(this,ld),gc(this,Ka,0),gc(this,Mi),gc(this,cl),ad(this,Mi,e)}fetch(e,t){const i=yi(this,Mi).fetch??fetch;if(!i)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for IotaHTTPTransport.");return i(e,t)}async request(e){var r,s;ad(this,Ka,yi(this,Ka)+1);const t=await this.fetch(((r=yi(this,Mi).rpc)==null?void 0:r.url)??yi(this,Mi).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":d$,"Client-Target-Api-Version":p$,...(s=yi(this,Mi).rpc)==null?void 0:s.headers},body:JSON.stringify({jsonrpc:"2.0",id:yi(this,Ka),method:e.method,params:e.params})});if(!t.ok)throw new O$(`Unexpected status code: ${t.status}`,t.status,t.statusText);const i=await t.json();if("error"in i&&i.error!=null)throw new Lb(i.error.message,i.error.code);return i.result}async subscribe(e){const t=await w$(this,ld,zb).call(this).subscribe(e);return async()=>!!await t()}}Ka=new WeakMap;Mi=new WeakMap;cl=new WeakMap;ld=new WeakSet;zb=function(){var n;if(!yi(this,cl)){const e=yi(this,Mi).WebSocketConstructor??WebSocket;if(!e)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for IotaHTTPTransport.");ad(this,cl,new v$(((n=yi(this,Mi).websocket)==null?void 0:n.url)??yi(this,Mi).url,{WebSocketConstructor:e,...yi(this,Mi).websocket}))}return yi(this,cl)};const k$="object",$$="ID",Q$="ascii",P$="String",_$="string",A$="String",E$="option",T$="Option";function C$(n){const e=typeof n.body=="object"&&"datatype"in n.body?n.body.datatype:null;return!!e&&wt(e.package)===wt("0x2")&&e.module==="tx_context"&&e.type==="TxContext"}function cd(n){if(typeof n=="string")switch(n){case"address":return Ze.Address;case"bool":return Ze.Bool;case"u8":return Ze.U8;case"u16":return Ze.U16;case"u32":return Ze.U32;case"u64":return Ze.U64;case"u128":return Ze.U128;case"u256":return Ze.U256;default:throw new Error(`Unknown type signature ${n}`)}if("vector"in n){if(n.vector==="u8")return Ze.vector(Ze.U8).transform({input:t=>typeof t=="string"?new TextEncoder().encode(t):t,output:t=>t});const e=cd(n.vector);return e?Ze.vector(e):null}if("datatype"in n){const e=wt(n.datatype.package);if(e===wt(h$)){if(n.datatype.module===Q$&&n.datatype.type===P$||n.datatype.module===_$&&n.datatype.type===A$)return Ze.String;if(n.datatype.module===E$&&n.datatype.type===T$){const t=cd(n.datatype.typeParameters[0]);return t?Ze.vector(t):null}}if(e===wt(Bb)&&n.datatype.module===k$&&n.datatype.type===$$)return Ze.Address}return null}function M$(n){return typeof n=="object"&&"Reference"in n?{ref:"&",body:hl(n.Reference)}:typeof n=="object"&&"MutableReference"in n?{ref:"&mut",body:hl(n.MutableReference)}:{ref:null,body:hl(n)}}function hl(n){if(typeof n=="string")switch(n){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${n}`)}if("Vector"in n)return{vector:hl(n.Vector)};if("Struct"in n)return{datatype:{package:n.Struct.address,module:n.Struct.module,type:n.Struct.name,typeParameters:n.Struct.typeArguments.map(hl)}};if("TypeParameter"in n)return{typeParameter:n.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(n)}`)}function Z$(n){return{$kind:"Pure",Pure:{bytes:n instanceof Uint8Array?Dt(n):n.toBase64()}}}const Rr={Pure:Z$,ObjectRef({objectId:n,digest:e,version:t}){return{$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:e,version:t,objectId:wt(n)}}}},SharedObjectRef({objectId:n,mutable:e,initialSharedVersion:t}){return{$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:e,initialSharedVersion:t,objectId:wt(n)}}}},ReceivingRef({objectId:n,digest:e,version:t}){return{$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:e,version:t,objectId:wt(n)}}}}};var vr;function R$(n){return{lang:(n==null?void 0:n.lang)??(vr==null?void 0:vr.lang),message:n==null?void 0:n.message,abortEarly:(n==null?void 0:n.abortEarly)??(vr==null?void 0:vr.abortEarly),abortPipeEarly:(n==null?void 0:n.abortPipeEarly)??(vr==null?void 0:vr.abortPipeEarly)}}var tu;function I$(n){return tu==null?void 0:tu.get(n)}var nu;function j$(n){return nu==null?void 0:nu.get(n)}var iu;function B$(n,e){var t;return(t=iu==null?void 0:iu.get(n))==null?void 0:t.get(e)}function Wb(n){var t,i;const e=typeof n;return e==="string"?`"${n}"`:e==="number"||e==="bigint"||e==="boolean"?`${n}`:e==="object"||e==="function"?(n&&((i=(t=Object.getPrototypeOf(n))==null?void 0:t.constructor)==null?void 0:i.name))??"null":e}function di(n,e,t,i,r){const s=r&&"input"in r?r.input:t.value,o=(r==null?void 0:r.expected)??n.expects??null,a=(r==null?void 0:r.received)??Wb(s),l={kind:n.kind,type:n.type,input:s,expected:o,received:a,message:`Invalid ${e}: ${o?`Expected ${o} but r`:"R"}eceived ${a}`,requirement:n.requirement,path:r==null?void 0:r.path,issues:r==null?void 0:r.issues,lang:i.lang,abortEarly:i.abortEarly,abortPipeEarly:i.abortPipeEarly},c=n.kind==="schema",h=(r==null?void 0:r.message)??n.message??B$(n.reference,l.lang)??(c?j$(l.lang):null)??i.message??I$(l.lang);h&&(l.message=typeof h=="function"?h(l):h),c&&(t.typed=!1),t.issues?t.issues.push(l):t.issues=[l]}function D$(n,e){return Object.hasOwn(n,e)&&e!=="__proto__"&&e!=="prototype"&&e!=="constructor"}var L$=class extends Error{constructor(e){super(e[0].message);cc(this,"issues");this.name="ValiError",this.issues=e}};function Wl(n,e){return{kind:"validation",type:"check",reference:Wl,async:!1,expects:null,requirement:n,message:e,_run(t,i){return t.typed&&!this.requirement(t.value)&&di(this,"input",t,i),t}}}function Yt(n){return{kind:"validation",type:"integer",reference:Yt,async:!1,expects:null,requirement:Number.isInteger,message:n,_run(e,t){return e.typed&&!this.requirement(e.value)&&di(this,"integer",e,t),e}}}function $f(n){return{kind:"transformation",type:"transform",reference:$f,async:!1,operation:n,_run(e){return e.value=this.operation(e.value),e}}}function eg(n,e,t){return typeof n.default=="function"?n.default(e,t):n.default}function hd(n,e){return!n._run({typed:!1,value:e},{abortEarly:!0}).issues}function Ie(n,e){return{kind:"schema",type:"array",reference:Ie,expects:"Array",async:!1,item:n,message:e,_run(t,i){var s;const r=t.value;if(Array.isArray(r)){t.typed=!0,t.value=[];for(let o=0;o<r.length;o++){const a=r[o],l=this.item._run({typed:!1,value:a},i);if(l.issues){const c={type:"array",origin:"value",input:r,key:o,value:a};for(const h of l.issues)h.path?h.path.unshift(c):h.path=[c],(s=t.issues)==null||s.push(h);if(t.issues||(t.issues=l.issues),i.abortEarly){t.typed=!1;break}}l.typed||(t.typed=!1),t.value.push(l.value)}}else di(this,"type",t,i);return t}}}function tg(n){return{kind:"schema",type:"bigint",reference:tg,expects:"bigint",async:!1,message:n,_run(e,t){return typeof e.value=="bigint"?e.typed=!0:di(this,"type",e,t),e}}}function Qf(n){return{kind:"schema",type:"boolean",reference:Qf,expects:"boolean",async:!1,message:n,_run(e,t){return typeof e.value=="boolean"?e.typed=!0:di(this,"type",e,t),e}}}function wl(n){return{kind:"schema",type:"lazy",reference:wl,expects:"unknown",async:!1,getter:n,_run(e,t){return this.getter(e.value)._run(e,t)}}}function Ue(n,e){return{kind:"schema",type:"literal",reference:Ue,expects:Wb(n),async:!1,literal:n,message:e,_run(t,i){return t.value===this.literal?t.typed=!0:di(this,"type",t,i),t}}}function xt(n,...e){const t={kind:"schema",type:"nullable",reference:xt,expects:`${n.expects} | null`,async:!1,wrapped:n,_run(i,r){return i.value===null&&("default"in this&&(i.value=eg(this,i,r)),i.value===null)?(i.typed=!0,i):this.wrapped._run(i,r)}};return 0 in e&&(t.default=e[0]),t}function la(n,...e){const t={kind:"schema",type:"nullish",reference:la,expects:`${n.expects} | null | undefined`,async:!1,wrapped:n,_run(i,r){return(i.value===null||i.value===void 0)&&("default"in this&&(i.value=eg(this,i,r)),i.value===null||i.value===void 0)?(i.typed=!0,i):this.wrapped._run(i,r)}};return 0 in e&&(t.default=e[0]),t}function Nt(n){return{kind:"schema",type:"number",reference:Nt,expects:"number",async:!1,message:n,_run(e,t){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:di(this,"type",e,t),e}}}function ae(n,e){return{kind:"schema",type:"object",reference:ae,expects:"Object",async:!1,entries:n,message:e,_run(t,i){var s;const r=t.value;if(r&&typeof r=="object"){t.typed=!0,t.value={};for(const o in this.entries){const a=r[o],l=this.entries[o]._run({typed:!1,value:a},i);if(l.issues){const c={type:"object",origin:"value",input:r,key:o,value:a};for(const h of l.issues)h.path?h.path.unshift(c):h.path=[c],(s=t.issues)==null||s.push(h);if(t.issues||(t.issues=l.issues),i.abortEarly){t.typed=!1;break}}l.typed||(t.typed=!1),(l.value!==void 0||o in r)&&(t.value[o]=l.value)}}else di(this,"type",t,i);return t}}}function En(n,...e){const t={kind:"schema",type:"optional",reference:En,expects:`${n.expects} | undefined`,async:!1,wrapped:n,_run(i,r){return i.value===void 0&&("default"in this&&(i.value=eg(this,i,r)),i.value===void 0)?(i.typed=!0,i):this.wrapped._run(i,r)}};return 0 in e&&(t.default=e[0]),t}function Sl(n,e,t){return{kind:"schema",type:"record",reference:Sl,expects:"Object",async:!1,key:n,value:e,message:t,_run(i,r){var o,a;const s=i.value;if(s&&typeof s=="object"){i.typed=!0,i.value={};for(const l in s)if(D$(s,l)){const c=s[l],h=this.key._run({typed:!1,value:l},r);if(h.issues){const u={type:"object",origin:"key",input:s,key:l,value:c};for(const d of h.issues)d.path=[u],(o=i.issues)==null||o.push(d);if(i.issues||(i.issues=h.issues),r.abortEarly){i.typed=!1;break}}const f=this.value._run({typed:!1,value:c},r);if(f.issues){const u={type:"object",origin:"value",input:s,key:l,value:c};for(const d of f.issues)d.path?d.path.unshift(u):d.path=[u],(a=i.issues)==null||a.push(d);if(i.issues||(i.issues=f.issues),r.abortEarly){i.typed=!1;break}}(!h.typed||!f.typed)&&(i.typed=!1),h.typed&&(i.value[h.value]=f.value)}}else di(this,"type",i,r);return i}}}function tt(n){return{kind:"schema",type:"string",reference:tt,expects:"string",async:!1,message:n,_run(e,t){return typeof e.value=="string"?e.typed=!0:di(this,"type",e,t),e}}}function ng(n,e){return{kind:"schema",type:"tuple",reference:ng,expects:"Array",async:!1,items:n,message:e,_run(t,i){var s;const r=t.value;if(Array.isArray(r)){t.typed=!0,t.value=[];for(let o=0;o<this.items.length;o++){const a=r[o],l=this.items[o]._run({typed:!1,value:a},i);if(l.issues){const c={type:"array",origin:"value",input:r,key:o,value:a};for(const h of l.issues)h.path?h.path.unshift(c):h.path=[c],(s=t.issues)==null||s.push(h);if(t.issues||(t.issues=l.issues),i.abortEarly){t.typed=!1;break}}l.typed||(t.typed=!1),t.value.push(l.value)}}else di(this,"type",t,i);return t}}}function PO(n){let e;if(n)for(const t of n)e?e.push(...t.issues):e=t.issues;return e}function Sn(n,e){return{kind:"schema",type:"union",reference:Sn,expects:[...new Set(n.map(t=>t.expects))].join(" | ")||"never",async:!1,options:n,message:e,_run(t,i){let r,s,o;for(const a of this.options){const l=a._run({typed:!1,value:t.value},i);if(l.typed)if(l.issues)s?s.push(l):s=[l];else{r=l;break}else o?o.push(l):o=[l]}if(r)return r;if(s){if(s.length===1)return s[0];di(this,"type",t,i,{issues:PO(s)}),t.typed=!0}else{if((o==null?void 0:o.length)===1)return o[0];di(this,"type",t,i,{issues:PO(o)})}return t}}}function oo(){return{kind:"schema",type:"unknown",reference:oo,expects:"unknown",async:!1,_run(n){return n.typed=!0,n}}}function Wt(n,e,t){const i=n._run({typed:!1,value:e},R$(t));if(i.issues)throw new L$(i.issues);return i.value}function At(...n){return{...n[0],pipe:n,_run(e,t){for(let i=0;i<n.length;i++){if(e.issues&&(n[i].kind==="schema"||n[i].kind==="transformation")){e.typed=!1;break}(!e.issues||!t.abortEarly&&!t.abortPipeEarly)&&(e=n[i]._run(e,t))}return e}}}function bo(n){const e=Object.entries(n).map(([t,i])=>ae({[t]:i}));return At(Sn(e),$f(t=>({...t,$kind:Object.keys(t)[0]})))}const $a=At(tt(),$f(n=>wt(n)),Wl(li)),fi=$a,ao=tt(),ei=At(Sn([tt(),At(Nt(),Yt())]),Wl(n=>{try{return BigInt(n),BigInt(n)>=0&&BigInt(n)<=18446744073709551615n}catch{return!1}},"Invalid u64")),Ss=ae({objectId:$a,version:ei,digest:tt()}),jt=At(Sn([ae({GasCoin:Ue(!0)}),ae({Input:At(Nt(),Yt()),type:En(Ue("pure"))}),ae({Input:At(Nt(),Yt()),type:En(Ue("object"))}),ae({Result:At(Nt(),Yt())}),ae({NestedResult:ng([At(Nt(),Yt()),At(Nt(),Yt())])})]),$f(n=>({...n,$kind:Object.keys(n)[0]}))),q$=ae({budget:xt(ei),price:xt(ei),owner:xt($a),payment:xt(Ie(Ss))}),fd=Sn([Ue("address"),Ue("bool"),Ue("u8"),Ue("u16"),Ue("u32"),Ue("u64"),Ue("u128"),Ue("u256"),ae({vector:wl(()=>fd)}),ae({datatype:ae({package:tt(),module:tt(),type:tt(),typeParameters:Ie(wl(()=>fd))})}),ae({typeParameter:At(Nt(),Yt())})]),N$=ae({ref:xt(Sn([Ue("&"),Ue("&mut")])),body:fd}),U$=ae({package:fi,module:tt(),function:tt(),typeArguments:Ie(tt()),arguments:Ie(jt),_argumentTypes:En(xt(Ie(N$)))}),X$=ae({name:tt(),inputs:Sl(tt(),Sn([jt,Ie(jt)])),data:Sl(tt(),oo())}),V$=bo({MoveCall:U$,TransferObjects:ae({objects:Ie(jt),address:jt}),SplitCoins:ae({coin:jt,amounts:Ie(jt)}),MergeCoins:ae({destination:jt,sources:Ie(jt)}),Publish:ae({modules:Ie(ao),dependencies:Ie(fi)}),MakeMoveVec:ae({type:xt(tt()),elements:Ie(jt)}),Upgrade:ae({modules:Ie(ao),dependencies:Ie(fi),package:fi,ticket:jt}),$Intent:X$}),Yb=bo({ImmOrOwnedObject:Ss,SharedObject:ae({objectId:fi,initialSharedVersion:ei,mutable:Qf()}),Receiving:Ss}),z$=bo({Object:Yb,Pure:ae({bytes:ao}),UnresolvedPure:ae({value:oo()}),UnresolvedObject:ae({objectId:fi,version:En(xt(ei)),digest:En(xt(tt())),initialSharedVersion:En(xt(ei))})}),_O=bo({Object:Yb,Pure:ae({bytes:ao})}),Gb=bo({None:Ue(!0),Epoch:ei}),Hc=ae({version:Ue(2),sender:la($a),expiration:la(Gb),gasData:q$,inputs:Ie(z$),commands:Ie(V$)}),js={MoveCall(n){const[e,t="",i=""]="target"in n?n.target.split("::"):[n.package,n.module,n.function];return{$kind:"MoveCall",MoveCall:{package:e,module:t,function:i,typeArguments:n.typeArguments??[],arguments:n.arguments??[]}}},TransferObjects(n,e){return{$kind:"TransferObjects",TransferObjects:{objects:n.map(t=>Wt(jt,t)),address:Wt(jt,e)}}},SplitCoins(n,e){return{$kind:"SplitCoins",SplitCoins:{coin:Wt(jt,n),amounts:e.map(t=>Wt(jt,t))}}},MergeCoins(n,e){return{$kind:"MergeCoins",MergeCoins:{destination:Wt(jt,n),sources:e.map(t=>Wt(jt,t))}}},Publish({modules:n,dependencies:e}){return{$kind:"Publish",Publish:{modules:n.map(t=>typeof t=="string"?t:Dt(new Uint8Array(t))),dependencies:e.map(t=>Fi(t))}}},Upgrade({modules:n,dependencies:e,package:t,ticket:i}){return{$kind:"Upgrade",Upgrade:{modules:n.map(r=>typeof r=="string"?r:Dt(new Uint8Array(r))),dependencies:e.map(r=>Fi(r)),package:t,ticket:Wt(jt,i)}}},MakeMoveVec({type:n,elements:e}){return{$kind:"MakeMoveVec",MakeMoveVec:{type:n??null,elements:e.map(t=>Wt(jt,t))}}},Intent({name:n,inputs:e={},data:t={}}){return{$kind:"$Intent",$Intent:{name:n,inputs:Object.fromEntries(Object.entries(e).map(([i,r])=>[i,Array.isArray(r)?r.map(s=>Wt(jt,s)):Wt(jt,r)])),data:t}}}},ud=ae({digest:tt(),objectId:tt(),version:Sn([At(Nt(),Yt()),tt(),tg()])}),W$=bo({ImmOrOwned:ud,Shared:ae({objectId:fi,initialSharedVersion:ei,mutable:Qf()}),Receiving:ud}),AO=bo({Object:W$,Pure:Ie(At(Nt(),Yt()))}),Fb=Sn([ae({kind:Ue("Input"),index:At(Nt(),Yt()),value:oo(),type:En(Ue("object"))}),ae({kind:Ue("Input"),index:At(Nt(),Yt()),value:oo(),type:Ue("pure")})]),Y$=Sn([ae({Epoch:At(Nt(),Yt())}),ae({None:xt(Ue(!0))})]),EO=At(Sn([Nt(),tt(),tg()]),Wl(n=>{if(!["string","number","bigint"].includes(typeof n))return!1;try{return BigInt(n),!0}catch{return!1}})),ig=Sn([ae({bool:xt(Ue(!0))}),ae({u8:xt(Ue(!0))}),ae({u64:xt(Ue(!0))}),ae({u128:xt(Ue(!0))}),ae({address:xt(Ue(!0))}),ae({signer:xt(Ue(!0))}),ae({vector:wl(()=>ig)}),ae({struct:wl(()=>G$)}),ae({u16:xt(Ue(!0))}),ae({u32:xt(Ue(!0))}),ae({u256:xt(Ue(!0))})]),G$=ae({address:tt(),module:tt(),name:tt(),typeParams:Ie(ig)}),F$=ae({budget:En(EO),price:En(EO),payment:En(Ie(ud)),owner:En(tt())}),H$=[Fb,ae({kind:Ue("GasCoin")}),ae({kind:Ue("Result"),index:At(Nt(),Yt())}),ae({kind:Ue("NestedResult"),index:At(Nt(),Yt()),resultIndex:At(Nt(),Yt())})],Ur=Sn([...H$]),K$=ae({kind:Ue("MoveCall"),target:At(tt(),Wl(n=>n.split("::").length===3)),typeArguments:Ie(tt()),arguments:Ie(Ur)}),J$=ae({kind:Ue("TransferObjects"),objects:Ie(Ur),address:Ur}),eQ=ae({kind:Ue("SplitCoins"),coin:Ur,amounts:Ie(Ur)}),tQ=ae({kind:Ue("MergeCoins"),destination:Ur,sources:Ie(Ur)}),nQ=ae({kind:Ue("MakeMoveVec"),type:Sn([ae({Some:ig}),ae({None:xt(Ue(!0))})]),objects:Ie(Ur)}),iQ=ae({kind:Ue("Publish"),modules:Ie(Ie(At(Nt(),Yt()))),dependencies:Ie(tt())}),rQ=ae({kind:Ue("Upgrade"),modules:Ie(Ie(At(Nt(),Yt()))),dependencies:Ie(tt()),packageId:tt(),ticket:Ur}),sQ=[K$,J$,eQ,tQ,iQ,rQ,nQ],oQ=Sn([...sQ]);ae({version:Ue(1),sender:En(tt()),expiration:la(Y$),gasConfig:F$,inputs:Ie(Fb),transactions:Ie(oQ)});function TO(n){var t;const e=n.inputs.map((i,r)=>{if(i.Object)return{kind:"Input",index:r,value:{Object:i.Object.ImmOrOwnedObject?{ImmOrOwned:i.Object.ImmOrOwnedObject}:i.Object.Receiving?{Receiving:{digest:i.Object.Receiving.digest,version:i.Object.Receiving.version,objectId:i.Object.Receiving.objectId}}:{Shared:{mutable:i.Object.SharedObject.mutable,initialSharedVersion:i.Object.SharedObject.initialSharedVersion,objectId:i.Object.SharedObject.objectId}}},type:"object"};if(i.Pure)return{kind:"Input",index:r,value:{Pure:Array.from(Tn(i.Pure.bytes))},type:"pure"};if(i.UnresolvedPure)return{kind:"Input",type:"pure",index:r,value:i.UnresolvedPure.value};if(i.UnresolvedObject)return{kind:"Input",type:"object",index:r,value:i.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:n.sender??void 0,expiration:((t=n.expiration)==null?void 0:t.$kind)==="Epoch"?{Epoch:Number(n.expiration.Epoch)}:n.expiration?{None:!0}:null,gasConfig:{owner:n.gasData.owner??void 0,budget:n.gasData.budget??void 0,price:n.gasData.price??void 0,payment:n.gasData.payment??void 0},inputs:e,transactions:n.commands.map(i=>{if(i.MakeMoveVec)return{kind:"MakeMoveVec",type:i.MakeMoveVec.type===null?{None:!0}:{Some:Hi.parseFromStr(i.MakeMoveVec.type)},objects:i.MakeMoveVec.elements.map(r=>xr(r,e))};if(i.MergeCoins)return{kind:"MergeCoins",destination:xr(i.MergeCoins.destination,e),sources:i.MergeCoins.sources.map(r=>xr(r,e))};if(i.MoveCall)return{kind:"MoveCall",target:`${i.MoveCall.package}::${i.MoveCall.module}::${i.MoveCall.function}`,typeArguments:i.MoveCall.typeArguments,arguments:i.MoveCall.arguments.map(r=>xr(r,e))};if(i.Publish)return{kind:"Publish",modules:i.Publish.modules.map(r=>Array.from(Tn(r))),dependencies:i.Publish.dependencies};if(i.SplitCoins)return{kind:"SplitCoins",coin:xr(i.SplitCoins.coin,e),amounts:i.SplitCoins.amounts.map(r=>xr(r,e))};if(i.TransferObjects)return{kind:"TransferObjects",objects:i.TransferObjects.objects.map(r=>xr(r,e)),address:xr(i.TransferObjects.address,e)};if(i.Upgrade)return{kind:"Upgrade",modules:i.Upgrade.modules.map(r=>Array.from(Tn(r))),dependencies:i.Upgrade.dependencies,packageId:i.Upgrade.package,ticket:xr(i.Upgrade.ticket,e)};throw new Error(`Unknown transaction ${Object.keys(i)}`)})}}function xr(n,e){if(n.$kind==="GasCoin")return{kind:"GasCoin"};if(n.$kind==="Result")return{kind:"Result",index:n.Result};if(n.$kind==="NestedResult")return{kind:"NestedResult",index:n.NestedResult[0],resultIndex:n.NestedResult[1]};if(n.$kind==="Input")return e[n.Input];throw new Error(`Invalid argument ${Object.keys(n)}`)}function aQ(n){var e,t,i;return Wt(Hc,{version:2,sender:n.sender??null,expiration:n.expiration?"Epoch"in n.expiration?{Epoch:n.expiration.Epoch}:{None:!0}:null,gasData:{owner:n.gasConfig.owner??null,budget:((e=n.gasConfig.budget)==null?void 0:e.toString())??null,price:((t=n.gasConfig.price)==null?void 0:t.toString())??null,payment:((i=n.gasConfig.payment)==null?void 0:i.map(r=>({digest:r.digest,objectId:r.objectId,version:r.version.toString()})))??null},inputs:n.inputs.map(r=>{if(r.kind==="Input"){if(hd(AO,r.value)){const s=Wt(AO,r.value);if(s.Object){if(s.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:s.Object.ImmOrOwned.objectId,version:String(s.Object.ImmOrOwned.version),digest:s.Object.ImmOrOwned.digest}}};if(s.Object.Shared)return{Object:{SharedObject:{mutable:s.Object.Shared.mutable??null,initialSharedVersion:s.Object.Shared.initialSharedVersion,objectId:s.Object.Shared.objectId}}};if(s.Object.Receiving)return{Object:{Receiving:{digest:s.Object.Receiving.digest,version:String(s.Object.Receiving.version),objectId:s.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:Dt(new Uint8Array(s.Pure))}}}return r.type==="object"?{UnresolvedObject:{objectId:r.value}}:{UnresolvedPure:{value:r.value}}}throw new Error("Invalid input")}),commands:n.transactions.map(r=>{switch(r.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in r.type?Hi.tagToString(r.type.Some):null,elements:r.objects.map(s=>wr(s))}};case"MergeCoins":return{MergeCoins:{destination:wr(r.destination),sources:r.sources.map(s=>wr(s))}};case"MoveCall":{const[s,o,a]=r.target.split("::");return{MoveCall:{package:s,module:o,function:a,typeArguments:r.typeArguments,arguments:r.arguments.map(l=>wr(l))}}}case"Publish":return{Publish:{modules:r.modules.map(s=>Dt(Uint8Array.from(s))),dependencies:r.dependencies}};case"SplitCoins":return{SplitCoins:{coin:wr(r.coin),amounts:r.amounts.map(s=>wr(s))}};case"TransferObjects":return{TransferObjects:{objects:r.objects.map(s=>wr(s)),address:wr(r.address)}};case"Upgrade":return{Upgrade:{modules:r.modules.map(s=>Dt(Uint8Array.from(s))),dependencies:r.dependencies,package:r.packageId,ticket:wr(r.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(r)}`)})})}function wr(n){switch(n.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:n.index};case"NestedResult":return{NestedResult:[n.index,n.resultIndex]};case"Input":return{Input:n.index}}}function Yl(n){return Sn(Object.entries(n).map(([e,t])=>ae({[e]:t})))}const Ai=Yl({GasCoin:Ue(!0),Input:At(Nt(),Yt()),Result:At(Nt(),Yt()),NestedResult:ng([At(Nt(),Yt()),At(Nt(),Yt())])}),lQ=ae({budget:xt(ei),price:xt(ei),owner:xt($a),payment:xt(Ie(Ss))}),cQ=ae({package:fi,module:tt(),function:tt(),typeArguments:Ie(tt()),arguments:Ie(Ai)}),hQ=ae({name:tt(),inputs:Sl(tt(),Sn([Ai,Ie(Ai)])),data:Sl(tt(),oo())}),fQ=Yl({MoveCall:cQ,TransferObjects:ae({objects:Ie(Ai),address:Ai}),SplitCoins:ae({coin:Ai,amounts:Ie(Ai)}),MergeCoins:ae({destination:Ai,sources:Ie(Ai)}),Publish:ae({modules:Ie(ao),dependencies:Ie(fi)}),MakeMoveVec:ae({type:xt(tt()),elements:Ie(Ai)}),Upgrade:ae({modules:Ie(ao),dependencies:Ie(fi),package:fi,ticket:Ai}),$Intent:hQ}),uQ=Yl({ImmOrOwnedObject:Ss,SharedObject:ae({objectId:fi,initialSharedVersion:ei,mutable:Qf()}),Receiving:Ss}),dQ=Yl({Object:uQ,Pure:ae({bytes:ao}),UnresolvedPure:ae({value:oo()}),UnresolvedObject:ae({objectId:fi,version:En(xt(ei)),digest:En(xt(tt())),initialSharedVersion:En(xt(ei))})}),pQ=Yl({None:Ue(!0),Epoch:ei}),gQ=ae({version:Ue(2),sender:la($a),expiration:la(pQ),gasData:lQ,inputs:Ie(dQ),commands:Ie(fQ)}),OQ=50,mQ=1000n,yQ=5e10;async function bQ(n,e,t){return await kQ(n,e),await SQ(n,e),e.onlyTransactionKind||(await vQ(n,e),await xQ(n,e),await wQ(n,e)),await $Q(n),await t()}async function vQ(n,e){n.gasConfig.price||(n.gasConfig.price=String(await Gl(e).getReferenceGasPrice()))}async function xQ(n,e){if(n.gasConfig.budget)return;const t=await Gl(e).dryRunTransactionBlock({transactionBlock:n.build({overrides:{gasData:{budget:String(yQ),payment:[]}}})});if(t.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${t.effects.status.error}`,{cause:t});const i=mQ*BigInt(n.gasConfig.price||1n),r=BigInt(t.effects.gasUsed.computationCost)+i,s=r+BigInt(t.effects.gasUsed.storageCost)-BigInt(t.effects.gasUsed.storageRebate);n.gasConfig.budget=String(s>r?s:r)}async function wQ(n,e){if(!n.gasConfig.payment){const i=(await Gl(e).getCoins({owner:n.gasConfig.owner||n.sender,coinType:f$})).data.filter(r=>!n.inputs.find(o=>{var a;return(a=o.Object)!=null&&a.ImmOrOwnedObject?r.coinObjectId===o.Object.ImmOrOwnedObject.objectId:!1})).map(r=>({objectId:r.coinObjectId,digest:r.digest,version:r.version}));if(!i.length)throw new Error("No valid gas coins found for the transaction.");n.gasConfig.payment=i.map(r=>Wt(Ss,r))}}async function SQ(n,e){const t=n.inputs.filter(h=>{var f;return h.UnresolvedObject&&!(h.UnresolvedObject.version||(f=h.UnresolvedObject)!=null&&f.initialSharedVersion)}),i=[...new Set(t.map(h=>Fi(h.UnresolvedObject.objectId)))],r=i.length?AQ(i,OQ):[],s=(await Promise.all(r.map(h=>Gl(e).multiGetObjects({ids:h,options:{showOwner:!0}})))).flat(),o=new Map(i.map((h,f)=>[h,s[f]])),a=Array.from(o).filter(([h,f])=>f.error).map(([h,f])=>JSON.stringify(f.error));if(a.length)throw new Error(`The following input objects are invalid: ${a.join(", ")}`);const l=s.map(h=>{if(h.error||!h.data)throw new Error(`Failed to fetch object: ${h.error}`);const f=h.data.owner,u=f&&typeof f=="object"&&"Shared"in f?f.Shared.initial_shared_version:null;return{objectId:h.data.objectId,digest:h.data.digest,version:h.data.version,initialSharedVersion:u}}),c=new Map(i.map((h,f)=>[h,l[f]]));for(const[h,f]of n.inputs.entries()){if(!f.UnresolvedObject)continue;let u;const d=wt(f.UnresolvedObject.objectId),g=c.get(d);f.UnresolvedObject.initialSharedVersion??(g==null?void 0:g.initialSharedVersion)?u=Rr.SharedObjectRef({objectId:d,initialSharedVersion:f.UnresolvedObject.initialSharedVersion||(g==null?void 0:g.initialSharedVersion),mutable:QQ(n,h)}):PQ(n,h)&&(u=Rr.ReceivingRef({objectId:d,digest:f.UnresolvedObject.digest??(g==null?void 0:g.digest),version:f.UnresolvedObject.version??(g==null?void 0:g.version)})),n.inputs[n.inputs.indexOf(f)]=u??Rr.ObjectRef({objectId:d,digest:f.UnresolvedObject.digest??(g==null?void 0:g.digest),version:f.UnresolvedObject.version??(g==null?void 0:g.version)})}}async function kQ(n,e){const{inputs:t,commands:i}=n,r=[],s=new Set;i.forEach(a=>{if(a.MoveCall){if(a.MoveCall._argumentTypes)return;if(a.MoveCall.arguments.map(h=>h.$kind==="Input"?n.inputs[h.Input]:null).some(h=>(h==null?void 0:h.UnresolvedPure)||(h==null?void 0:h.UnresolvedObject))){const h=`${a.MoveCall.package}::${a.MoveCall.module}::${a.MoveCall.function}`;s.add(h),r.push(a.MoveCall)}}switch(a.$kind){case"SplitCoins":a.SplitCoins.amounts.forEach(l=>{CO(l,Ze.U64,n)});break;case"TransferObjects":CO(a.TransferObjects.address,Ze.Address,n);break}});const o=new Map;if(s.size>0){const a=Gl(e);await Promise.all([...s].map(async l=>{const[c,h,f]=l.split("::"),u=await a.getNormalizedMoveFunction({package:c,module:h,function:f});o.set(l,u.parameters.map(d=>M$(d)))}))}r.length&&await Promise.all(r.map(async a=>{const l=o.get(`${a.package}::${a.module}::${a.function}`);if(!l)return;const h=l.length>0&&C$(l.at(-1))?l.slice(0,l.length-1):l;a._argumentTypes=h})),i.forEach(a=>{if(!a.MoveCall)return;const l=a.MoveCall,c=`${l.package}::${l.module}::${l.function}`,h=l._argumentTypes;if(h){if(h.length!==a.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${c}`);h.forEach((f,u)=>{var $,Q;const d=l.arguments[u];if(d.$kind!=="Input")return;const g=t[d.Input];if(!g.UnresolvedPure&&!g.UnresolvedObject)return;const m=(($=g.UnresolvedPure)==null?void 0:$.value)??((Q=g.UnresolvedObject)==null?void 0:Q.objectId),O=cd(f.body);if(O){d.type="pure",t[t.indexOf(g)]=Rr.Pure(O.serialize(m));return}if(typeof m!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(m,null,2)}`);d.type="object";const b=g.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:m}}:g;t[d.Input]=b})}})}function $Q(n){n.inputs.forEach((e,t)=>{if(e.$kind!=="Object"&&e.$kind!=="Pure")throw new Error(`Input at index ${t} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(e)}`)})}function CO(n,e,t){if(n.$kind!=="Input")return;const i=t.inputs[n.Input];i.$kind==="UnresolvedPure"&&(t.inputs[n.Input]=Rr.Pure(e.serialize(i.UnresolvedPure.value)))}function QQ(n,e){let t=!1;return n.getInputUses(e,(i,r)=>{if(r.MoveCall&&r.MoveCall._argumentTypes){const s=r.MoveCall.arguments.indexOf(i);t=r.MoveCall._argumentTypes[s].ref!=="&"||t}(r.$kind==="MakeMoveVec"||r.$kind==="MergeCoins"||r.$kind==="SplitCoins")&&(t=!0)}),t}function PQ(n,e){let t=!1;return n.getInputUses(e,(i,r)=>{if(r.MoveCall&&r.MoveCall._argumentTypes){const s=r.MoveCall.arguments.indexOf(i);t=_Q(r.MoveCall._argumentTypes[s])||t}}),t}function _Q(n){return typeof n.body!="object"||!("datatype"in n.body)?!1:n.body.datatype.package==="0x2"&&n.body.datatype.module==="transfer"&&n.body.datatype.type==="Receiving"}function Gl(n){if(!n.client)throw new Error("No provider passed to Transaction#build, but transaction data was not sufficient to build offline.");return n.client}function AQ(n,e){return Array.from({length:Math.ceil(n.length/e)},(t,i)=>n.slice(i*e,i*e+e))}function EQ(n){function e(t){return n(t)}return e.system=()=>e("0x5"),e.clock=()=>e("0x6"),e.random=()=>e("0x8"),e.denyList=()=>e("0x403"),e}function TQ(n){function e(t,i){if(typeof t=="string")return n(fl(t).serialize(i));if(t instanceof Uint8Array||Dp(t))return n(t);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return e.u8=t=>n(Ze.U8.serialize(t)),e.u16=t=>n(Ze.U16.serialize(t)),e.u32=t=>n(Ze.U32.serialize(t)),e.u64=t=>n(Ze.U64.serialize(t)),e.u128=t=>n(Ze.U128.serialize(t)),e.u256=t=>n(Ze.U256.serialize(t)),e.bool=t=>n(Ze.Bool.serialize(t)),e.string=t=>n(Ze.String.serialize(t)),e.address=t=>n(Ze.Address.serialize(t)),e.id=e.address,e.vector=(t,i)=>n(Ze.vector(fl(t)).serialize(i)),e.option=(t,i)=>n(Ze.option(fl(t)).serialize(i)),e}function fl(n){switch(n){case"u8":return Ze.u8();case"u16":return Ze.u16();case"u32":return Ze.u32();case"u64":return Ze.u64();case"u128":return Ze.u128();case"u256":return Ze.u256();case"bool":return Ze.bool();case"string":return Ze.string();case"id":case"address":return Ze.Address}const e=n.match(/^(vector|option)<(.+)>$/);if(e){const[t,i]=e.slice(1);return t==="vector"?Ze.vector(fl(i)):Ze.option(fl(i))}throw new Error(`Invalid Pure type name: ${n}`)}function CQ(n,e){const t=Array.from(`${n}::`).map(r=>r.charCodeAt(0)),i=new Uint8Array(t.length+e.length);return i.set(t),i.set(e,t.length),aa(i,{dkLen:32})}function MO(n){return wt(n).replace("0x","")}class Ii{constructor(e){this.version=2,this.sender=(e==null?void 0:e.sender)??null,this.expiration=(e==null?void 0:e.expiration)??null,this.inputs=(e==null?void 0:e.inputs)??[],this.commands=(e==null?void 0:e.commands)??[],this.gasData=(e==null?void 0:e.gasData)??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(e){const i=Ze.TransactionKind.parse(e).ProgrammableTransaction;if(!i)throw new Error("Unable to deserialize from bytes.");return Ii.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:i.inputs,commands:i.commands})}static fromBytes(e){const t=Ze.TransactionData.parse(e),i=t==null?void 0:t.V1,r=i.kind.ProgrammableTransaction;if(!i||!r)throw new Error("Unable to deserialize from bytes.");return Ii.restore({version:2,sender:i.sender,expiration:i.expiration,gasData:i.gasData,inputs:r.inputs,commands:r.commands})}static restore(e){return e.version===2?new Ii(Wt(Hc,e)):new Ii(Wt(Hc,aQ(e)))}static getDigestFromBytes(e){const t=CQ("TransactionData",e);return zl(t)}get gasConfig(){return this.gasData}set gasConfig(e){this.gasData=e}build({maxSizeBytes:e=1/0,overrides:t,onlyTransactionKind:i}={}){const r=this.inputs,s=this.commands,o={ProgrammableTransaction:{inputs:r,commands:s}};if(i)return Ze.TransactionKind.serialize(o,{maxSize:e}).toBytes();const a=(t==null?void 0:t.expiration)??this.expiration,l=(t==null?void 0:t.sender)??this.sender,c={...this.gasData,...t==null?void 0:t.gasConfig,...t==null?void 0:t.gasData};if(!l)throw new Error("Missing transaction sender");if(!c.budget)throw new Error("Missing gas budget");if(!c.payment)throw new Error("Missing gas payment");if(!c.price)throw new Error("Missing gas price");const h={sender:MO(l),expiration:a||{None:!0},gasData:{payment:c.payment,owner:MO(this.gasData.owner??l),price:BigInt(c.price),budget:BigInt(c.budget)},kind:{ProgrammableTransaction:{inputs:r,commands:s}}};return Ze.TransactionData.serialize({V1:h},{maxSize:e}).toBytes()}addInput(e,t){const i=this.inputs.length;return this.inputs.push(t),{Input:i,type:e,$kind:"Input"}}getInputUses(e,t){this.mapArguments((i,r)=>(i.$kind==="Input"&&i.Input===e&&t(i,r),i))}mapArguments(e){for(const t of this.commands)switch(t.$kind){case"MoveCall":t.MoveCall.arguments=t.MoveCall.arguments.map(r=>e(r,t));break;case"TransferObjects":t.TransferObjects.objects=t.TransferObjects.objects.map(r=>e(r,t)),t.TransferObjects.address=e(t.TransferObjects.address,t);break;case"SplitCoins":t.SplitCoins.coin=e(t.SplitCoins.coin,t),t.SplitCoins.amounts=t.SplitCoins.amounts.map(r=>e(r,t));break;case"MergeCoins":t.MergeCoins.destination=e(t.MergeCoins.destination,t),t.MergeCoins.sources=t.MergeCoins.sources.map(r=>e(r,t));break;case"MakeMoveVec":t.MakeMoveVec.elements=t.MakeMoveVec.elements.map(r=>e(r,t));break;case"Upgrade":t.Upgrade.ticket=e(t.Upgrade.ticket,t);break;case"$Intent":const i=t.$Intent.inputs;t.$Intent.inputs={};for(const[r,s]of Object.entries(i))t.$Intent.inputs[r]=Array.isArray(s)?s.map(o=>e(o,t)):e(s,t);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${t.$kind}`)}}replaceCommand(e,t){if(!Array.isArray(t)){this.commands[e]=t;return}const i=t.length-1;this.commands.splice(e,1,...t),i!==0&&this.mapArguments(r=>{switch(r.$kind){case"Result":r.Result>e&&(r.Result+=i);break;case"NestedResult":r.NestedResult[0]>e&&(r.NestedResult[0]+=i);break}return r})}getDigest(){const e=this.build({onlyTransactionKind:!1});return Ii.getDigestFromBytes(e)}snapshot(){return Wt(Hc,this)}}function ZO(n){if(typeof n=="string")return wt(n);if(n.Object)return n.Object.ImmOrOwnedObject?wt(n.Object.ImmOrOwnedObject.objectId):n.Object.Receiving?wt(n.Object.Receiving.objectId):wt(n.Object.SharedObject.objectId);if(n.UnresolvedObject)return wt(n.UnresolvedObject.objectId)}var Hb=n=>{throw TypeError(n)},rg=(n,e,t)=>e.has(n)||Hb("Cannot "+t),lt=(n,e,t)=>(rg(n,e,"read from private field"),t?t.call(n):e.get(n)),La=(n,e,t)=>e.has(n)?Hb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Bs=(n,e,t,i)=>(rg(n,e,"write to private field"),e.set(n,t),t),$r=(n,e,t)=>(rg(n,e,"access private method"),t),Ja,ul,Us,pt,Ei,Kc,sg,dd,og;function MQ(n){const e={$kind:"Result",Result:n},t=[],i=r=>t[r]??(t[r]={$kind:"NestedResult",NestedResult:[n,r]});return new Proxy(e,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(r,s){if(s in r)return Reflect.get(r,s);if(s===Symbol.iterator)return function*(){let a=0;for(;;)yield i(a),a++};if(typeof s=="symbol")return;const o=parseInt(s,10);if(!(Number.isNaN(o)||o<0))return i(o)}})}const Kb=Symbol.for("@iota/transaction");function Jb(n){return!!n&&typeof n=="object"&&n[Kb]===!0}const RO={buildPlugins:[],serializationPlugins:[]},ru=Symbol.for("@iota/transaction/registry");function su(){try{const n=globalThis;return n[ru]||(n[ru]=RO),n[ru]}catch{return RO}}const ZQ=class pd{constructor(){La(this,Ei),La(this,Ja),La(this,ul),La(this,Us,new Map),La(this,pt),this.object=EQ(t=>{var s,o;if(typeof t=="function")return this.object(t(this));if(typeof t=="object"&&hd(jt,t))return t;const i=ZO(t),r=lt(this,pt).inputs.find(a=>i===ZO(a));return(s=r==null?void 0:r.Object)!=null&&s.SharedObject&&typeof t=="object"&&((o=t.Object)!=null&&o.SharedObject)&&(r.Object.SharedObject.mutable=r.Object.SharedObject.mutable||t.Object.SharedObject.mutable),r?{$kind:"Input",Input:lt(this,pt).inputs.indexOf(r),type:"object"}:lt(this,pt).addInput("object",typeof t=="string"?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:wt(t)}}:t)});const e=su();Bs(this,pt,new Ii),Bs(this,ul,[...e.buildPlugins]),Bs(this,Ja,[...e.serializationPlugins])}static fromKind(e){const t=new pd;return Bs(t,pt,Ii.fromKindBytes(typeof e=="string"?Tn(e):e)),t}static from(e){const t=new pd;return Jb(e)?Bs(t,pt,new Ii(e.getData())):typeof e!="string"||!e.startsWith("{")?Bs(t,pt,Ii.fromBytes(typeof e=="string"?Tn(e):e)):Bs(t,pt,Ii.restore(JSON.parse(e))),t}static registerGlobalSerializationPlugin(e){su().serializationPlugins.push(e)}static registerGlobalBuildPlugin(e){su().buildPlugins.push(e)}addSerializationPlugin(e){lt(this,Ja).push(e)}addBuildPlugin(e){lt(this,ul).push(e)}addIntentResolver(e,t){if(lt(this,Us).has(e)&&lt(this,Us).get(e)!==t)throw new Error(`Intent resolver for ${e} already exists`);lt(this,Us).set(e,t)}setSender(e){lt(this,pt).sender=e}setSenderIfNotSet(e){lt(this,pt).sender||(lt(this,pt).sender=e)}setExpiration(e){lt(this,pt).expiration=e?Wt(Gb,e):null}setGasPrice(e){lt(this,pt).gasConfig.price=String(e)}setGasBudget(e){lt(this,pt).gasConfig.budget=String(e)}setGasBudgetIfNotSet(e){lt(this,pt).gasData.budget==null&&(lt(this,pt).gasConfig.budget=String(e))}setGasOwner(e){lt(this,pt).gasConfig.owner=e}setGasPayment(e){lt(this,pt).gasConfig.payment=e.map(t=>Wt(Ss,t))}get blockData(){return TO(lt(this,pt).snapshot())}getData(){return lt(this,pt).snapshot()}get[Kb](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:TQ(e=>Dp(e)?lt(this,pt).addInput("pure",{$kind:"Pure",Pure:{bytes:e.toBase64()}}):lt(this,pt).addInput("pure",hd(_O,e)?Wt(_O,e):e instanceof Uint8Array?Rr.Pure(e):{$kind:"UnresolvedPure",UnresolvedPure:{value:e}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...e){return this.object(Rr.ObjectRef(...e))}receivingRef(...e){return this.object(Rr.ReceivingRef(...e))}sharedObjectRef(...e){return this.object(Rr.SharedObjectRef(...e))}add(e){if(typeof e=="function")return e(this);const t=lt(this,pt).commands.push(e);return MQ(t-1)}splitCoins(e,t){return this.add(js.SplitCoins(typeof e=="string"?this.object(e):$r(this,Ei,sg).call(this,e),t.map(i=>typeof i=="number"||typeof i=="bigint"||typeof i=="string"?this.pure.u64(i):$r(this,Ei,Kc).call(this,i))))}mergeCoins(e,t){return this.add(js.MergeCoins(this.object(e),t.map(i=>this.object(i))))}publish({modules:e,dependencies:t}){return this.add(js.Publish({modules:e,dependencies:t}))}upgrade({modules:e,dependencies:t,package:i,ticket:r}){return this.add(js.Upgrade({modules:e,dependencies:t,package:i,ticket:this.object(r)}))}moveCall({arguments:e,...t}){return this.add(js.MoveCall({...t,arguments:e==null?void 0:e.map(i=>$r(this,Ei,Kc).call(this,i))}))}transferObjects(e,t){return this.add(js.TransferObjects(e.map(i=>this.object(i)),typeof t=="string"?this.pure.address(t):$r(this,Ei,Kc).call(this,t)))}makeMoveVec({type:e,elements:t}){return this.add(js.MakeMoveVec({type:e,elements:t.map(i=>this.object(i))}))}serialize(){return JSON.stringify(TO(lt(this,pt).snapshot()))}async toJSON(e={}){return await this.prepareForSerialization(e),JSON.stringify(Wt(gQ,lt(this,pt).snapshot()),(t,i)=>typeof i=="bigint"?i.toString():i,2)}async sign(e){const{signer:t,...i}=e,r=await this.build(i);return t.signTransaction(r)}async build(e={}){return await this.prepareForSerialization(e),await $r(this,Ei,dd).call(this,e),lt(this,pt).build({maxSizeBytes:e.maxSizeBytes,onlyTransactionKind:e.onlyTransactionKind})}async getDigest(e={}){return await $r(this,Ei,dd).call(this,e),lt(this,pt).getDigest()}async prepareForSerialization(e){var r;const t=new Set;for(const s of lt(this,pt).commands)s.$Intent&&t.add(s.$Intent.name);const i=[...lt(this,Ja)];for(const s of t)if(!((r=e.supportedIntents)!=null&&r.includes(s))){if(!lt(this,Us).has(s))throw new Error(`Missing intent resolver for ${s}`);i.push(lt(this,Us).get(s))}await $r(this,Ei,og).call(this,i,e)}};Ja=new WeakMap;ul=new WeakMap;Us=new WeakMap;pt=new WeakMap;Ei=new WeakSet;Kc=function(n){return Dp(n)?this.pure(n):$r(this,Ei,sg).call(this,n)};sg=function(n){return typeof n=="function"?Wt(jt,n(this)):Wt(jt,n)};dd=async function(n){if(!n.onlyTransactionKind&&!lt(this,pt).sender)throw new Error("Missing transaction sender");await $r(this,Ei,og).call(this,[...lt(this,ul),bQ],n)};og=async function(n,e){const t=i=>{if(i>=n.length)return()=>{};const r=n[i];return async()=>{const s=t(i+1);let o=!1,a=!1;if(await r(lt(this,pt),e,async()=>{if(o)throw new Error(`next() was call multiple times in TransactionPlugin ${i}`);o=!0,await s(),a=!0}),!o)throw new Error(`next() was not called in TransactionPlugin ${i}`);if(!a)throw new Error(`next() was not awaited in TransactionPlugin ${i}`)}};await t(0)()};let lo=ZQ;const RQ=Symbol.for("@iota/IotaClient");class IQ{get[RQ](){return!0}constructor(e){this.transport=e.transport??new S$({url:e.url})}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(e){if(!e.owner||!li(wt(e.owner)))throw new Error("Invalid IOTA address");return await this.transport.request({method:"iotax_getCoins",params:[e.owner,e.coinType,e.cursor,e.limit]})}async getAllCoins(e){if(!e.owner||!li(wt(e.owner)))throw new Error("Invalid IOTA address");return await this.transport.request({method:"iotax_getAllCoins",params:[e.owner,e.cursor,e.limit]})}async getBalance(e){if(!e.owner||!li(wt(e.owner)))throw new Error("Invalid IOTA address");return await this.transport.request({method:"iotax_getBalance",params:[e.owner,e.coinType]})}async getAllBalances(e){if(!e.owner||!li(wt(e.owner)))throw new Error("Invalid IOTA address");return await this.transport.request({method:"iotax_getAllBalances",params:[e.owner]})}async getCoinMetadata(e){return await this.transport.request({method:"iotax_getCoinMetadata",params:[e.coinType]})}async getTotalSupply(e){return await this.transport.request({method:"iotax_getTotalSupply",params:[e.coinType]})}async call(e,t){return await this.transport.request({method:e,params:t})}async getMoveFunctionArgTypes(e){return await this.transport.request({method:"iota_getMoveFunctionArgTypes",params:[e.package,e.module,e.function]})}async getNormalizedMoveModulesByPackage(e){return await this.transport.request({method:"iota_getNormalizedMoveModulesByPackage",params:[e.package]})}async getNormalizedMoveModule(e){return await this.transport.request({method:"iota_getNormalizedMoveModule",params:[e.package,e.module]})}async getNormalizedMoveFunction(e){return await this.transport.request({method:"iota_getNormalizedMoveFunction",params:[e.package,e.module,e.function]})}async getNormalizedMoveStruct(e){return await this.transport.request({method:"iota_getNormalizedMoveStruct",params:[e.package,e.module,e.struct]})}async getOwnedObjects(e){if(!e.owner||!li(wt(e.owner)))throw new Error("Invalid IOTA address");return await this.transport.request({method:"iotax_getOwnedObjects",params:[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit]})}async getObject(e){if(!e.id||!Da(Fi(e.id)))throw new Error("Invalid IOTA Object id");return await this.transport.request({method:"iota_getObject",params:[e.id,e.options]})}async tryGetPastObject(e){return await this.transport.request({method:"iota_tryGetPastObject",params:[e.id,e.version,e.options]})}async multiGetObjects(e){if(e.ids.forEach(i=>{if(!i||!Da(Fi(i)))throw new Error(`Invalid IOTA Object id ${i}`)}),e.ids.length!==new Set(e.ids).size)throw new Error(`Duplicate object ids in batch call ${e.ids}`);return await this.transport.request({method:"iota_multiGetObjects",params:[e.ids,e.options]})}async queryTransactionBlocks(e){return await this.transport.request({method:"iotax_queryTransactionBlocks",params:[{filter:e.filter,options:e.options},e.cursor,e.limit,(e.order||"descending")==="descending"]})}async getTransactionBlock(e){if(!xO(e.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"iota_getTransactionBlock",params:[e.digest,e.options]})}async multiGetTransactionBlocks(e){if(e.digests.forEach(i=>{if(!xO(i))throw new Error(`Invalid Transaction digest ${i}`)}),e.digests.length!==new Set(e.digests).size)throw new Error(`Duplicate digests in batch call ${e.digests}`);return await this.transport.request({method:"iota_multiGetTransactionBlocks",params:[e.digests,e.options]})}async executeTransactionBlock({transactionBlock:e,signature:t,options:i}){return await this.transport.request({method:"iota_executeTransactionBlock",params:[typeof e=="string"?e:Dt(e),Array.isArray(t)?t:[t],i]})}async signAndExecuteTransaction({transaction:e,signer:t,...i}){let r;e instanceof Uint8Array?r=e:(e.setSenderIfNotSet(t.toIotaAddress()),r=await e.build({client:this}));const{signature:s,bytes:o}=await t.signTransaction(r);return this.executeTransactionBlock({transactionBlock:o,signature:s,...i})}async getTotalTransactionBlocks(){const e=await this.transport.request({method:"iota_getTotalTransactionBlocks",params:[]});return BigInt(e)}async getReferenceGasPrice(){const e=await this.transport.request({method:"iotax_getReferenceGasPrice",params:[]});return BigInt(e)}async getStakes(e){if(!e.owner||!li(wt(e.owner)))throw new Error("Invalid IOTA address");return await this.transport.request({method:"iotax_getStakes",params:[e.owner]})}async getTimelockedStakes(e){if(!e.owner||!li(wt(e.owner)))throw new Error("Invalid IOTA address");return await this.transport.request({method:"iotax_getTimelockedStakes",params:[e.owner]})}async getStakesByIds(e){return e.stakedIotaIds.forEach(t=>{if(!t||!Da(Fi(t)))throw new Error(`Invalid IOTA Stake id ${t}`)}),await this.transport.request({method:"iotax_getStakesByIds",params:[e.stakedIotaIds]})}async getTimelockedStakesByIds(e){return e.timelockedStakedIotaIds.forEach(t=>{if(!t||!Da(Fi(t)))throw new Error(`Invalid IOTA Timelocked Stake id ${t}`)}),await this.transport.request({method:"iotax_getTimelockedStakesByIds",params:[e.timelockedStakedIotaIds]})}async getLatestIotaSystemState(){return await this.transport.request({method:"iotax_getLatestIotaSystemState",params:[]})}async queryEvents(e){return await this.transport.request({method:"iotax_queryEvents",params:[e.query,e.cursor,e.limit,(e.order||"descending")==="descending"]})}async subscribeEvent(e){return this.transport.subscribe({method:"iotax_subscribeEvent",unsubscribe:"iotax_unsubscribeEvent",params:[e.filter],onMessage:e.onMessage})}async subscribeTransaction(e){return this.transport.subscribe({method:"iotax_subscribeTransaction",unsubscribe:"iotax_unsubscribeTransaction",params:[e.filter],onMessage:e.onMessage})}async devInspectTransactionBlock(e){var i;let t;if(Jb(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(e.sender),t=Dt(await e.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if(typeof e.transactionBlock=="string")t=e.transactionBlock;else if(e.transactionBlock instanceof Uint8Array)t=Dt(e.transactionBlock);else throw new Error("Unknown transaction block format.");return await this.transport.request({method:"iota_devInspectTransactionBlock",params:[e.sender,t,(i=e.gasPrice)==null?void 0:i.toString(),e.epoch]})}async dryRunTransactionBlock(e){return await this.transport.request({method:"iota_dryRunTransactionBlock",params:[typeof e.transactionBlock=="string"?e.transactionBlock:Dt(e.transactionBlock)]})}async getDynamicFields(e){if(!e.parentId||!Da(Fi(e.parentId)))throw new Error("Invalid IOTA Object id");return await this.transport.request({method:"iotax_getDynamicFields",params:[e.parentId,e.cursor,e.limit]})}async getDynamicFieldObject(e){return await this.transport.request({method:"iotax_getDynamicFieldObject",params:[e.parentId,e.name]})}async getLatestCheckpointSequenceNumber(){const e=await this.transport.request({method:"iota_getLatestCheckpointSequenceNumber",params:[]});return String(e)}async getCheckpoint(e){return await this.transport.request({method:"iota_getCheckpoint",params:[e.id]})}async getCheckpoints(e){return await this.transport.request({method:"iota_getCheckpoints",params:[e.cursor,e==null?void 0:e.limit,e.descendingOrder]})}async getCommitteeInfo(e){return await this.transport.request({method:"iotax_getCommitteeInfo",params:[e==null?void 0:e.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"iotax_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"iotax_getLatestAddressMetrics",params:[]})}async getEpochMetrics(e){return await this.transport.request({method:"iotax_getEpochMetrics",params:[e==null?void 0:e.cursor,e==null?void 0:e.limit,e==null?void 0:e.descendingOrder]})}async getAllEpochAddressMetrics(e){return await this.transport.request({method:"iotax_getAllEpochAddressMetrics",params:[e==null?void 0:e.descendingOrder]})}async getCheckpointAddressMetrics(e){return await this.transport.request({method:"iotax_getCheckpointAddressMetrics",params:[e==null?void 0:e.checkpoint]})}async getEpochs(e){return await this.transport.request({method:"iotax_getEpochs",params:[e==null?void 0:e.cursor,e==null?void 0:e.limit,e==null?void 0:e.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"iotax_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"iotax_getCurrentEpoch",params:[]})}async getTotalTransactions(){const e=await this.transport.request({method:"iotax_getTotalTransactions",params:[]});return String(e)}async getValidatorsApy(){return await this.transport.request({method:"iotax_getValidatorsApy",params:[]})}async getChainIdentifier(){const e=await this.getCheckpoint({id:"0"}),t=sa(e.digest);return Wn(t.slice(0,4))}async getProtocolConfig(e){return await this.transport.request({method:"iota_getProtocolConfig",params:[e==null?void 0:e.version]})}async waitForTransaction({signal:e,timeout:t=60*1e3,pollInterval:i=2*1e3,...r}){const s=AbortSignal.timeout(t),o=new Promise((a,l)=>{s.addEventListener("abort",()=>l(s.reason))});for(o.catch(()=>{});!s.aborted;){e==null||e.throwIfAborted();try{return await this.getTransactionBlock(r)}catch{await Promise.race([new Promise(l=>setTimeout(l,i)),o])}}throw s.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}}class jQ extends Error{}async function ag({host:n,path:e,body:t,headers:i,method:r}){const s=new URL(e,n).toString(),o=await fetch(s,{method:r,body:t?JSON.stringify(t):void 0,headers:{"Content-Type":"application/json",...i||{}}});if(o.status===429)throw new jQ("Too many requests from this client have been sent to the faucet. Please retry later");try{const a=await o.json();if(a.error)throw new Error(`Faucet returns error: ${a.error}`);return a}catch(a){throw new Error(`Encountered error when parsing response from faucet, error: ${a}, status ${o.status}, response ${o}`)}}async function BQ(n){return ag({host:n.host,path:"/gas",body:{FixedAmountRequest:{recipient:n.recipient}},headers:n.headers,method:"POST"})}async function DQ(n){return ag({host:n.host,path:"/v1/gas",body:{FixedAmountRequest:{recipient:n.recipient}},headers:n.headers,method:"POST"})}async function LQ(n){return ag({host:n.host,path:`/v1/status/${n.taskId}`,headers:n.headers,method:"GET"})}const IO={};function pr(n,e){const t=cS(IO),i=typeof n=="function"?n(t):n,r={...t,...i};return e!=null&&e.expandable&&(r.isParentExpanded=r.expanded),hS(IO,r),t}var qQ=pe('<span class="container svelte-1qd6nto"><span class="arrow svelte-1qd6nto"></span></span>');function jO(n,e){yt(e,!1);const[t,i]=Qi(),r=()=>qt(a,"$expandable",t),s=()=>qt(l(),"$expanded",t),{expanded:o,expandable:a}=pr();let l=st(e,"expanded",8,o);kt();var c=Ln(),h=Qt(c);{var f=u=>{var d=qQ(),g=J(d);g.textContent="",Te(()=>Ip(g,"expanded",s())),Xe("click",d,m=>{m.stopPropagation(),Bn(l(),!s())}),ie(u,d)};Ht(h,u=>{r()&&u(f)})}ie(n,c),bt(),i()}function NQ(n,e){yt(e,!1),pr({displayMode:"summary"}),kt();var t=Ln(),i=Qt(t);Ws(i,e,"default",{}),ie(n,t),bt()}function e1(n,e){yt(e,!1);let t=st(e,"expanded",8),i=st(e,"key",8);const r=fr(!1);pr(({keyPath:a,level:l})=>(i()!=="[[Entries]]"&&(a=[...a,i()],l=l+1),{keyPath:a,level:l,expanded:t(),expandable:r})),kt();var s=Ln(),o=Qt(s);Ws(o,e,"default",{}),ie(n,s),bt()}var UQ=pe('<span class="operator">:</span>'),XQ=pe('<span class="label svelte-19drypg"><!><!><!></span><!>',1),VQ=pe('<li class="svelte-19drypg"><!></li>'),zQ=pe("<ul></ul>"),WQ=pe('<span class="root svelte-19drypg"><!> <!></span> <!>',1);function wi(n,e){yt(e,!1);const[t,i]=Qi(),r=()=>qt(d,"$expanded",t),s=re();let o=st(e,"keys",8),a=st(e,"shouldShowColon",24,()=>{}),l=st(e,"expandKey",8,E=>E),c=st(e,"defaultExpanded",12,!1);const{isParentExpanded:h,displayMode:f,root:u,expanded:d,expandable:g,keyPath:m,level:O,shouldExpandNode:b}=pr({root:!1},{expandable:!0});if(Bn(g,!0),f!=="summary"){if(!c()){const E=b({keyPath:m,level:O});E!==void 0&&c(E)}jp(()=>h.subscribe(E=>{E?d.set(c()):d.set(!1)}))}function $(){Bn(d,!r())}Rt(()=>(sn(o()),fr),()=>{N(s,o().map(()=>fr(!1)))}),pi(),kt();var Q=Ln(),P=Qt(Q);{var k=E=>{var M=Ln(),C=Qt(M);Ws(C,e,"summary",{}),ie(E,M)},A=E=>{var M=WQ(),C=Qt(M),j=J(C);{var q=B=>{jO(B,{expanded:d})};Ht(j,B=>{u&&B(q)})}var D=z(j,2);NQ(D,{children:(B,V)=>{var W=Ln(),se=Qt(W);Ws(se,e,"preview",{root:u}),ie(B,W)},$$slots:{default:!0}});var G=z(C,2);{var I=B=>{var V=zQ();ws(V,5,o,xs,(W,se,be)=>{var Re=VQ(),Pe=J(Re);const Je=le(()=>l()(x(se)));e1(Pe,{get key(){return x(Je)},get expanded(){return x(s)[be]},children:(Me,it)=>{var ke=XQ(),ct=Qt(ke),Zn=J(ct);jO(Zn,{});var mn=z(Zn);Ws(mn,e,"item_key",{get key(){return x(se)},index:be});var yn=z(mn);{var gi=Ct=>{var Xn=UQ();ie(Ct,Xn)};Ht(yn,Ct=>{(!a()||a()(x(se)))&&Ct(gi)})}var Rn=z(ct);Ws(Rn,e,"item_value",{get key(){return x(se)},index:be}),Xe("click",ct,()=>x(s)[be].update(Ct=>!Ct)),ie(Me,ke)},$$slots:{default:!0}}),Te(()=>Ip(Re,"indent",r())),Xe("click",Re,pO(()=>{})),ie(W,Re)}),Xe("click",V,pO($)),ie(B,V)};Ht(G,B=>{r()&&B(I)})}Xe("click",C,$),ie(E,M)};Ht(P,E=>{f==="summary"?E(k):E(A,!1)})}ie(n,Q),bt(),i()}var YQ=pe('<span class="label"> </span>'),GQ=pe('<!><span class="operator"> </span>',1),FQ=pe('<span class="comma operator svelte-150ffaa">,</span>'),HQ=pe("<!> <!>",1),KQ=pe('<span class="comma operator svelte-150ffaa">,</span> <span class="operator"></span>',1),JQ=pe('<span class="operator"> </span>'),eP=pe("<!> <!> <!> <!>",1);function Qa(n,e){yt(e,!1);let t=st(e,"list",8),i=st(e,"hasMore",8),r=st(e,"label",24,()=>{}),s=st(e,"prefix",24,()=>{}),o=st(e,"postfix",24,()=>{}),a=st(e,"root",8,!1);const{showPreview:l}=pr();kt();var c=Ln(),h=Qt(c);{var f=u=>{var d=eP(),g=Qt(d);{var m=k=>{var A=GQ(),E=Qt(A);{var M=q=>{var D=YQ(),G=J(D);Te(()=>je(G,r())),ie(q,D)};Ht(E,q=>{r()&&q(M)})}var C=z(E),j=J(C);Te(()=>je(j,s())),ie(k,A)};Ht(g,k=>{s()&&k(m)})}var O=z(g,2);ws(O,1,t,xs,(k,A,E)=>{var M=HQ(),C=Qt(M);Ws(C,e,"item",{get item(){return x(A)},index:E});var j=z(C,2);{var q=D=>{var G=FQ();ie(D,G)};Ht(j,D=>{E<t().length-1&&D(q)})}ie(k,M)});var b=z(O,2);{var $=k=>{var A=KQ();ie(k,A)};Ht(b,k=>{i()&&k($)})}var Q=z(b,2);{var P=k=>{var A=JQ(),E=J(A);Te(()=>je(E,o())),ie(k,A)};Ht(Q,k=>{o()&&k(P)})}ie(u,d)};Ht(h,u=>{(a()||l)&&u(f)})}ie(n,c),bt()}var tP=pe('<span class="label"> </span>'),nP=pe('<span class="property"> </span><span class="operator"></span><!>',1),iP=pe('<span class="property"> </span>');function gd(n,e){yt(e,!1);const t=re(),i=re();let r=st(e,"value",8),s=st(e,"summary",8);Rt(()=>sn(r()),()=>{N(t,Object.getOwnPropertyNames(r()))}),Rt(()=>x(t),()=>{N(i,x(t).slice(0,5))}),pi(),kt(),wi(n,{get keys(){return x(t)},$$slots:{summary:(o,a)=>{var l=tP(),c=J(l);Te(()=>je(c,s()??"{}")),ie(o,l)},preview:(o,a)=>{const l=le(()=>a.root),c=le(()=>x(i).length<x(t).length),h=le(()=>s()?`${s()} {`:"{");Qa(o,{get list(){return x(i)},get hasMore(){return x(c)},get prefix(){return x(h)},postfix:"}",get root(){return x(l)},$$slots:{item:(f,u)=>{const d=le(()=>u.item);var g=nP(),m=Qt(g),O=J(m),b=z(m);b.textContent=": ";var $=z(b);Bt($,{get value(){return r()[x(d)]}}),Te(()=>je(O,x(d))),ie(f,g)}}})},item_key:(o,a)=>{const l=le(()=>a.key);var c=iP(),h=J(c);Te(()=>je(h,x(l))),ie(o,c)},item_value:(o,a)=>{const l=le(()=>a.key);Bt(o,{get value(){return r()[x(l)]}})}}}),bt()}var rP=pe('<span class="label"> </span>'),sP=pe('<span class="property"> </span>');function oP(n,e){yt(e,!1);const t=re(),i=re();let r=st(e,"value",8);Rt(()=>sn(r()),()=>{N(t,Object.getOwnPropertyNames(r()))}),Rt(()=>sn(r()),()=>{N(i,r().slice(0,5))}),pi(),kt(),wi(n,{get keys(){return x(t)},$$slots:{summary:(s,o)=>{var a=rP(),l=J(a);Te(()=>je(l,`Array(${r().length??""})`)),ie(s,a)},preview:(s,o)=>{const a=le(()=>o.root),l=le(()=>x(i).length<r().length);Qa(s,{get list(){return x(i)},get hasMore(){return x(l)},get label(){return`(${r().length??""}) `},prefix:"[",postfix:"]",get root(){return x(a)},$$slots:{item:(c,h)=>{const f=le(()=>h.item);Bt(c,{get value(){return x(f)}})}}})},item_key:(s,o)=>{const a=le(()=>o.key);var l=sP(),c=J(l);Te(h=>je(c,h),[()=>String(x(a))],le),ie(s,l)},item_value:(s,o)=>{const a=le(()=>o.key);Bt(s,{get value(){return r()[x(a)]}})}}}),bt()}var aP=pe('<span class="label"> </span>'),lP=pe("<span> </span>"),cP=pe('<span class="property"> </span>');function hP(n,e){yt(e,!1);const t=re();let i=st(e,"value",8),r=st(e,"nodeType",8),s=re([]),o=re([]);const a="[[Entries]]";Rt(()=>sn(i()),()=>{let l=[],c=[],h=0;for(const f of i())l.push(h++),c.push(f);N(s,l),N(o,c)}),Rt(()=>x(o),()=>{N(t,x(o).slice(0,5))}),pi(),kt(),wi(n,{keys:[a,"size"],shouldShowColon:l=>l!==a,$$slots:{summary:(l,c)=>{var h=aP(),f=J(h);Te(()=>je(f,`${r()??""}(${x(s).length??""})`)),ie(l,h)},preview:(l,c)=>{const h=le(()=>c.root),f=le(()=>x(t).length<x(o).length),u=le(()=>`${r()}(${x(s).length}) `);Qa(l,{get list(){return x(t)},get hasMore(){return x(f)},get label(){return x(u)},prefix:"{",postfix:"}",get root(){return x(h)},$$slots:{item:(d,g)=>{const m=le(()=>g.item);Bt(d,{get value(){return x(m)}})}}})},item_key:(l,c)=>{const h=le(()=>c.key);var f=lP(),u=J(f);Te(()=>{yo(f,mo(x(h)===a?"internal":"property")),je(u,x(h))}),ie(l,f)},item_value:(l,c)=>{const h=le(()=>c.key);var f=Ln(),u=Qt(f);{var d=m=>{wi(m,{get keys(){return x(s)},defaultExpanded:!0,$$slots:{item_key:(O,b)=>{const $=le(()=>b.key);var Q=cP(),P=J(Q);Te(()=>je(P,x($))),ie(O,Q)},item_value:(O,b)=>{const $=le(()=>b.key);Bt(O,{get value(){return x(o)[x($)]}})}}})},g=m=>{Bt(m,{get value(){return i()[x(h)]}})};Ht(u,m=>{x(h)===a?m(d):m(g,!1)})}ie(l,f)}}}),bt()}var fP=pe('<span color="label"> </span>'),uP=pe('<!><span class="operator"></span><!>',1),dP=pe("<span> </span>"),pP=pe('<span class="property"> </span>'),gP=pe('<span class="operator"></span><!><span class="operator"></span><!><span class="operator"></span>',1),OP=pe('<span class="property"> </span>');function mP(n,e){yt(e,!1);const t=re();let i=st(e,"value",8);pr();let r=re([]),s=re([]),o=re([]);const a="[[Entries]]";Rt(()=>sn(i()),()=>{let l=[],c=[],h=[],f=0;for(const u of i())l.push(f++),c.push(u[0]),h.push(u[1]);N(r,l),N(s,c),N(o,h)}),Rt(()=>sn(i()),()=>{N(t,Array.from(i().keys()).slice(0,5))}),pi(),kt(),wi(n,{keys:[a,"size"],shouldShowColon:l=>l!==a,$$slots:{summary:(l,c)=>{var h=fP(),f=J(h);Te(()=>je(f,`Map(${x(s).length??""})`)),ie(l,h)},preview:(l,c)=>{const h=le(()=>c.root),f=le(()=>x(t).length<i().size),u=le(()=>`Map(${x(s).length}) `);Qa(l,{get list(){return x(t)},get hasMore(){return x(f)},get label(){return x(u)},prefix:"{",postfix:"}",get root(){return x(h)},$$slots:{item:(d,g)=>{const m=le(()=>g.item);var O=uP(),b=Qt(O);Bt(b,{get value(){return x(m)}});var $=z(b);$.textContent=" => ";var Q=z($);const P=le(()=>i().get(x(m)));Bt(Q,{get value(){return x(P)}}),ie(d,O)}}})},item_key:(l,c)=>{const h=le(()=>c.key);var f=dP(),u=J(f);Te(()=>{yo(f,mo(x(h)===a?"internal":"property")),je(u,x(h))}),ie(l,f)},item_value:(l,c)=>{const h=le(()=>c.key);var f=Ln(),u=Qt(f);{var d=m=>{wi(m,{get keys(){return x(r)},expandKey:O=>x(s)[O],defaultExpanded:!0,$$slots:{item_key:(O,b)=>{const $=le(()=>b.key);var Q=pP(),P=J(Q);Te(()=>je(P,x($))),ie(O,Q)},item_value:(O,b)=>{const $=le(()=>b.key);wi(O,{keys:["key","value"],$$slots:{preview:(Q,P)=>{var k=gP(),A=Qt(k);A.textContent="{ ";var E=z(A);Bt(E,{get value(){return x(s)[x($)]}});var M=z(E);M.textContent=" => ";var C=z(M);Bt(C,{get value(){return x(o)[x($)]}});var j=z(C);j.textContent=" }",ie(Q,k)},item_key:(Q,P)=>{const k=le(()=>P.key);var A=OP(),E=J(A);Te(()=>je(E,x(k))),ie(Q,A)},item_value:(Q,P)=>{const k=le(()=>P.key),A=le(()=>x(k)==="key"?x(s)[x($)]:x(o)[x($)]);Bt(Q,{get value(){return x(A)}})}}})}}})},g=m=>{Bt(m,{get value(){return i()[x(h)]}})};Ht(u,m=>{x(h)===a?m(d):m(g,!1)})}ie(l,f)}}}),bt()}var yP=pe("<span> </span>");function rs(n,e){let t=st(e,"value",8),i=st(e,"nodeType",8);var r=yP(),s=J(r);Te(()=>{yo(r,mo(i()),"svelte-l95iub"),je(s,t())}),ie(n,r)}var bP=pe('<span class="svelte-1u08yw6"><!><span class="operator"> </span></span><br>',1),vP=pe("<span><!></span>"),xP=pe("<span><!></span>");function wP(n,e){yt(e,!1);const[t,i]=Qi(),r=()=>qt(o,"$expanded",t);let s=st(e,"stack",8);const{expanded:o,expandable:a}=pr();Bn(a,!0),kt();var l=xP(),c=J(l);{var h=u=>{var d=Ln(),g=Qt(d);ws(g,1,s,xs,(m,O,b)=>{var $=bP();const Q=le(()=>b<s().length-1);var P=Qt($);Ip(P,"indent",b>0);var k=J(P);const A=le(()=>x(O)+(x(Q)?"\\n":""));Bt(k,{get value(){return x(A)}});var E=z(k),M=J(E);Te(()=>je(M,x(Q)?" +":"")),ie(m,$)}),ie(u,d)},f=u=>{var d=vP(),g=J(d);const m=le(()=>s()[0]+"");Bt(g,{get value(){return x(m)}}),ie(u,d)};Ht(c,u=>{r()?u(h):u(f,!1)})}Xe("click",l,()=>Bn(o,!r())),ie(n,l),bt(),i()}var SP=pe('<span class="label"> </span>'),kP=pe('<span class="label"> </span>'),$P=pe('<span class="property"> </span>');function QP(n,e){yt(e,!1);const t=re();let i=st(e,"value",8);Rt(()=>sn(i()),()=>{N(t,i().stack.split(`
`))}),pi(),kt(),wi(n,{keys:["message","stack"],$$slots:{summary:(r,s)=>{var o=SP(),a=J(o);Te(l=>je(a,`Error: ${l??""}`),[()=>String(i().message)],le),ie(r,o)},preview:(r,s)=>{var o=kP(),a=J(o);Te(l=>je(a,`Error: ${l??""}`),[()=>String(i().message)],le),ie(r,o)},item_key:(r,s)=>{const o=le(()=>s.key);var a=$P(),l=J(a);Te(()=>je(l,x(o))),ie(r,a)},item_value:(r,s)=>{const o=le(()=>s.key);var a=Ln(),l=Qt(a);{var c=f=>{wP(f,{get stack(){return x(t)}})},h=f=>{Bt(f,{get value(){return i()[x(o)]}})};Ht(l,f=>{x(o)==="stack"?f(c):f(h,!1)})}ie(r,a)}}}),bt()}function PP(n,e){const t=Object.prototype.toString.call(n).slice(8,-1);return t==="Object"?!e&&typeof n[Symbol.iterator]=="function"?"Iterable":n.constructor.name:t}var _P=pe('<span class="svelte-1fvwa9c"> </span>'),AP=pe('<span class="svelte-1fvwa9c"> </span>');function EP(n,e){yt(e,!1);const t=re();let i=st(e,"value",8);const r={"\n":"\\n","	":"\\t","\r":"\\r"},{displayMode:s}=pr();Rt(()=>sn(i()),()=>{N(t,i().replace(/[\n\t\r]/g,h=>r[h]))}),pi(),kt();var o=Ln(),a=Qt(o);{var l=h=>{var f=_P(),u=J(f);Te(d=>je(u,`"${d??""}"`),[()=>x(t).slice(0,30)+(x(t).length>30?"":"")],le),ie(h,f)},c=h=>{var f=AP(),u=J(f);Te(()=>je(u,`"${x(t)??""}"`)),ie(h,f)};Ht(a,h=>{s==="summary"?h(l):h(c,!1)})}ie(n,o),bt()}var TP=pe('<span class="i svelte-1eamqdt"></span>'),CP=pe('<span class="fn i svelte-1eamqdt"> </span>'),MP=pe('<span class="i svelte-1eamqdt"> </span>'),ZP=pe("<!><!>",1),RP=pe("<span> </span>"),IP=pe('<span class="i svelte-1eamqdt"> </span>');function jP(n,e){yt(e,!1);const t=re(),i=re(),r=re();let s=st(e,"value",8);function o(g){const m=g.match(/^(?:(async)\s+)?(?:function)?(\*)?\s*([^(]+)?(\([^)]*\))\s*(=>)?/),O=m==null?void 0:m[1],b=m==null?void 0:m[2],$=m==null?void 0:m[3],Q=m==null?void 0:m[4],P=m==null?void 0:m[5],k=g.match(/^class\s+([^\s]+)/),A=k==null?void 0:k[1];return{args:Q,isAsync:O,isGenerator:b,fnName:$,isArrow:P,isClass:A}}function a({isGenerator:g,isAsync:m,isClass:O}){return O?`class ${O}`:(m?"async ":"")+""+(g?"*":"")}function l({isAsync:g,isArrow:m,fnName:O,args:b}){return(m&&g?"async":"")+" "+(O??"")+b+(m?" => ":"")}const c="[[Function]]",h="[[Prototype]]";function f(g){return g===h?s().__proto__:s()[g]}function u(g){return g===c?!0:f(g)}function d(g){try{return g.toString()}catch{switch(g.constructor.name){case"AsyncFunction":return"async function () {}";case"AsyncGeneratorFunction":return"async function * () {}";case"GeneratorFunction:":return"function * () {}";default:return"function () {}"}}}Rt(()=>sn(s()),()=>{N(t,d(s()))}),Rt(()=>x(t),()=>{N(i,o(x(t)))}),Rt(()=>{},()=>{N(r,["length","name","prototype",c,h].filter(u))}),pi(),kt(),wi(n,{get keys(){return x(r)},$$slots:{summary:(g,m)=>{var O=TP();ie(g,O)},preview:(g,m)=>{var O=ZP(),b=Qt(O);{var $=k=>{var A=CP(),E=J(A);Te(M=>je(E,M),[()=>a(x(i))],le),ie(k,A)};Ht(b,k=>{x(i).isArrow||k($)})}var Q=z(b);{var P=k=>{var A=MP(),E=J(A);Te(M=>je(E,M),[()=>l(x(i))],le),ie(k,A)};Ht(Q,k=>{x(i).isClass||k(P)})}ie(g,O)},item_key:(g,m)=>{const O=le(()=>m.key);var b=RP(),$=J(b);Te(()=>{yo(b,mo(x(O)===c||x(O)===h?"internal":"property"),"svelte-1eamqdt"),je($,x(O))}),ie(g,b)},item_value:(g,m)=>{const O=le(()=>m.key);var b=Ln(),$=Qt(b);{var Q=k=>{var A=IP(),E=J(A);Te(()=>je(E,x(t))),ie(k,A)},P=k=>{var A=Ln(),E=Qt(A);{var M=j=>{const q=le(()=>f(x(O)));gd(j,{get value(){return x(q)}})},C=j=>{const q=le(()=>f(x(O)));Bt(j,{get value(){return x(q)}})};Ht(E,j=>{x(O)==="prototype"?j(M):j(C,!1)},!0)}ie(k,A)};Ht($,k=>{x(O)===c?k(Q):k(P,!1)})}ie(g,b)}}}),bt()}var BP=pe('<span class="label"> <!> </span>'),DP=pe('<span class="property"> </span><span class="operator"></span><!>',1),LP=pe("<span> </span>");function qP(n,e){yt(e,!1);const[t,i]=Qi(),r=()=>qt(h(),"$value",t),s=re(),o=re(),a=re(),l=re(),c=re();let h=st(e,"value",8);const f="$value";function u(d){return d===f?x(l):h()[d]}Rt(()=>sn(h()),()=>{N(s,Object.getOwnPropertyNames(h()))}),Rt(()=>x(s),()=>{N(o,[f,...x(s)])}),Rt(()=>x(s),()=>{N(a,x(s).slice(0,5))}),Rt(()=>r(),()=>{N(l,r())}),Rt(()=>sn(h()),()=>{N(c,typeof h().set=="function")}),pi(),kt(),wi(n,{get keys(){return x(o)},$$slots:{summary:(d,g)=>{var m=BP(),O=J(m),b=z(O);Bt(b,{get value(){return x(l)}});var $=z(b,1,!0);$.nodeValue=")",Te(()=>je(O,x(c)?"writable(":"readable(")),ie(d,m)},preview:(d,g)=>{const m=le(()=>g.root),O=le(()=>x(a).length<x(s).length);Qa(d,{get list(){return x(a)},get hasMore(){return x(O)},prefix:"{",postfix:"}",get root(){return x(m)},$$slots:{item:(b,$)=>{const Q=le(()=>$.item);var P=DP(),k=Qt(P),A=J(k),E=z(k);E.textContent=": ";var M=z(E);Bt(M,{get value(){return h()[x(Q)]}}),Te(()=>je(A,x(Q))),ie(b,P)}}})},item_key:(d,g)=>{const m=le(()=>g.key);var O=LP(),b=J(O);Te(()=>{yo(O,mo(x(m)===f?"internal":"property")),je(b,x(m))}),ie(d,O)},item_value:(d,g)=>{const m=le(()=>g.key),O=le(()=>u(x(m)));Bt(d,{get value(){return x(O)}})}}}),bt(),i()}var NP=pe('<span class="label"> </span>'),UP=pe("<span> </span>");function XP(n,e){yt(e,!1);const t=re(),i=re();let r=st(e,"value",8),s=st(e,"nodeType",8);const o="Symbol(Symbol.toStringTag)",a=["buffer","byteLength","byteOffset","length",o];function l(c){return c===o?r()[Symbol.toStringTag]:r()[c]}Rt(()=>sn(r()),()=>{N(t,[...Object.getOwnPropertyNames(r()),...a])}),Rt(()=>sn(r()),()=>{N(i,r().slice(0,5))}),pi(),kt(),wi(n,{get keys(){return x(t)},$$slots:{summary:(c,h)=>{var f=NP(),u=J(f);Te(()=>je(u,`${s()??""}(${r().length??""})`)),ie(c,f)},preview:(c,h)=>{const f=le(()=>h.root),u=le(()=>x(i).length<r().length);Qa(c,{get list(){return x(i)},get hasMore(){return x(u)},get label(){return`${s()??""}(${r().length??""}) `},prefix:"[",postfix:"]",get root(){return x(f)},$$slots:{item:(d,g)=>{const m=le(()=>g.item);Bt(d,{get value(){return x(m)}})}}})},item_key:(c,h)=>{const f=le(()=>h.key);var u=UP(),d=J(u);Te((g,m)=>{yo(u,mo(g)),je(d,m)},[()=>a.includes(x(f))?"internal":"property",()=>String(x(f))],le),ie(c,u)},item_value:(c,h)=>{const f=le(()=>h.key),u=le(()=>l(x(f)));Bt(c,{get value(){return x(u)}})}}}),bt()}var VP=pe('<span class="regex svelte-17k1wqt"> </span>'),zP=pe('<span class="regex svelte-17k1wqt"> </span>'),WP=pe('<span class="internal"> </span>');function YP(n,e){yt(e,!1);const t=re();let i=st(e,"value",8);const r=["lastIndex","dotAll","flags","global","hasIndices","ignoreCase","multiline","source","sticky","unicode"];Rt(()=>sn(i()),()=>{N(t,i().toString())}),pi(),kt(),wi(n,{keys:r,$$slots:{summary:(s,o)=>{var a=VP(),l=J(a);Te(()=>je(l,x(t))),ie(s,a)},preview:(s,o)=>{var a=zP(),l=J(a);Te(()=>je(l,x(t))),ie(s,a)},item_key:(s,o)=>{const a=le(()=>o.key);var l=WP(),c=J(l);Te(h=>je(c,h),[()=>String(x(a))],le),ie(s,l)},item_value:(s,o)=>{const a=le(()=>o.key);Bt(s,{get value(){return i()[x(a)]}})}}}),bt()}function Bt(n,e){yt(e,!1);const[t,i]=Qi(),r=()=>qt(l,"$nodeType",t),s=re(),o=re();let a=st(e,"value",8);const l=fr(),{shouldTreatIterableAsObject:c}=pr();function h(d,g){switch(d){case"Object":return typeof g.subscribe=="function"?[qP]:[gd];case"Error":return[QP];case"Array":return[oP];case"Map":return[mP];case"Iterable":case"Set":return[hP,{nodeType:d}];case"Number":return[rs,{nodeType:d}];case"String":return[EP];case"Boolean":return[rs,{nodeType:d,value:g?"true":"false"}];case"Date":return[rs,{nodeType:d,value:g.toISOString()}];case"Null":return[rs,{nodeType:d,value:"null"}];case"Undefined":return[rs,{nodeType:d,value:"undefined"}];case"Function":case"AsyncFunction":case"AsyncGeneratorFunction":case"GeneratorFunction":return[jP];case"Symbol":return[rs,{nodeType:d,value:g.toString()}];case"BigInt":return[rs,{nodeType:d,value:String(g)+"n"}];case"ArrayBuffer":return[rs,{nodeType:d,value:`ArrayBuffer(${g.byteLength})`}];case"BigInt64Array":case"BigUint64Array":case"Float32Array":case"Float64Array":case"Int8Array":case"Int16Array":case"Int32Array":case"Uint8Array":case"Uint8ClampedArray":case"Uint16Array":case"Uint32Array":return[XP,{nodeType:d}];case"RegExp":return[YP];default:return[gd,{summary:d}]}}Rt(()=>sn(a()),()=>{Bn(l,PP(a(),c))}),Rt(()=>(x(s),x(o),r(),sn(a())),()=>{(d=>(N(s,d[0]),N(o,d[1])))(h(r(),a()))}),pi(),kt();var f=Ln(),u=Qt(f);Zy(u,()=>x(s),(d,g)=>{g(d,JS({get value(){return a()}},()=>x(o)))}),ie(n,f),bt(),i()}function GP({defaultExpandedPaths:n,defaultExpandedLevel:e}){const t=n.map(r=>r.split("."));function i(r){e:for(const s of t){if(r.length>s.length)continue;const o=Math.min(r.length,s.length);for(let a=0;a<o;a++)if(s[a]!=="*"&&s[a]!==String(r[a]))continue e;return!0}return!1}return function({keyPath:r,level:s}){return s<=e||i(r)}}var FP=pe('<ul class="svelte-16cw61f"><!></ul>');function vo(n,e){yt(e,!1);const t=re();let i=st(e,"value",8),r=st(e,"shouldShowPreview",8,!0),s=st(e,"shouldTreatIterableAsObject",8,!1),o=st(e,"defaultExpandedPaths",24,()=>[]),a=st(e,"defaultExpandedLevel",8,0);const l=fr(!0);pr({expanded:l,isParentExpanded:GS(!0),root:!0,shouldExpandNode:f=>x(t)(f),level:0,keyPath:[],showPreview:r(),shouldTreatIterableAsObject:s()}),Rt(()=>(sn(o()),sn(a())),()=>{N(t,GP({defaultExpandedPaths:o(),defaultExpandedLevel:a()}))}),pi(),kt();var c=FP(),h=J(c);e1(h,{key:"$",expanded:l,children:(f,u)=>{Bt(f,{get value(){return i()}})},$$slots:{default:!0}}),ie(n,c),bt()}var HP=pe('<main><span>faucet URL: <input type="string" list="faucetUrls" size="60" placeholder="faucet URL, like http://127.0.0.1:9123/gas"> <datalist id="faucetUrls"><option>Localnet</option><option>Testnet</option><option>Testnet</option><option>Devnet</option><option>Alphanet</option></datalist></span> <br> <span>address: <input placeholder="address" size="67"></span> <br> <span>amount of requests: <input type="number" placeholder="1" size="4"></span> <span>milliseconds between requests: <input type="number" placeholder="1000" size="4"></span> <br> <button class="svelte-1gmtaic">Request funds</button> <div class="value svelte-1gmtaic"><button class="svelte-1gmtaic">toggle JSON tree</button> <div><!></div> <pre class="svelte-1gmtaic"> </pre></div></main>');function KP(n,e){yt(e,!1);let t=re("0x111111111504e9350e635d65cd38ccd2c029434c6a3a480d8947a9ba6a15b215"),i=re("https://faucet.testnet.iota.cafe/gas"),r=re({}),s=re(1),o=re(1e3);const a=async()=>{for(let V=0;V<x(s);V++)l(),await new Promise(W=>setTimeout(W,x(o)))},l=async()=>{var Re;try{if(!li(x(t)))throw new Error("invalid address");try{var V=await DQ({host:x(i),recipient:x(t)});let Pe=(Re=V.task)==null?void 0:Re.taskId;if(be||!Pe)throw new Error(be??"Failed, task id not found.");console.log(Pe);var{status:{status:W,transferred_gas_objects:se},error:be}=await LQ({host:x(i),taskId:Pe});console.log(W),console.log(se),N(r,se)}catch(Pe){console.log(Pe);const Je=await BQ({host:x(i),recipient:x(t)});console.log(Je),N(r,Je)}}catch(Pe){N(r,Pe.toString()),console.error(Pe)}};let c=re(!0);kt();var h=HP(),f=J(h),u=z(J(f)),d=z(u,2),g=J(d);g.value=(g.__value="http://127.0.0.1:9123/gas")==null?"":"http://127.0.0.1:9123/gas";var m=z(g);m.value=(m.__value="https://faucet.testnet.iota.cafe/gas")==null?"":"https://faucet.testnet.iota.cafe/gas";var O=z(m);O.value=(O.__value="https://faucet.testnet.iota.cafe/gas")==null?"":"https://faucet.testnet.iota.cafe/gas";var b=z(O);b.value=(b.__value="https://faucet.devnet.iota.cafe/gas")==null?"":"https://faucet.devnet.iota.cafe/gas";var $=z(b);$.value=($.__value="https://faucet.iota-rebased-alphanet.iota.cafe/gas")==null?"":"https://faucet.iota-rebased-alphanet.iota.cafe/gas";var Q=z(f,4),P=z(J(Q)),k=z(Q,4),A=z(J(k)),E=z(k,2),M=z(J(E)),C=z(E,4),j=z(C,2),q=J(j),D=z(q,2),G=J(D);vo(G,{get value(){return x(r)}});var I=z(D,2),B=J(I);Te((V,W)=>{j.hidden=V,D.hidden=!x(c),I.hidden=x(c),je(B,W)},[()=>Object.keys(x(r)).length==0,()=>JSON.stringify(x(r),null,2)],le),vt(u,()=>x(i),V=>N(i,V)),vt(P,()=>x(t),V=>N(t,V)),vt(A,()=>x(s),V=>N(s,V)),vt(M,()=>x(o),V=>N(o,V)),Xe("click",C,()=>a()),Xe("click",q,()=>N(c,!x(c))),ie(n,h),bt()}let Js=Ep(void 0),Go=Ep(Zi({selected:"https://api.testnet.iota.cafe",list:[{value:"http://127.0.0.1:9000"},{value:"https://api.testnet.iota.cafe"},{value:"https://api.devnet.iota.cafe"},{value:"https://api.iota-rebased-alphanet.iota.cafe"}]})),ou=Ep(""),Jc=JP("nodeUrls",Ap(x(Go)));Jc.subscribe(n=>{n&&(N(Go,Zi(n)),N(Js,Zi(x(Go).selected)))});let BO="",au;const ci=async()=>((au==null||x(Js)!=BO)&&(au=new IQ({url:x(Js)}),BO=x(Js)),au);function JP(n,e){const t=localStorage.getItem(n),i=fr(t==null?e:JSON.parse(t));return i.subscribe(r=>{localStorage.setItem(n,JSON.stringify(r))}),i}var e_=(n,e,t,i,r)=>{x(e).selected=x(t),Bn(r,Zi(Ap(x(e))))},t_=pe("<option> </option>"),n_=(n,e,t,i,r)=>{x(e).list.push({value:x(t)}),Bn(r,Zi(Ap(x(e))))},i_=pe('<main><select></select> <input type="string" size="35" placeholder="node URL like http://127.0.0.1:9000"> <button>Add node URL</button></main>');function r_(n,e){yt(e,!0);const[t,i]=Qi(),r=()=>qt(Jc,"$nodeUrlsStore",t);var s=i_(),o=J(s);o.__change=[e_,Go,Js,r,Jc],ws(o,21,()=>x(Go).list,xs,(c,h)=>{var f=t_(),u={},d=J(f);Te(()=>{u!==(u=x(h).value)&&(f.value=(f.__value=x(h).value)==null?"":x(h).value),je(d,x(h).value)}),ie(c,f)});var a=z(o,2),l=z(a,2);l.__click=[n_,Go,ou,r,Jc],$h(o,()=>x(Js),c=>N(Js,c)),vt(a,()=>x(ou),c=>N(ou,c)),ie(n,s),bt(),i()}My(["change","click"]);var s_=pe('<li><button class="svelte-bu8pol"> </button></li>'),o_=pe('<div class="box svelte-bu8pol"><!></div>'),a_=pe('<ul class="svelte-bu8pol"></ul> <!>',1);function l_(n,e){let t=st(e,"items",24,()=>[]),i=re(JSON.parse(localStorage.getItem("activeTabs")||"[0]"));const r=l=>()=>{uy(i,x(i)[0]=l),localStorage.setItem("activeTabs",JSON.stringify(x(i)))};var s=a_(),o=Qt(s);ws(o,5,t,xs,(l,c)=>{var h=s_(),f=J(h),u=ia(()=>r(x(c).value)),d=J(f);Te(g=>{yo(h,mo(g),"svelte-bu8pol"),je(d,x(c).label)},[()=>x(i).includes(x(c).value)?"active":""],le),Xe("click",f,function(...g){var m;(m=x(u))==null||m.apply(this,g)}),ie(l,h)});var a=z(o,2);ws(a,1,t,xs,(l,c)=>{var h=o_(),f=J(h);Zy(f,()=>x(c).component,(u,d)=>{d(u,{})}),Te(u=>h.hidden=u,[()=>!x(i).includes(x(c).value)],le),ie(l,h)}),ie(n,s)}var c_=pe('<main><button class="svelte-1gmtaic">get latest iota system state</button> <div class="value svelte-1gmtaic"><button class="svelte-1gmtaic">toggle JSON tree</button> <div><!></div> <pre class="svelte-1gmtaic"> </pre></div></main>');function h_(n,e){yt(e,!1);let t=re({});const i=async()=>{try{const g=await(await ci()).getLatestIotaSystemState();console.log(g),N(t,g)}catch(d){N(t,d.toString()),console.error(d)}};let r=re(!0);kt();var s=c_(),o=J(s),a=z(o,2),l=J(a),c=z(l,2),h=J(c);vo(h,{get value(){return x(t)}});var f=z(c,2),u=J(f);Te((d,g)=>{a.hidden=d,c.hidden=!x(r),f.hidden=x(r),je(u,g)},[()=>Object.keys(x(t)).length==0,()=>JSON.stringify(x(t),null,2)],le),Xe("click",o,()=>i()),Xe("click",l,()=>N(r,!x(r))),ie(n,s),bt()}let ji=fr([]),Lr=fr([]),Ki=fr("0x");var f_=pe('<main>Publish data as input to a tx <br> <span>pure input data: <input placeholder="string" size="60"></span> <br> <button class="svelte-1gmtaic">publish data in tx</button> <div class="value svelte-1gmtaic"><button class="svelte-1gmtaic">toggle JSON tree</button> <div><!></div> <pre class="svelte-1gmtaic"> </pre></div></main>');function u_(n,e){yt(e,!1);const[t,i]=Qi(),r=()=>qt(ji,"$iota_wallets",t),s=()=>qt(Lr,"$iota_accounts",t),o=()=>qt(Ki,"$activeAddress",t);let a=re("some data"),l=re({});const c=async()=>{try{const k=new lo;k.pure("string",x(a));let A=await r()[0].signAndExecuteTransaction({transaction:k,options:{showEffects:!0,showObjectChanges:!0,showBalanceChanges:!0},account:s().filter(M=>M.address==o())[0]});console.log(A),N(l,A),(await ci()).waitForTransaction({digest:A.digest}).then(()=>{console.log("tx block available via api")})}catch(k){N(l,k.toString()),console.error(k)}};let h=re(!0);kt();var f=f_(),u=z(J(f),3),d=z(J(u)),g=z(u,4),m=z(g,2),O=J(m),b=z(O,2),$=J(b);vo($,{get value(){return x(l)}});var Q=z(b,2),P=J(Q);Te((k,A)=>{m.hidden=k,b.hidden=!x(h),Q.hidden=x(h),je(P,A)},[()=>Object.keys(x(l)).length==0,()=>JSON.stringify(x(l),null,2)],le),vt(d,()=>x(a),k=>N(a,k)),Xe("click",g,()=>c()),Xe("click",O,()=>N(h,!x(h))),ie(n,f),bt(),i()}var d_=pe('<main><button class="svelte-1gmtaic">List all IOTA coins</button> <br> <button class="svelte-1gmtaic">Merge all IOTA coins (max 2048 at once)</button> <br> <span>object count: <input placeholder="0"></span> <span>amount per object: <input placeholder="0"></span> <br> <button class="svelte-1gmtaic">Split IOTA coins (max 2048)</button> <div class="value svelte-1gmtaic"><button class="svelte-1gmtaic">toggle JSON tree</button> <div><!></div> <pre class="svelte-1gmtaic"> </pre></div></main>');function p_(n,e){yt(e,!1);const[t,i]=Qi(),r=()=>qt(Ki,"$activeAddress",t),s=()=>qt(ji,"$iota_wallets",t),o=()=>qt(Lr,"$iota_accounts",t);let a=re("1"),l=re("0"),c=re({});const h=async()=>{try{let G=await ci(),I=await d(G,r());if(I.length<2)throw new Error("No coins to consolidate");let B=I.findIndex(Pe=>parseInt(Pe.balance)>5e5),[V]=I.splice(B,1),W=I.slice(0,1676).map(Pe=>Pe.coinObjectId);console.log(`Consolidating ${W.length+1} coins`);const se=new lo,be=511;for(let Pe=0;Pe<W.length;Pe+=be){const Je=W.slice(Pe,Pe+be);se.mergeCoins(se.gas,Je)}se.setGasPayment([{objectId:V.coinObjectId,version:V.version,digest:V.digest}]);let Re=await s()[0].signAndExecuteTransaction({transaction:se,options:{showEffects:!0,showObjectChanges:!0,showBalanceChanges:!0},account:o().filter(Pe=>Pe.address==r())[0]});console.log(Re),N(c,Re),G.waitForTransaction({digest:Re.digest}).then(()=>{console.log("tx block available via api")})}catch(G){N(c,G.toString()),console.error(G)}},f=async()=>{try{const G=new lo,I=new Array(parseInt(x(a))).fill(parseInt(x(l))),B=G.splitCoins(G.gas,I);let V=[...Array(I.length).keys()].map(be=>({kind:"NestedResult",NestedResult:[B[0].NestedResult[0],be]}));G.transferObjects(V,r());let W=await s()[0].signAndExecuteTransaction({transaction:G,options:{showEffects:!0,showObjectChanges:!0,showBalanceChanges:!0},account:o().filter(be=>be.address==r())[0]});console.log(W),N(c,W),(await ci()).waitForTransaction({digest:W.digest}).then(()=>{console.log("tx block available via api")})}catch(G){N(c,G.toString()),console.error(G)}},u=async()=>{try{let G=await ci(),I=await d(G,r());N(c,I)}catch(G){N(c,G.toString()),console.error(G)}};async function d(G,I){let B=null;const V=[];do{const{data:W,nextCursor:se}=await G.getCoins({owner:I,cursor:B});if(!W||!W.length)break;V.push(...W),B=se}while(B);return V}let g=re(!0);kt();var m=d_(),O=J(m),b=z(O,4),$=z(b,4),Q=z(J($)),P=z($,2),k=z(J(P)),A=z(P,4),E=z(A,2),M=J(E),C=z(M,2),j=J(C);vo(j,{get value(){return x(c)}});var q=z(C,2),D=J(q);Te((G,I)=>{E.hidden=G,C.hidden=!x(g),q.hidden=x(g),je(D,I)},[()=>Object.keys(x(c)).length===0&&x(c).constructor===Object,()=>JSON.stringify(x(c),null,2)],le),Xe("click",O,()=>u()),Xe("click",b,()=>h()),vt(Q,()=>x(a),G=>N(a,G)),vt(k,()=>x(l),G=>N(l,G)),Xe("click",A,()=>f()),Xe("click",M,()=>N(g,!x(g))),ie(n,m),bt(),i()}var g_=function(n,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(n):i?i.value:e.get(n)},O_=function(n,e,t,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(n,t):r?r.value=t:e.set(n,t),t},eh;let qa;const Pf=new Set;function m_(n){dl=void 0,Pf.add(n)}function y_(n){dl=void 0,Pf.delete(n)}const Bo={};function b_(){if(qa||(qa=Object.freeze({register:DO,get:v_,on:x_}),typeof window>"u"))return qa;const n=Object.freeze({register:DO});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(n))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new w_(n))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return qa}function DO(...n){var e;return n=n.filter(t=>!Pf.has(t)),n.length?(n.forEach(t=>m_(t)),(e=Bo.register)==null||e.forEach(t=>LO(()=>t(...n))),function(){var i;n.forEach(r=>y_(r)),(i=Bo.unregister)==null||i.forEach(r=>LO(()=>r(...n)))}):()=>{}}let dl;function v_(){return dl||(dl=[...Pf]),dl}function x_(n,e){var t;return(t=Bo[n])!=null&&t.push(e)||(Bo[n]=[e]),function(){var r;Bo[n]=(r=Bo[n])==null?void 0:r.filter(s=>e!==s)}}function LO(n){try{n()}catch(e){console.error(e)}}class w_ extends Event{get detail(){return g_(this,eh,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),eh.set(this,void 0),O_(this,eh,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}eh=new WeakMap;const S_=["standard:connect","standard:events"];function k_(n,e=[]){return[...S_,...e].every(t=>t in n.features)}function t1(n,e){yt(e,!1);const[t,i]=Qi(),r=()=>qt(ji,"$iota_wallets",t),s=()=>qt(Lr,"$iota_accounts",t),o={CONNECT:"standard:connect",EVENTS:"standard:events",SIGN_AND_EXECUTE_TRANSACTION:"iota:signAndExecuteTransaction",SIGN_PERSONAL_MESSAGE:"iota:signPersonalMessage",SIGN_TRANSACTION:"iota:signTransaction"};function a(){try{if(ji.set(b_().get().filter(f=>{const u=Object.values(o);return k_(f,u)}).map(({accounts:f,chains:u,features:{[o.CONNECT]:{connect:d},[o.EVENTS]:{on:g},[o.SIGN_AND_EXECUTE_TRANSACTION]:{signAndExecuteTransaction:m},[o.SIGN_PERSONAL_MESSAGE]:{signPersonalMessage:O},[o.SIGN_TRANSACTION]:{signTransaction:b}},icon:$,name:Q,version:P})=>(console.log("connect",d),{accounts:f,chains:u,icon:$,name:Q,version:P,connect:d,on:g,signAndExecuteTransaction:m,signPersonalMessage:O,signTransaction:b,features:o}))),console.log(ji),ji.length==0)throw new Error("no web wallet found")}catch(f){console.error(f)}}const l=()=>r()[0],c=async()=>{a();let f=await r()[0].connect();Bn(Lr,f.accounts),Bn(Ki,f.accounts[0].address),console.log("web wallet connect result",f),console.log(s())};kt(),uO(e,"getActiveWallet",l),uO(e,"connectWallet",c);var h=bt({getActiveWallet:l,connectWallet:c});return i(),h}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lg=BigInt(0),_f=BigInt(1),$_=BigInt(2);function co(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Fl(n){if(!co(n))throw new Error("Uint8Array expected")}function ca(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const Q_=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function ha(n){Fl(n);let e="";for(let t=0;t<n.length;t++)e+=Q_[n[t]];return e}function Do(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function cg(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Sr={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function qO(n){if(n>=Sr._0&&n<=Sr._9)return n-Sr._0;if(n>=Sr._A&&n<=Sr._F)return n-(Sr._A-10);if(n>=Sr._a&&n<=Sr._f)return n-(Sr._a-10)}function fa(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(t);for(let r=0,s=0;r<t;r++,s+=2){const o=qO(n.charCodeAt(s)),a=qO(n.charCodeAt(s+1));if(o===void 0||a===void 0){const l=n[s]+n[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}i[r]=o*16+a}return i}function eo(n){return cg(ha(n))}function hg(n){return Fl(n),cg(ha(Uint8Array.from(n).reverse()))}function ua(n,e){return fa(n.toString(16).padStart(e*2,"0"))}function fg(n,e){return ua(n,e).reverse()}function P_(n){return fa(Do(n))}function Ti(n,e,t){let i;if(typeof e=="string")try{i=fa(e)}catch(s){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${s}`)}else if(co(e))i=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const r=i.length;if(typeof t=="number"&&r!==t)throw new Error(`${n} expected ${t} bytes, got ${r}`);return i}function kl(...n){let e=0;for(let i=0;i<n.length;i++){const r=n[i];Fl(r),e+=r.length}const t=new Uint8Array(e);for(let i=0,r=0;i<n.length;i++){const s=n[i];t.set(s,r),r+=s.length}return t}function __(n,e){if(n.length!==e.length)return!1;let t=0;for(let i=0;i<n.length;i++)t|=n[i]^e[i];return t===0}function A_(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const lu=n=>typeof n=="bigint"&&lg<=n;function Af(n,e,t){return lu(n)&&lu(e)&&lu(t)&&e<=n&&n<t}function to(n,e,t,i){if(!Af(e,t,i))throw new Error(`expected valid ${n}: ${t} <= n < ${i}, got ${typeof e} ${e}`)}function n1(n){let e;for(e=0;n>lg;n>>=_f,e+=1);return e}function E_(n,e){return n>>BigInt(e)&_f}function T_(n,e,t){return n|(t?_f:lg)<<BigInt(e)}const ug=n=>($_<<BigInt(n-1))-_f,cu=n=>new Uint8Array(n),NO=n=>Uint8Array.from(n);function i1(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let i=cu(n),r=cu(n),s=0;const o=()=>{i.fill(1),r.fill(0),s=0},a=(...f)=>t(r,i,...f),l=(f=cu())=>{r=a(NO([0]),f),i=a(),f.length!==0&&(r=a(NO([1]),f),i=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const u=[];for(;f<e;){i=a();const d=i.slice();u.push(d),f+=i.length}return kl(...u)};return(f,u)=>{o(),l(f);let d;for(;!(d=u(c()));)l();return o(),d}}const C_={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||co(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Hl(n,e,t={}){const i=(r,s,o)=>{const a=C_[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=n[r];if(!(o&&l===void 0)&&!a(l,n))throw new Error(`Invalid param ${String(r)}=${l} (${typeof l}), expected ${s}`)};for(const[r,s]of Object.entries(e))i(r,s,!1);for(const[r,s]of Object.entries(t))i(r,s,!0);return n}const M_=()=>{throw new Error("not implemented")};function Od(n){const e=new WeakMap;return(t,...i)=>{const r=e.get(t);if(r!==void 0)return r;const s=n(t,...i);return e.set(t,s),s}}const Z_=Object.freeze(Object.defineProperty({__proto__:null,aInRange:to,abool:ca,abytes:Fl,bitGet:E_,bitLen:n1,bitMask:ug,bitSet:T_,bytesToHex:ha,bytesToNumberBE:eo,bytesToNumberLE:hg,concatBytes:kl,createHmacDrbg:i1,ensureBytes:Ti,equalBytes:__,hexToBytes:fa,hexToNumber:cg,inRange:Af,isBytes:co,memoized:Od,notImplemented:M_,numberToBytesBE:ua,numberToBytesLE:fg,numberToHexUnpadded:Do,numberToVarBytesBE:P_,utf8ToBytes:A_,validateObject:Hl},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gn=BigInt(0),Kt=BigInt(1),Xs=BigInt(2),R_=BigInt(3),md=BigInt(4),UO=BigInt(5),XO=BigInt(8);BigInt(9);BigInt(16);function jn(n,e){const t=n%e;return t>=gn?t:e+t}function I_(n,e,t){if(t<=gn||e<gn)throw new Error("Expected power/modulo > 0");if(t===Kt)return gn;let i=Kt;for(;e>gn;)e&Kt&&(i=i*n%t),n=n*n%t,e>>=Kt;return i}function mi(n,e,t){let i=n;for(;e-- >gn;)i*=i,i%=t;return i}function yd(n,e){if(n===gn||e<=gn)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=jn(n,e),i=e,r=gn,s=Kt;for(;t!==gn;){const a=i/t,l=i%t,c=r-s*a;i=t,t=l,r=s,s=c}if(i!==Kt)throw new Error("invert: does not exist");return jn(r,e)}function j_(n){const e=(n-Kt)/Xs;let t,i,r;for(t=n-Kt,i=0;t%Xs===gn;t/=Xs,i++);for(r=Xs;r<n&&I_(r,e,n)!==n-Kt;r++);if(i===1){const o=(n+Kt)/md;return function(l,c){const h=l.pow(c,o);if(!l.eql(l.sqr(h),c))throw new Error("Cannot find square root");return h}}const s=(t+Kt)/Xs;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=i,h=a.pow(a.mul(a.ONE,r),t),f=a.pow(l,s),u=a.pow(l,t);for(;!a.eql(u,a.ONE);){if(a.eql(u,a.ZERO))return a.ZERO;let d=1;for(let m=a.sqr(u);d<c&&!a.eql(m,a.ONE);d++)m=a.sqr(m);const g=a.pow(h,Kt<<BigInt(c-d-1));h=a.sqr(g),f=a.mul(f,g),u=a.mul(u,h),c=d}return f}}function B_(n){if(n%md===R_){const e=(n+Kt)/md;return function(i,r){const s=i.pow(r,e);if(!i.eql(i.sqr(s),r))throw new Error("Cannot find square root");return s}}if(n%XO===UO){const e=(n-UO)/XO;return function(i,r){const s=i.mul(r,Xs),o=i.pow(s,e),a=i.mul(r,o),l=i.mul(i.mul(a,Xs),o),c=i.mul(a,i.sub(l,i.ONE));if(!i.eql(i.sqr(c),r))throw new Error("Cannot find square root");return c}}return j_(n)}const D_=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function L_(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=D_.reduce((i,r)=>(i[r]="function",i),e);return Hl(n,t)}function q_(n,e,t){if(t<gn)throw new Error("Expected power > 0");if(t===gn)return n.ONE;if(t===Kt)return e;let i=n.ONE,r=e;for(;t>gn;)t&Kt&&(i=n.mul(i,r)),r=n.sqr(r),t>>=Kt;return i}function N_(n,e){const t=new Array(e.length),i=e.reduce((s,o,a)=>n.is0(o)?s:(t[a]=s,n.mul(s,o)),n.ONE),r=n.inv(i);return e.reduceRight((s,o,a)=>n.is0(o)?s:(t[a]=n.mul(s,t[a]),n.mul(s,o)),r),t}function r1(n,e){const t=e!==void 0?e:n.toString(2).length,i=Math.ceil(t/8);return{nBitLength:t,nByteLength:i}}function dg(n,e,t=!1,i={}){if(n<=gn)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:r,nByteLength:s}=r1(n,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=B_(n),a=Object.freeze({ORDER:n,BITS:r,BYTES:s,MASK:ug(r),ZERO:gn,ONE:Kt,create:l=>jn(l,n),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return gn<=l&&l<n},is0:l=>l===gn,isOdd:l=>(l&Kt)===Kt,neg:l=>jn(-l,n),eql:(l,c)=>l===c,sqr:l=>jn(l*l,n),add:(l,c)=>jn(l+c,n),sub:(l,c)=>jn(l-c,n),mul:(l,c)=>jn(l*c,n),pow:(l,c)=>q_(a,l,c),div:(l,c)=>jn(l*yd(c,n),n),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>yd(l,n),sqrt:i.sqrt||(l=>o(a,l)),invertBatch:l=>N_(a,l),cmov:(l,c,h)=>h?c:l,toBytes:l=>t?fg(l,s):ua(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return t?hg(l):eo(l)}});return Object.freeze(a)}function s1(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function o1(n){const e=s1(n);return e+Math.ceil(e/2)}function U_(n,e,t=!1){const i=n.length,r=s1(e),s=o1(e);if(i<16||i<s||i>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${i}`);const o=t?eo(n):hg(n),a=jn(o,e-Kt)+Kt;return t?fg(a,r):ua(a,r)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const X_=BigInt(0),hu=BigInt(1),fu=new WeakMap,VO=new WeakMap;function V_(n,e){const t=(s,o)=>{const a=o.negate();return s?a:o},i=s=>{if(!Number.isSafeInteger(s)||s<=0||s>e)throw new Error(`Wrong window size=${s}, should be [1..${e}]`)},r=s=>{i(s);const o=Math.ceil(e/s)+1,a=2**(s-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(s,o){let a=n.ZERO,l=s;for(;o>X_;)o&hu&&(a=a.add(l)),l=l.double(),o>>=hu;return a},precomputeWindow(s,o){const{windows:a,windowSize:l}=r(o),c=[];let h=s,f=h;for(let u=0;u<a;u++){f=h,c.push(f);for(let d=1;d<l;d++)f=f.add(h),c.push(f);h=f.double()}return c},wNAF(s,o,a){const{windows:l,windowSize:c}=r(s);let h=n.ZERO,f=n.BASE;const u=BigInt(2**s-1),d=2**s,g=BigInt(s);for(let m=0;m<l;m++){const O=m*c;let b=Number(a&u);a>>=g,b>c&&(b-=d,a+=hu);const $=O,Q=O+Math.abs(b)-1,P=m%2!==0,k=b<0;b===0?f=f.add(t(P,o[$])):h=h.add(t(k,o[Q]))}return{p:h,f}},wNAFCached(s,o,a){const l=VO.get(s)||1;let c=fu.get(s);return c||(c=this.precomputeWindow(s,l),l!==1&&fu.set(s,a(c))),this.wNAF(l,c,o)},setWindowSize(s,o){i(o),VO.set(s,o),fu.delete(s)}}}function z_(n,e,t,i){if(!Array.isArray(t)||!Array.isArray(i)||i.length!==t.length)throw new Error("arrays of points and scalars must have equal length");i.forEach((h,f)=>{if(!e.isValid(h))throw new Error(`wrong scalar at index ${f}`)}),t.forEach((h,f)=>{if(!(h instanceof n))throw new Error(`wrong point at index ${f}`)});const r=n1(BigInt(t.length)),s=r>12?r-3:r>4?r-2:r?2:1,o=(1<<s)-1,a=new Array(o+1).fill(n.ZERO),l=Math.floor((e.BITS-1)/s)*s;let c=n.ZERO;for(let h=l;h>=0;h-=s){a.fill(n.ZERO);for(let u=0;u<i.length;u++){const d=i[u],g=Number(d>>BigInt(h)&BigInt(o));a[g]=a[g].add(t[u])}let f=n.ZERO;for(let u=a.length-1,d=n.ZERO;u>0;u--)d=d.add(a[u]),f=f.add(d);if(c=c.add(f),h!==0)for(let u=0;u<s;u++)c=c.double()}return c}function a1(n){return L_(n.Fp),Hl(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...r1(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zO(n){n.lowS!==void 0&&ca("lowS",n.lowS),n.prehash!==void 0&&ca("prehash",n.prehash)}function W_(n){const e=a1(n);Hl(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:i,a:r}=e;if(t){if(!i.eql(r,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Y_,hexToBytes:G_}=Z_,Ar={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(n,e)=>{const{Err:t}=Ar;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const i=e.length/2,r=Do(i);if(r.length/2&128)throw new t("tlv.encode: long form length too big");const s=i>127?Do(r.length/2|128):"";return`${Do(n)}${s}${r}${e}`},decode(n,e){const{Err:t}=Ar;let i=0;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[i++]!==n)throw new t("tlv.decode: wrong tlv");const r=e[i++],s=!!(r&128);let o=0;if(!s)o=r;else{const l=r&127;if(!l)throw new t("tlv.decode(long): indefinite length not supported");if(l>4)throw new t("tlv.decode(long): byte length is too big");const c=e.subarray(i,i+l);if(c.length!==l)throw new t("tlv.decode: length bytes not complete");if(c[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const h of c)o=o<<8|h;if(i+=l,o<128)throw new t("tlv.decode(long): not minimal encoding")}const a=e.subarray(i,i+o);if(a.length!==o)throw new t("tlv.decode: wrong value length");return{v:a,l:e.subarray(i+o)}}},_int:{encode(n){const{Err:e}=Ar;if(n<Cr)throw new e("integer: negative integers are not allowed");let t=Do(n);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected assertion");return t},decode(n){const{Err:e}=Ar;if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return Y_(n)}},toSig(n){const{Err:e,_int:t,_tlv:i}=Ar,r=typeof n=="string"?G_(n):n;Fl(r);const{v:s,l:o}=i.decode(48,r);if(o.length)throw new e("Invalid signature: left bytes after parsing");const{v:a,l}=i.decode(2,s),{v:c,l:h}=i.decode(2,l);if(h.length)throw new e("Invalid signature: left bytes after parsing");return{r:t.decode(a),s:t.decode(c)}},hexFromSig(n){const{_tlv:e,_int:t}=Ar,i=`${e.encode(2,t.encode(n.r))}${e.encode(2,t.encode(n.s))}`;return e.encode(48,i)}},Cr=BigInt(0),dn=BigInt(1);BigInt(2);const WO=BigInt(3);BigInt(4);function F_(n){const e=W_(n),{Fp:t}=e,i=dg(e.n,e.nBitLength),r=e.toBytes||((m,O,b)=>{const $=O.toAffine();return kl(Uint8Array.from([4]),t.toBytes($.x),t.toBytes($.y))}),s=e.fromBytes||(m=>{const O=m.subarray(1),b=t.fromBytes(O.subarray(0,t.BYTES)),$=t.fromBytes(O.subarray(t.BYTES,2*t.BYTES));return{x:b,y:$}});function o(m){const{a:O,b}=e,$=t.sqr(m),Q=t.mul($,m);return t.add(t.add(Q,t.mul(m,O)),b)}if(!t.eql(t.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(m){return Af(m,dn,e.n)}function l(m){const{allowedPrivateKeyLengths:O,nByteLength:b,wrapPrivateKey:$,n:Q}=e;if(O&&typeof m!="bigint"){if(co(m)&&(m=ha(m)),typeof m!="string"||!O.includes(m.length))throw new Error("Invalid key");m=m.padStart(b*2,"0")}let P;try{P=typeof m=="bigint"?m:eo(Ti("private key",m,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof m}`)}return $&&(P=jn(P,Q)),to("private key",P,dn,Q),P}function c(m){if(!(m instanceof u))throw new Error("ProjectivePoint expected")}const h=Od((m,O)=>{const{px:b,py:$,pz:Q}=m;if(t.eql(Q,t.ONE))return{x:b,y:$};const P=m.is0();O==null&&(O=P?t.ONE:t.inv(Q));const k=t.mul(b,O),A=t.mul($,O),E=t.mul(Q,O);if(P)return{x:t.ZERO,y:t.ZERO};if(!t.eql(E,t.ONE))throw new Error("invZ was invalid");return{x:k,y:A}}),f=Od(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:O,y:b}=m.toAffine();if(!t.isValid(O)||!t.isValid(b))throw new Error("bad point: x or y not FE");const $=t.sqr(b),Q=o(O);if(!t.eql($,Q))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class u{constructor(O,b,$){if(this.px=O,this.py=b,this.pz=$,O==null||!t.isValid(O))throw new Error("x required");if(b==null||!t.isValid(b))throw new Error("y required");if($==null||!t.isValid($))throw new Error("z required");Object.freeze(this)}static fromAffine(O){const{x:b,y:$}=O||{};if(!O||!t.isValid(b)||!t.isValid($))throw new Error("invalid affine point");if(O instanceof u)throw new Error("projective point not allowed");const Q=P=>t.eql(P,t.ZERO);return Q(b)&&Q($)?u.ZERO:new u(b,$,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(O){const b=t.invertBatch(O.map($=>$.pz));return O.map(($,Q)=>$.toAffine(b[Q])).map(u.fromAffine)}static fromHex(O){const b=u.fromAffine(s(Ti("pointHex",O)));return b.assertValidity(),b}static fromPrivateKey(O){return u.BASE.multiply(l(O))}static msm(O,b){return z_(u,i,O,b)}_setWindowSize(O){g.setWindowSize(this,O)}assertValidity(){f(this)}hasEvenY(){const{y:O}=this.toAffine();if(t.isOdd)return!t.isOdd(O);throw new Error("Field doesn't support isOdd")}equals(O){c(O);const{px:b,py:$,pz:Q}=this,{px:P,py:k,pz:A}=O,E=t.eql(t.mul(b,A),t.mul(P,Q)),M=t.eql(t.mul($,A),t.mul(k,Q));return E&&M}negate(){return new u(this.px,t.neg(this.py),this.pz)}double(){const{a:O,b}=e,$=t.mul(b,WO),{px:Q,py:P,pz:k}=this;let A=t.ZERO,E=t.ZERO,M=t.ZERO,C=t.mul(Q,Q),j=t.mul(P,P),q=t.mul(k,k),D=t.mul(Q,P);return D=t.add(D,D),M=t.mul(Q,k),M=t.add(M,M),A=t.mul(O,M),E=t.mul($,q),E=t.add(A,E),A=t.sub(j,E),E=t.add(j,E),E=t.mul(A,E),A=t.mul(D,A),M=t.mul($,M),q=t.mul(O,q),D=t.sub(C,q),D=t.mul(O,D),D=t.add(D,M),M=t.add(C,C),C=t.add(M,C),C=t.add(C,q),C=t.mul(C,D),E=t.add(E,C),q=t.mul(P,k),q=t.add(q,q),C=t.mul(q,D),A=t.sub(A,C),M=t.mul(q,j),M=t.add(M,M),M=t.add(M,M),new u(A,E,M)}add(O){c(O);const{px:b,py:$,pz:Q}=this,{px:P,py:k,pz:A}=O;let E=t.ZERO,M=t.ZERO,C=t.ZERO;const j=e.a,q=t.mul(e.b,WO);let D=t.mul(b,P),G=t.mul($,k),I=t.mul(Q,A),B=t.add(b,$),V=t.add(P,k);B=t.mul(B,V),V=t.add(D,G),B=t.sub(B,V),V=t.add(b,Q);let W=t.add(P,A);return V=t.mul(V,W),W=t.add(D,I),V=t.sub(V,W),W=t.add($,Q),E=t.add(k,A),W=t.mul(W,E),E=t.add(G,I),W=t.sub(W,E),C=t.mul(j,V),E=t.mul(q,I),C=t.add(E,C),E=t.sub(G,C),C=t.add(G,C),M=t.mul(E,C),G=t.add(D,D),G=t.add(G,D),I=t.mul(j,I),V=t.mul(q,V),G=t.add(G,I),I=t.sub(D,I),I=t.mul(j,I),V=t.add(V,I),D=t.mul(G,V),M=t.add(M,D),D=t.mul(W,V),E=t.mul(B,E),E=t.sub(E,D),D=t.mul(B,G),C=t.mul(W,C),C=t.add(C,D),new u(E,M,C)}subtract(O){return this.add(O.negate())}is0(){return this.equals(u.ZERO)}wNAF(O){return g.wNAFCached(this,O,u.normalizeZ)}multiplyUnsafe(O){to("scalar",O,Cr,e.n);const b=u.ZERO;if(O===Cr)return b;if(O===dn)return this;const{endo:$}=e;if(!$)return g.unsafeLadder(this,O);let{k1neg:Q,k1:P,k2neg:k,k2:A}=$.splitScalar(O),E=b,M=b,C=this;for(;P>Cr||A>Cr;)P&dn&&(E=E.add(C)),A&dn&&(M=M.add(C)),C=C.double(),P>>=dn,A>>=dn;return Q&&(E=E.negate()),k&&(M=M.negate()),M=new u(t.mul(M.px,$.beta),M.py,M.pz),E.add(M)}multiply(O){const{endo:b,n:$}=e;to("scalar",O,dn,$);let Q,P;if(b){const{k1neg:k,k1:A,k2neg:E,k2:M}=b.splitScalar(O);let{p:C,f:j}=this.wNAF(A),{p:q,f:D}=this.wNAF(M);C=g.constTimeNegate(k,C),q=g.constTimeNegate(E,q),q=new u(t.mul(q.px,b.beta),q.py,q.pz),Q=C.add(q),P=j.add(D)}else{const{p:k,f:A}=this.wNAF(O);Q=k,P=A}return u.normalizeZ([Q,P])[0]}multiplyAndAddUnsafe(O,b,$){const Q=u.BASE,P=(A,E)=>E===Cr||E===dn||!A.equals(Q)?A.multiplyUnsafe(E):A.multiply(E),k=P(this,b).add(P(O,$));return k.is0()?void 0:k}toAffine(O){return h(this,O)}isTorsionFree(){const{h:O,isTorsionFree:b}=e;if(O===dn)return!0;if(b)return b(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:O,clearCofactor:b}=e;return O===dn?this:b?b(u,this):this.multiplyUnsafe(e.h)}toRawBytes(O=!0){return ca("isCompressed",O),this.assertValidity(),r(u,this,O)}toHex(O=!0){return ca("isCompressed",O),ha(this.toRawBytes(O))}}u.BASE=new u(e.Gx,e.Gy,t.ONE),u.ZERO=new u(t.ZERO,t.ONE,t.ZERO);const d=e.nBitLength,g=V_(u,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}function H_(n){const e=a1(n);return Hl(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function K_(n){const e=H_(n),{Fp:t,n:i}=e,r=t.BYTES+1,s=2*t.BYTES+1;function o(I){return jn(I,i)}function a(I){return yd(I,i)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:h,isWithinCurveOrder:f}=F_({...e,toBytes(I,B,V){const W=B.toAffine(),se=t.toBytes(W.x),be=kl;return ca("isCompressed",V),V?be(Uint8Array.from([B.hasEvenY()?2:3]),se):be(Uint8Array.from([4]),se,t.toBytes(W.y))},fromBytes(I){const B=I.length,V=I[0],W=I.subarray(1);if(B===r&&(V===2||V===3)){const se=eo(W);if(!Af(se,dn,t.ORDER))throw new Error("Point is not on curve");const be=h(se);let Re;try{Re=t.sqrt(be)}catch(Me){const it=Me instanceof Error?": "+Me.message:"";throw new Error("Point is not on curve"+it)}const Pe=(Re&dn)===dn;return(V&1)===1!==Pe&&(Re=t.neg(Re)),{x:se,y:Re}}else if(B===s&&V===4){const se=t.fromBytes(W.subarray(0,t.BYTES)),be=t.fromBytes(W.subarray(t.BYTES,2*t.BYTES));return{x:se,y:be}}else throw new Error(`Point of length ${B} was invalid. Expected ${r} compressed bytes or ${s} uncompressed bytes`)}}),u=I=>ha(ua(I,e.nByteLength));function d(I){const B=i>>dn;return I>B}function g(I){return d(I)?o(-I):I}const m=(I,B,V)=>eo(I.slice(B,V));class O{constructor(B,V,W){this.r=B,this.s=V,this.recovery=W,this.assertValidity()}static fromCompact(B){const V=e.nByteLength;return B=Ti("compactSignature",B,V*2),new O(m(B,0,V),m(B,V,2*V))}static fromDER(B){const{r:V,s:W}=Ar.toSig(Ti("DER",B));return new O(V,W)}assertValidity(){to("r",this.r,dn,i),to("s",this.s,dn,i)}addRecoveryBit(B){return new O(this.r,this.s,B)}recoverPublicKey(B){const{r:V,s:W,recovery:se}=this,be=A(Ti("msgHash",B));if(se==null||![0,1,2,3].includes(se))throw new Error("recovery id invalid");const Re=se===2||se===3?V+e.n:V;if(Re>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const Pe=se&1?"03":"02",Je=l.fromHex(Pe+u(Re)),Me=a(Re),it=o(-be*Me),ke=o(W*Me),ct=l.BASE.multiplyAndAddUnsafe(Je,it,ke);if(!ct)throw new Error("point at infinify");return ct.assertValidity(),ct}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new O(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return fa(this.toDERHex())}toDERHex(){return Ar.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return fa(this.toCompactHex())}toCompactHex(){return u(this.r)+u(this.s)}}const b={isValidPrivateKey(I){try{return c(I),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const I=o1(e.n);return U_(e.randomBytes(I),e.n)},precompute(I=8,B=l.BASE){return B._setWindowSize(I),B.multiply(BigInt(3)),B}};function $(I,B=!0){return l.fromPrivateKey(I).toRawBytes(B)}function Q(I){const B=co(I),V=typeof I=="string",W=(B||V)&&I.length;return B?W===r||W===s:V?W===2*r||W===2*s:I instanceof l}function P(I,B,V=!0){if(Q(I))throw new Error("first arg must be private key");if(!Q(B))throw new Error("second arg must be public key");return l.fromHex(B).multiply(c(I)).toRawBytes(V)}const k=e.bits2int||function(I){const B=eo(I),V=I.length*8-e.nBitLength;return V>0?B>>BigInt(V):B},A=e.bits2int_modN||function(I){return o(k(I))},E=ug(e.nBitLength);function M(I){return to(`num < 2^${e.nBitLength}`,I,Cr,E),ua(I,e.nByteLength)}function C(I,B,V=j){if(["recovered","canonical"].some(mn=>mn in V))throw new Error("sign() legacy options not supported");const{hash:W,randomBytes:se}=e;let{lowS:be,prehash:Re,extraEntropy:Pe}=V;be==null&&(be=!0),I=Ti("msgHash",I),zO(V),Re&&(I=Ti("prehashed msgHash",W(I)));const Je=A(I),Me=c(B),it=[M(Me),M(Je)];if(Pe!=null&&Pe!==!1){const mn=Pe===!0?se(t.BYTES):Pe;it.push(Ti("extraEntropy",mn))}const ke=kl(...it),ct=Je;function Zn(mn){const yn=k(mn);if(!f(yn))return;const gi=a(yn),Rn=l.BASE.multiply(yn).toAffine(),Ct=o(Rn.x);if(Ct===Cr)return;const Xn=o(gi*o(ct+Ct*Me));if(Xn===Cr)return;let Hr=(Rn.x===Ct?0:2)|Number(Rn.y&dn),mr=Xn;return be&&d(Xn)&&(mr=g(Xn),Hr^=1),new O(Ct,mr,Hr)}return{seed:ke,k2sig:Zn}}const j={lowS:e.lowS,prehash:!1},q={lowS:e.lowS,prehash:!1};function D(I,B,V=j){const{seed:W,k2sig:se}=C(I,B,V),be=e;return i1(be.hash.outputLen,be.nByteLength,be.hmac)(W,se)}l.BASE._setWindowSize(8);function G(I,B,V,W=q){var Rn;const se=I;if(B=Ti("msgHash",B),V=Ti("publicKey",V),"strict"in W)throw new Error("options.strict was renamed to lowS");zO(W);const{lowS:be,prehash:Re}=W;let Pe,Je;try{if(typeof se=="string"||co(se))try{Pe=O.fromDER(se)}catch(Ct){if(!(Ct instanceof Ar.Err))throw Ct;Pe=O.fromCompact(se)}else if(typeof se=="object"&&typeof se.r=="bigint"&&typeof se.s=="bigint"){const{r:Ct,s:Xn}=se;Pe=new O(Ct,Xn)}else throw new Error("PARSE");Je=l.fromHex(V)}catch(Ct){if(Ct.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(be&&Pe.hasHighS())return!1;Re&&(B=e.hash(B));const{r:Me,s:it}=Pe,ke=A(B),ct=a(it),Zn=o(ke*ct),mn=o(Me*ct),yn=(Rn=l.BASE.multiplyAndAddUnsafe(Je,Zn,mn))==null?void 0:Rn.toAffine();return yn?o(yn.x)===Me:!1}return{CURVE:e,getPublicKey:$,getSharedSecret:P,sign:D,verify:G,ProjectivePoint:l,Signature:O,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function J_(n){return{hash:n,hmac:(e,...t)=>Nr(n,e,Ha(...t)),randomBytes:Yy}}function l1(n,e){const t=i=>K_({...n,...J_(i)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const c1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),YO=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),e5=BigInt(1),bd=BigInt(2),GO=(n,e)=>(n+e/bd)/e;function t5(n){const e=c1,t=BigInt(3),i=BigInt(6),r=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=n*n*n%e,h=c*c*n%e,f=mi(h,t,e)*h%e,u=mi(f,t,e)*h%e,d=mi(u,bd,e)*c%e,g=mi(d,r,e)*d%e,m=mi(g,s,e)*g%e,O=mi(m,a,e)*m%e,b=mi(O,l,e)*O%e,$=mi(b,a,e)*m%e,Q=mi($,t,e)*h%e,P=mi(Q,o,e)*g%e,k=mi(P,i,e)*c%e,A=mi(k,bd,e);if(!vd.eql(vd.sqr(A),n))throw new Error("Cannot find square root");return A}const vd=dg(c1,void 0,void 0,{sqrt:t5}),cn=l1({a:BigInt(0),b:BigInt(7),Fp:vd,n:YO,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=YO,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-e5*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,o=BigInt("0x100000000000000000000000000000000"),a=GO(s*n,e),l=GO(-i*n,e);let c=jn(n-a*t-l*r,e),h=jn(-a*i-l*s,e);const f=c>o,u=h>o;if(f&&(c=e-c),u&&(h=e-h),c>o||h>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:f,k1:c,k2neg:u,k2:h}}}},Yr);BigInt(0);cn.ProjectivePoint;const n5=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),h1=new Uint8Array(new Array(16).fill(0).map((n,e)=>e)),i5=h1.map(n=>(9*n+5)%16);let pg=[h1],gg=[i5];for(let n=0;n<4;n++)for(let e of[pg,gg])e.push(e[n].map(t=>n5[t]));const f1=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(n=>new Uint8Array(n)),r5=pg.map((n,e)=>n.map(t=>f1[e][t])),s5=gg.map((n,e)=>n.map(t=>f1[e][t])),o5=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),a5=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function FO(n,e,t,i){return n===0?e^t^i:n===1?e&t|~e&i:n===2?(e|~t)^i:n===3?e&i|t&~i:e^(t|~i)}const Oc=new Uint32Array(16);class l5 extends Yp{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:i,h3:r,h4:s}=this;return[e,t,i,r,s]}set(e,t,i,r,s){this.h0=e|0,this.h1=t|0,this.h2=i|0,this.h3=r|0,this.h4=s|0}process(e,t){for(let d=0;d<16;d++,t+=4)Oc[d]=e.getUint32(t,!0);let i=this.h0|0,r=i,s=this.h1|0,o=s,a=this.h2|0,l=a,c=this.h3|0,h=c,f=this.h4|0,u=f;for(let d=0;d<5;d++){const g=4-d,m=o5[d],O=a5[d],b=pg[d],$=gg[d],Q=r5[d],P=s5[d];for(let k=0;k<16;k++){const A=fc(i+FO(d,s,a,c)+Oc[b[k]]+m,Q[k])+f|0;i=f,f=c,c=fc(a,10)|0,a=s,s=A}for(let k=0;k<16;k++){const A=fc(r+FO(g,o,l,h)+Oc[$[k]]+O,P[k])+u|0;r=u,u=h,h=fc(l,10)|0,l=o,o=A}}this.set(this.h1+a+h|0,this.h2+c+u|0,this.h3+f+r|0,this.h4+i+o|0,this.h0+s+l|0)}roundClean(){Oc.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const c5=qp(()=>new l5);/*! scure-bip32 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const mc=cn.ProjectivePoint,uu=q2(Yr);function HO(n){return BigInt(`0x${wf(n)}`)}function h5(n){return kk(n.toString(16).padStart(64,"0"))}const f5=Wy("Bitcoin seed"),du={private:76066276,public:76067358},pu=2147483648,u5=n=>c5(Yr(n)),d5=n=>Ks(n).getUint32(0,!1),yc=n=>{if(!Number.isSafeInteger(n)||n<0||n>2**32-1)throw new Error(`Invalid number=${n}. Should be from 0 to 2 ** 32 - 1`);const e=new Uint8Array(4);return Ks(e).setUint32(0,n,!1),e};class fs{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return d5(this.pubHash)}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return uu.encode(this.serialize(this.versions.private,Ha(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return uu.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,t=du){if(Ri(e),8*e.length<128||8*e.length>512)throw new Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const i=Nr(so,f5,e);return new fs({versions:t,chainCode:i.slice(32),privateKey:i.slice(0,32)})}static fromExtendedKey(e,t=du){const i=uu.decode(e),r=Ks(i),s=r.getUint32(0,!1),o={versions:t,depth:i[4],parentFingerprint:r.getUint32(5,!1),index:r.getUint32(9,!1),chainCode:i.slice(13,45)},a=i.slice(45),l=a[0]===0;if(s!==t[l?"private":"public"])throw new Error("Version mismatch");return l?new fs({...o,privateKey:a.slice(1)}):new fs({...o,publicKey:a})}static fromJSON(e){return fs.fromExtendedKey(e.xpriv)}constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||typeof e!="object")throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||du,this.depth=e.depth||0,this.chainCode=e.chainCode||null,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!cn.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey=typeof e.privateKey=="bigint"?e.privateKey:HO(e.privateKey),this.privKeyBytes=h5(this.privKey),this.pubKey=cn.getPublicKey(e.privateKey,!0)}else if(e.publicKey)this.pubKey=mc.fromHex(e.publicKey).toRawBytes(!0);else throw new Error("HDKey: no public or private key provided");this.pubHash=u5(this.pubKey)}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const t=e.replace(/^[mM]'?\//,"").split("/");let i=this;for(const r of t){const s=/^(\d+)('?)$/.exec(r),o=s&&s[1];if(!s||s.length!==3||typeof o!="string")throw new Error(`Invalid child index: ${r}`);let a=+o;if(!Number.isSafeInteger(a)||a>=pu)throw new Error("Invalid index");s[2]==="'"&&(a+=pu),i=i.deriveChild(a)}return i}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let t=yc(e);if(e>=pu){const a=this.privateKey;if(!a)throw new Error("Could not derive hardened child key");t=Ha(new Uint8Array([0]),a,t)}else t=Ha(this.pubKey,t);const i=Nr(so,this.chainCode,t),r=HO(i.slice(0,32)),s=i.slice(32);if(!cn.utils.isValidPrivateKey(r))throw new Error("Tweak bigger than curve order");const o={versions:this.versions,chainCode:s,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const a=jn(this.privKey+r,cn.CURVE.n);if(!cn.utils.isValidPrivateKey(a))throw new Error("The tweak was out of range or the resulted private key is invalid");o.privateKey=a}else{const a=mc.fromHex(this.pubKey).add(mc.fromPrivateKey(r));if(a.equals(mc.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");o.publicKey=a.toRawBytes(!0)}return new fs(o)}catch{return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return Ri(e,32),cn.sign(e,this.privKey).toCompactRawBytes()}verify(e,t){if(Ri(e,32),Ri(t,64),!this.publicKey)throw new Error("No publicKey set!");let i;try{i=cn.Signature.fromCompact(t)}catch{return!1}return cn.verify(i,e,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,t){if(!this.chainCode)throw new Error("No chainCode set");return Ri(t,33),Ha(yc(e),new Uint8Array([this.depth]),yc(this.parentFingerprint),yc(this.index),this.chainCode,t)}}const xd=33;class u1 extends Hp{constructor(e){if(super(),typeof e=="string"?this.data=Tn(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==xd)throw new Error(`Invalid public key input. Expected ${xd} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return ka.Secp256k1}async verify(e,t){let i;if(typeof t=="string"){const r=Vp(t);if(r.signatureScheme!=="Secp256k1")throw new Error("Invalid signature scheme");if(!kf(this.toRawBytes(),r.publicKey))throw new Error("Signature does not match public key");i=r.signature}else i=t;return cn.verify(cn.Signature.fromCompact(i),Yr(e),this.toRawBytes())}}u1.SIZE=xd;const p5="m/54'/4218'/0'/0/0";class Lo extends zp{constructor(e){if(super(),e)this.keypair=e;else{const t=cn.utils.randomPrivateKey(),i=cn.getPublicKey(t,!0);this.keypair={publicKey:i,secretKey:t}}}getKeyScheme(){return"Secp256k1"}static generate(){return new Lo}static fromSecretKey(e,t){const i=cn.getPublicKey(e,!0);if(!t||!t.skipValidation){const s=new TextEncoder().encode("iota validation"),o=wf(aa(s,{dkLen:32})),a=cn.sign(o,e);if(!cn.verify(a,o,i,{lowS:!0}))throw new Error("Provided secretKey is invalid")}return new Lo({publicKey:i,secretKey:e})}static fromSeed(e){const t=cn.getPublicKey(e,!0);return new Lo({publicKey:t,secretKey:e})}getPublicKey(){return new u1(this.keypair.publicKey)}getSecretKey(){return Wp(this.keypair.secretKey,this.getKeyScheme())}async sign(e){const t=Yr(e);return cn.sign(t,this.keypair.secretKey,{lowS:!0}).toCompactRawBytes()}static deriveKeypair(e,t){if(t==null&&(t=p5),!Rb(t))throw new Error("Invalid derivation path");const i=fs.fromMasterSeed(Fp(e)).derive(t);if(i.publicKey==null||i.privateKey==null)throw new Error("Invalid key");return new Lo({publicKey:i.publicKey,secretKey:i.privateKey})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const d1=dg(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),g5=d1.create(BigInt("-3")),O5=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),m5=l1({a:g5,b:O5,Fp:d1,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Yr),Qr=m5,wd=33;class p1 extends Hp{constructor(e){if(super(),typeof e=="string"?this.data=Tn(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==wd)throw new Error(`Invalid public key input. Expected ${wd} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return ka.Secp256r1}async verify(e,t){let i;if(typeof t=="string"){const r=Vp(t);if(r.signatureScheme!=="Secp256r1")throw new Error("Invalid signature scheme");if(!kf(this.toRawBytes(),r.publicKey))throw new Error("Signature does not match public key");i=r.signature}else i=t;return Qr.verify(Qr.Signature.fromCompact(i),Yr(e),this.toRawBytes())}}p1.SIZE=wd;const y5="m/74'/4218'/0'/0/0";class qo extends zp{constructor(e){if(super(),e)this.keypair=e;else{const t=Qr.utils.randomPrivateKey(),i=Qr.getPublicKey(t,!0);this.keypair={publicKey:i,secretKey:t}}}getKeyScheme(){return"Secp256r1"}static generate(){return new qo}static fromSecretKey(e,t){const i=Qr.getPublicKey(e,!0);if(!t||!t.skipValidation){const s=new TextEncoder().encode("iota validation"),o=wf(aa(s,{dkLen:32})),a=Qr.sign(o,e,{lowS:!0});if(!Qr.verify(a,o,i,{lowS:!0}))throw new Error("Provided secretKey is invalid")}return new qo({publicKey:i,secretKey:e})}static fromSeed(e){const t=Qr.getPublicKey(e,!0);return new qo({publicKey:t,secretKey:e})}getPublicKey(){return new p1(this.keypair.publicKey)}getSecretKey(){return Wp(this.keypair.secretKey,this.getKeyScheme())}async sign(e){const t=Yr(e);return Qr.sign(t,this.keypair.secretKey,{lowS:!0}).toCompactRawBytes()}static deriveKeypair(e,t){if(t==null&&(t=y5),!Rb(t))throw new Error("Invalid derivation path");const i=fs.fromMasterSeed(Fp(e)).derive(t).privateKey;return qo.fromSecretKey(i)}}function b5(n,e,t,i){try{N(e,JSON.parse(x(t))),!x(e).hasOwnProperty("selected")||!x(e).hasOwnProperty("bech32PrivateKeys")?alert('Missing "selected" or "bech32PrivateKeys" keys'):(i(x(e)),localStorage.setItem("privateKeys",JSON.stringify(x(e))),N(t,JSON.stringify(x(e),null,2)))}catch(r){console.error("Invalid JSON",r)}}var v5=(n,e)=>e(),x5=pe("<option> </option>"),w5=pe("<option> </option>"),S5=(n,e)=>{navigator.clipboard.writeText(e())},k5=(n,e)=>x(e)(),$5=pe("<button>Connect web wallet</button>"),Q5=pe('<textarea rows="8" cols="100"></textarea>'),P5=pe("<!> Signer: <select></select> <p>Active address: <select></select> <button>Copy address</button></p> <!>",1);function _5(n,e){yt(e,!1);const[t,i]=Qi(),r=()=>qt(Lr,"$iota_accounts",t),s=()=>qt(Ki,"$activeAddress",t),o=()=>qt(ji,"$iota_wallets",t);class a{constructor(q){cc(this,"privKey");cc(this,"address");const G=O(q).toIotaAddress();this.privKey=q,this.address=G}async signAndExecuteTransaction(q){const D=O(this.privKey);return(await ci()).signAndExecuteTransaction({transaction:q.transaction,signer:D,options:q.options})}}var l=(j=>(j.WebWallet="WebWallet",j.Localstorage="Localstorage",j))(l||{});let c=re(localStorage.getItem("selectedSigner")||"WebWallet");function h(){localStorage.setItem("selectedSigner",x(c)),x(c)=="Localstorage"?m(x(d)):(Bn(Lr,[]),Bn(Ki,""))}let f=re(),u=re();jp(function(){N(u,function(){x(f).connectWallet()})});let d=re(JSON.parse(localStorage.getItem("privateKeys"))||{selected:"iotaprivkey1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqgfjx8t",bech32PrivateKeys:["iotaprivkey1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqgfjx8t"]});x(c)=="Localstorage"&&m(x(d));let g=re(JSON.stringify(x(d),null,2));function m(j){Bn(Lr,[]);for(let q of j.bech32PrivateKeys)r().push(new a(q));r().length!=0&&(typeof j.selected>"u"||j.selected==""?s().length!=66?j.selected=r()[0].privKey:j.selected=r().find(q=>q.address==s()).privKey:typeof r().find(D=>D.privKey==j.selected)>"u"&&(j.selected=r()[0].privKey),Bn(Ki,O(j.selected).toIotaAddress()),OO(ji,Dn(o)[0]=new a(j.selected),Dn(o)))}function O(j){const q=wb(j),D=q.schema,G=q.secretKey;switch(D){case"ED25519":return Zr.fromSecretKey(G);case"Secp256k1":return Lo.fromSecretKey(G);case"Secp256r1":return qo.fromSecretKey(G);default:throw new Error(`Invalid keypair schema ${D}`)}}kt();var b=P5(),$=Qt(b);jy(t1($,{$$legacy:!0}),j=>N(f,j),()=>x(f));var Q=z($,2);Te(()=>{x(c),Ku(()=>{})}),Q.__change=[v5,h],ws(Q,5,()=>Object.values(l),xs,(j,q)=>{var D=x5(),G={},I=J(D);Te(()=>{G!==(G=x(q))&&(D.value=(D.__value=x(q))==null?"":x(q)),je(I,x(q))}),ie(j,D)});var P=z(Q,2),k=z(J(P));Te(()=>{s(),Ku(()=>{x(c),x(d),r(),o(),x(g)})}),k.__change=()=>{Ki.set(s()),x(c)==l.Localstorage&&(uy(d,x(d).selected=r().find(j=>j.address==s()).privKey),OO(ji,Dn(o)[0]=new a(x(d).selected),Dn(o)),localStorage.setItem("privateKeys",JSON.stringify(x(d))),N(g,JSON.stringify(x(d),null,2)))},ws(k,5,r,xs,(j,q)=>{var D=w5(),G={},I=J(D);Te(()=>{G!==(G=x(q).address)&&(D.value=(D.__value=x(q).address)==null?"":x(q).address),je(I,x(q).address)}),ie(j,D)});var A=z(k,2);A.__click=[S5,s];var E=z(P,2);{var M=j=>{var q=$5();q.__click=[k5,u],ie(j,q)},C=j=>{var q=Q5();q.__input=[b5,d,g,m],vt(q,()=>x(g),D=>N(g,D)),ie(j,q)};Ht(E,j=>{x(c)==l.WebWallet?j(M):j(C,!1)})}$h(Q,()=>x(c),j=>N(c,j)),$h(k,s,j=>Bn(Ki,j)),ie(n,b),bt(),i()}My(["change","click","input"]);var A5=pe('<main><br> <span>validator address: <input placeholder="validator address 0x..." size="67"></span> <br> <span>amount (min 1 IOTA): <input type="number" placeholder="amount" min="minStakeAmount"></span> <br> <button class="svelte-1gmtaic">stake</button> <div class="value svelte-1gmtaic"><button class="svelte-1gmtaic">toggle JSON tree</button> <div><!></div> <pre class="svelte-1gmtaic"> </pre></div></main>');function E5(n,e){yt(e,!1);const[t,i]=Qi(),r=()=>qt(ji,"$iota_wallets",t),s=()=>qt(Lr,"$iota_accounts",t),o=()=>qt(Ki,"$activeAddress",t);let a=re("0x111111111504e9350e635d65cd38ccd2c029434c6a3a480d8947a9ba6a15b215"),c=re(1e9),h=re({});const f=async()=>{try{if(!li(x(a)))throw new Error("invalid address");const C=new lo,j=C.splitCoins(C.gas,[x(c)]);C.moveCall({target:"0x3::iota_system::request_add_stake",arguments:[C.sharedObjectRef({objectId:u$,initialSharedVersion:1,mutable:!0}),j,C.pure.address(x(a))]});let q=await r()[0].signAndExecuteTransaction({transaction:C,options:{showEffects:!0,showObjectChanges:!0,showBalanceChanges:!0},account:s().filter(G=>G.address==o())[0]});console.log(q),N(h,q),(await ci()).waitForTransaction({digest:q.digest}).then(()=>{console.log("tx block available via api")})}catch(C){N(h,C.toString()),console.error(C)}};let u=re(!0);kt();var d=A5(),g=z(J(d),2),m=z(J(g)),O=z(g,4),b=z(J(O)),$=z(O,4),Q=z($,2),P=J(Q),k=z(P,2),A=J(k);vo(A,{get value(){return x(h)}});var E=z(k,2),M=J(E);Te((C,j)=>{Q.hidden=C,k.hidden=!x(u),E.hidden=x(u),je(M,j)},[()=>Object.keys(x(h)).length==0,()=>JSON.stringify(x(h),null,2)],le),vt(m,()=>x(a),C=>N(a,C)),vt(b,()=>x(c),C=>N(c,C)),Xe("click",$,()=>f()),Xe("click",P,()=>N(u,!x(u))),ie(n,d),bt(),i()}function T5(n,e){if(!!!n)throw new Error(e)}const g1={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},C5=new Set(Object.keys(g1));function KO(n){const e=n==null?void 0:n.kind;return typeof e=="string"&&C5.has(e)}var JO;(function(n){n.QUERY="query",n.MUTATION="mutation",n.SUBSCRIPTION="subscription"})(JO||(JO={}));var Sd;(function(n){n.NAME="Name",n.DOCUMENT="Document",n.OPERATION_DEFINITION="OperationDefinition",n.VARIABLE_DEFINITION="VariableDefinition",n.SELECTION_SET="SelectionSet",n.FIELD="Field",n.ARGUMENT="Argument",n.FRAGMENT_SPREAD="FragmentSpread",n.INLINE_FRAGMENT="InlineFragment",n.FRAGMENT_DEFINITION="FragmentDefinition",n.VARIABLE="Variable",n.INT="IntValue",n.FLOAT="FloatValue",n.STRING="StringValue",n.BOOLEAN="BooleanValue",n.NULL="NullValue",n.ENUM="EnumValue",n.LIST="ListValue",n.OBJECT="ObjectValue",n.OBJECT_FIELD="ObjectField",n.DIRECTIVE="Directive",n.NAMED_TYPE="NamedType",n.LIST_TYPE="ListType",n.NON_NULL_TYPE="NonNullType",n.SCHEMA_DEFINITION="SchemaDefinition",n.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",n.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",n.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",n.FIELD_DEFINITION="FieldDefinition",n.INPUT_VALUE_DEFINITION="InputValueDefinition",n.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",n.UNION_TYPE_DEFINITION="UnionTypeDefinition",n.ENUM_TYPE_DEFINITION="EnumTypeDefinition",n.ENUM_VALUE_DEFINITION="EnumValueDefinition",n.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",n.DIRECTIVE_DEFINITION="DirectiveDefinition",n.SCHEMA_EXTENSION="SchemaExtension",n.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",n.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",n.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",n.UNION_TYPE_EXTENSION="UnionTypeExtension",n.ENUM_TYPE_EXTENSION="EnumTypeExtension",n.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(Sd||(Sd={}));function em(n){return n===9||n===32}function M5(n,e){const t=n.replace(/"""/g,'\\"""'),i=t.split(/\r\n|[\n\r]/g),r=i.length===1,s=i.length>1&&i.slice(1).every(d=>d.length===0||em(d.charCodeAt(0))),o=t.endsWith('\\"""'),a=n.endsWith('"')&&!o,l=n.endsWith("\\"),c=a||l,h=!r||n.length>70||c||s||o;let f="";const u=r&&em(n.charCodeAt(0));return(h&&!u||s)&&(f+=`
`),f+=t,(h||c)&&(f+=`
`),'"""'+f+'"""'}const Z5=10,O1=2;function R5(n){return Ef(n,[])}function Ef(n,e){switch(typeof n){case"string":return JSON.stringify(n);case"function":return n.name?`[function ${n.name}]`:"[function]";case"object":return I5(n,e);default:return String(n)}}function I5(n,e){if(n===null)return"null";if(e.includes(n))return"[Circular]";const t=[...e,n];if(j5(n)){const i=n.toJSON();if(i!==n)return typeof i=="string"?i:Ef(i,t)}else if(Array.isArray(n))return D5(n,t);return B5(n,t)}function j5(n){return typeof n.toJSON=="function"}function B5(n,e){const t=Object.entries(n);return t.length===0?"{}":e.length>O1?"["+L5(n)+"]":"{ "+t.map(([r,s])=>r+": "+Ef(s,e)).join(", ")+" }"}function D5(n,e){if(n.length===0)return"[]";if(e.length>O1)return"[Array]";const t=Math.min(Z5,n.length),i=n.length-t,r=[];for(let s=0;s<t;++s)r.push(Ef(n[s],e));return i===1?r.push("... 1 more item"):i>1&&r.push(`... ${i} more items`),"["+r.join(", ")+"]"}function L5(n){const e=Object.prototype.toString.call(n).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof n.constructor=="function"){const t=n.constructor.name;if(typeof t=="string"&&t!=="")return t}return e}function q5(n){return`"${n.replace(N5,U5)}"`}const N5=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function U5(n){return X5[n.charCodeAt(0)]}const X5=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],V5=Object.freeze({});function z5(n,e,t=g1){const i=new Map;for(const b of Object.values(Sd))i.set(b,W5(e,b));let r,s=Array.isArray(n),o=[n],a=-1,l=[],c=n,h,f;const u=[],d=[];do{a++;const b=a===o.length,$=b&&l.length!==0;if(b){if(h=d.length===0?void 0:u[u.length-1],c=f,f=d.pop(),$)if(s){c=c.slice();let P=0;for(const[k,A]of l){const E=k-P;A===null?(c.splice(E,1),P++):c[E]=A}}else{c=Object.defineProperties({},Object.getOwnPropertyDescriptors(c));for(const[P,k]of l)c[P]=k}a=r.index,o=r.keys,l=r.edits,s=r.inArray,r=r.prev}else if(f){if(h=s?a:o[a],c=f[h],c==null)continue;u.push(h)}let Q;if(!Array.isArray(c)){var g,m;KO(c)||T5(!1,`Invalid AST Node: ${R5(c)}.`);const P=b?(g=i.get(c.kind))===null||g===void 0?void 0:g.leave:(m=i.get(c.kind))===null||m===void 0?void 0:m.enter;if(Q=P==null?void 0:P.call(e,c,h,f,u,d),Q===V5)break;if(Q===!1){if(!b){u.pop();continue}}else if(Q!==void 0&&(l.push([h,Q]),!b))if(KO(Q))c=Q;else{u.pop();continue}}if(Q===void 0&&$&&l.push([h,c]),b)u.pop();else{var O;r={inArray:s,index:a,keys:o,edits:l,prev:r},s=Array.isArray(c),o=s?c:(O=t[c.kind])!==null&&O!==void 0?O:[],a=-1,l=[],f&&d.push(f),f=c}}while(r!==void 0);return l.length!==0?l[l.length-1][1]:n}function W5(n,e){const t=n[e];return typeof t=="object"?t:typeof t=="function"?{enter:t,leave:void 0}:{enter:n.enter,leave:n.leave}}function Y5(n){return z5(n,F5)}const G5=80,F5={Name:{leave:n=>n.value},Variable:{leave:n=>"$"+n.name},Document:{leave:n=>xe(n.definitions,`

`)},OperationDefinition:{leave(n){const e=rt("(",xe(n.variableDefinitions,", "),")"),t=xe([n.operation,xe([n.name,e]),xe(n.directives," ")]," ");return(t==="query"?"":t+" ")+n.selectionSet}},VariableDefinition:{leave:({variable:n,type:e,defaultValue:t,directives:i})=>n+": "+e+rt(" = ",t)+rt(" ",xe(i," "))},SelectionSet:{leave:({selections:n})=>_i(n)},Field:{leave({alias:n,name:e,arguments:t,directives:i,selectionSet:r}){const s=rt("",n,": ")+e;let o=s+rt("(",xe(t,", "),")");return o.length>G5&&(o=s+rt(`(
`,th(xe(t,`
`)),`
)`)),xe([o,xe(i," "),r]," ")}},Argument:{leave:({name:n,value:e})=>n+": "+e},FragmentSpread:{leave:({name:n,directives:e})=>"..."+n+rt(" ",xe(e," "))},InlineFragment:{leave:({typeCondition:n,directives:e,selectionSet:t})=>xe(["...",rt("on ",n),xe(e," "),t]," ")},FragmentDefinition:{leave:({name:n,typeCondition:e,variableDefinitions:t,directives:i,selectionSet:r})=>`fragment ${n}${rt("(",xe(t,", "),")")} on ${e} ${rt("",xe(i," ")," ")}`+r},IntValue:{leave:({value:n})=>n},FloatValue:{leave:({value:n})=>n},StringValue:{leave:({value:n,block:e})=>e?M5(n):q5(n)},BooleanValue:{leave:({value:n})=>n?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:n})=>n},ListValue:{leave:({values:n})=>"["+xe(n,", ")+"]"},ObjectValue:{leave:({fields:n})=>"{"+xe(n,", ")+"}"},ObjectField:{leave:({name:n,value:e})=>n+": "+e},Directive:{leave:({name:n,arguments:e})=>"@"+n+rt("(",xe(e,", "),")")},NamedType:{leave:({name:n})=>n},ListType:{leave:({type:n})=>"["+n+"]"},NonNullType:{leave:({type:n})=>n+"!"},SchemaDefinition:{leave:({description:n,directives:e,operationTypes:t})=>rt("",n,`
`)+xe(["schema",xe(e," "),_i(t)]," ")},OperationTypeDefinition:{leave:({operation:n,type:e})=>n+": "+e},ScalarTypeDefinition:{leave:({description:n,name:e,directives:t})=>rt("",n,`
`)+xe(["scalar",e,xe(t," ")]," ")},ObjectTypeDefinition:{leave:({description:n,name:e,interfaces:t,directives:i,fields:r})=>rt("",n,`
`)+xe(["type",e,rt("implements ",xe(t," & ")),xe(i," "),_i(r)]," ")},FieldDefinition:{leave:({description:n,name:e,arguments:t,type:i,directives:r})=>rt("",n,`
`)+e+(tm(t)?rt(`(
`,th(xe(t,`
`)),`
)`):rt("(",xe(t,", "),")"))+": "+i+rt(" ",xe(r," "))},InputValueDefinition:{leave:({description:n,name:e,type:t,defaultValue:i,directives:r})=>rt("",n,`
`)+xe([e+": "+t,rt("= ",i),xe(r," ")]," ")},InterfaceTypeDefinition:{leave:({description:n,name:e,interfaces:t,directives:i,fields:r})=>rt("",n,`
`)+xe(["interface",e,rt("implements ",xe(t," & ")),xe(i," "),_i(r)]," ")},UnionTypeDefinition:{leave:({description:n,name:e,directives:t,types:i})=>rt("",n,`
`)+xe(["union",e,xe(t," "),rt("= ",xe(i," | "))]," ")},EnumTypeDefinition:{leave:({description:n,name:e,directives:t,values:i})=>rt("",n,`
`)+xe(["enum",e,xe(t," "),_i(i)]," ")},EnumValueDefinition:{leave:({description:n,name:e,directives:t})=>rt("",n,`
`)+xe([e,xe(t," ")]," ")},InputObjectTypeDefinition:{leave:({description:n,name:e,directives:t,fields:i})=>rt("",n,`
`)+xe(["input",e,xe(t," "),_i(i)]," ")},DirectiveDefinition:{leave:({description:n,name:e,arguments:t,repeatable:i,locations:r})=>rt("",n,`
`)+"directive @"+e+(tm(t)?rt(`(
`,th(xe(t,`
`)),`
)`):rt("(",xe(t,", "),")"))+(i?" repeatable":"")+" on "+xe(r," | ")},SchemaExtension:{leave:({directives:n,operationTypes:e})=>xe(["extend schema",xe(n," "),_i(e)]," ")},ScalarTypeExtension:{leave:({name:n,directives:e})=>xe(["extend scalar",n,xe(e," ")]," ")},ObjectTypeExtension:{leave:({name:n,interfaces:e,directives:t,fields:i})=>xe(["extend type",n,rt("implements ",xe(e," & ")),xe(t," "),_i(i)]," ")},InterfaceTypeExtension:{leave:({name:n,interfaces:e,directives:t,fields:i})=>xe(["extend interface",n,rt("implements ",xe(e," & ")),xe(t," "),_i(i)]," ")},UnionTypeExtension:{leave:({name:n,directives:e,types:t})=>xe(["extend union",n,xe(e," "),rt("= ",xe(t," | "))]," ")},EnumTypeExtension:{leave:({name:n,directives:e,values:t})=>xe(["extend enum",n,xe(e," "),_i(t)]," ")},InputObjectTypeExtension:{leave:({name:n,directives:e,fields:t})=>xe(["extend input",n,xe(e," "),_i(t)]," ")}};function xe(n,e=""){var t;return(t=n==null?void 0:n.filter(i=>i).join(e))!==null&&t!==void 0?t:""}function _i(n){return rt(`{
`,th(xe(n,`
`)),`
}`)}function rt(n,e,t=""){return e!=null&&e!==""?n+e+t:""}function th(n){return rt("  ",n.replace(/\n/g,`
  `))}function tm(n){var e;return(e=n==null?void 0:n.some(t=>t.includes(`
`)))!==null&&e!==void 0?e:!1}var m1=n=>{throw TypeError(n)},y1=(n,e,t)=>e.has(n)||m1("Cannot "+t),bc=(n,e,t)=>(y1(n,e,"read from private field"),t?t.call(n):e.get(n)),vc=(n,e,t)=>e.has(n)?m1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),xc=(n,e,t,i)=>(y1(n,e,"write to private field"),e.set(n,t),t),nh,ih,rh,sh;class H5 extends Error{}class K5{constructor({url:e,fetch:t=fetch,headers:i={},queries:r={}}){vc(this,nh),vc(this,ih),vc(this,rh),vc(this,sh),xc(this,nh,e),xc(this,ih,r),xc(this,rh,i),xc(this,sh,(...s)=>t(...s))}async query(e){const t=await bc(this,sh).call(this,bc(this,nh),{method:"POST",headers:{"Content-Type":"application/json",...bc(this,rh)},body:JSON.stringify({query:typeof e.query=="string"?String(e.query):Y5(e.query),variables:e.variables,extensions:e.extensions,operationName:e.operationName})});if(!t.ok)throw new H5(`GraphQL request failed: ${t.statusText} (${t.status})`);return await t.json()}async execute(e,t){return this.query({...t,query:bc(this,ih)[e]})}}nh=new WeakMap;ih=new WeakMap;rh=new WeakMap;sh=new WeakMap;var wc={DOCUMENT:"Document",FRAGMENT_DEFINITION:"FragmentDefinition"};class J5 extends Error{constructor(e,t,i,r,s,o,a){super(e),this.name="GraphQLError",this.message=e,s&&(this.path=s),t&&(this.nodes=Array.isArray(t)?t:[t]),i&&(this.source=i),r&&(this.positions=r),o&&(this.originalError=o);var l=a;if(!l&&o){var c=o.extensions;c&&typeof c=="object"&&(l=c)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}}var Ot,Ae;function Jt(n){return new J5(`Syntax Error: Unexpected token at ${Ae} in ${n}`)}function ui(n){if(n.lastIndex=Ae,n.test(Ot))return Ot.slice(Ae,Ae=n.lastIndex)}var Sc=/ +(?=[^\s])/y;function eA(n){for(var e=n.split(`
`),t="",i=0,r=0,s=e.length-1,o=0;o<e.length;o++)Sc.lastIndex=0,Sc.test(e[o])&&(o&&(!i||Sc.lastIndex<i)&&(i=Sc.lastIndex),r=r||o,s=o);for(var a=r;a<=s;a++)a!==r&&(t+=`
`),t+=e[a].slice(i).replace(/\\"""/g,'"""');return t}function Fe(){for(var n=0|Ot.charCodeAt(Ae++);n===9||n===10||n===13||n===32||n===35||n===44||n===65279;n=0|Ot.charCodeAt(Ae++))if(n===35)for(;(n=Ot.charCodeAt(Ae++))!==10&&n!==13;);Ae--}var qn=/[_A-Za-z]\w*/y,gu=new RegExp("(?:(null|true|false)|\\$("+qn.source+')|(-?\\d+)((?:\\.\\d+)?[eE][+-]?\\d+|\\.\\d+)?|("""(?:"""|(?:[\\s\\S]*?[^\\\\])"""))|("(?:"|[^\\r\\n]*?[^\\\\]"))|('+qn.source+"))","y"),os=function(n){return n[n.Const=1]="Const",n[n.Var=2]="Var",n[n.Int=3]="Int",n[n.Float=4]="Float",n[n.BlockString=5]="BlockString",n[n.String=6]="String",n[n.Enum=7]="Enum",n}(os||{}),tA=/\\/;function Ih(n){var e,t;if(gu.lastIndex=Ae,Ot.charCodeAt(Ae)===91){Ae++,Fe();for(var i=[];Ot.charCodeAt(Ae)!==93;)i.push(Ih(n));return Ae++,Fe(),{kind:"ListValue",values:i}}else if(Ot.charCodeAt(Ae)===123){Ae++,Fe();for(var r=[];Ot.charCodeAt(Ae)!==125;){if((e=ui(qn))==null||(Fe(),Ot.charCodeAt(Ae++)!==58))throw Jt("ObjectField");Fe(),r.push({kind:"ObjectField",name:{kind:"Name",value:e},value:Ih(n)})}return Ae++,Fe(),{kind:"ObjectValue",fields:r}}else if((t=gu.exec(Ot))!=null){if(Ae=gu.lastIndex,Fe(),(e=t[os.Const])!=null)return e==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:e==="true"};if((e=t[os.Var])!=null){if(n)throw Jt("Variable");return{kind:"Variable",name:{kind:"Name",value:e}}}else if((e=t[os.Int])!=null){var s;return(s=t[os.Float])!=null?{kind:"FloatValue",value:e+s}:{kind:"IntValue",value:e}}else{if((e=t[os.BlockString])!=null)return{kind:"StringValue",value:eA(e.slice(3,-3)),block:!0};if((e=t[os.String])!=null)return{kind:"StringValue",value:tA.test(e)?JSON.parse(e):e.slice(1,-1),block:!1};if((e=t[os.Enum])!=null)return{kind:"EnumValue",value:e}}}throw Jt("Value")}function b1(n){if(Ot.charCodeAt(Ae)===40){var e=[];Ae++,Fe();var t;do{if((t=ui(qn))==null||(Fe(),Ot.charCodeAt(Ae++)!==58))throw Jt("Argument");Fe(),e.push({kind:"Argument",name:{kind:"Name",value:t},value:Ih(n)})}while(Ot.charCodeAt(Ae)!==41);return Ae++,Fe(),e}}function Fo(n){if(Ot.charCodeAt(Ae)===64){var e=[],t;do{if(Ae++,(t=ui(qn))==null)throw Jt("Directive");Fe(),e.push({kind:"Directive",name:{kind:"Name",value:t},arguments:b1(n)})}while(Ot.charCodeAt(Ae)===64);return e}}function nA(){for(var n,e=0;Ot.charCodeAt(Ae)===91;)e++,Ae++,Fe();if((n=ui(qn))==null)throw Jt("NamedType");Fe();var t={kind:"NamedType",name:{kind:"Name",value:n}};do if(Ot.charCodeAt(Ae)===33&&(Ae++,Fe(),t={kind:"NonNullType",type:t}),e){if(Ot.charCodeAt(Ae++)!==93)throw Jt("NamedType");Fe(),t={kind:"ListType",type:t}}while(e--);return t}var Ou=new RegExp("(?:(\\.{3})|("+qn.source+"))","y"),kd=function(n){return n[n.Spread=1]="Spread",n[n.Name=2]="Name",n}(kd||{});function jh(){var n=[],e,t;do if(Ou.lastIndex=Ae,(t=Ou.exec(Ot))!=null){if(Ae=Ou.lastIndex,t[kd.Spread]!=null){Fe();var i=ui(qn);if(i!=null&&i!=="on")Fe(),n.push({kind:"FragmentSpread",name:{kind:"Name",value:i},directives:Fo(!1)});else{if(Fe(),i==="on"){if((i=ui(qn))==null)throw Jt("NamedType");Fe()}var r=Fo(!1);if(Ot.charCodeAt(Ae++)!==123)throw Jt("InlineFragment");Fe(),n.push({kind:"InlineFragment",typeCondition:i?{kind:"NamedType",name:{kind:"Name",value:i}}:void 0,directives:r,selectionSet:jh()})}}else if((e=t[kd.Name])!=null){var s=void 0;if(Fe(),Ot.charCodeAt(Ae)===58){if(Ae++,Fe(),s=e,(e=ui(qn))==null)throw Jt("Field");Fe()}var o=b1(!1);Fe();var a=Fo(!1),l=void 0;Ot.charCodeAt(Ae)===123&&(Ae++,Fe(),l=jh()),n.push({kind:"Field",alias:s?{kind:"Name",value:s}:void 0,name:{kind:"Name",value:e},arguments:o,directives:a,selectionSet:l})}}else throw Jt("SelectionSet");while(Ot.charCodeAt(Ae)!==125);return Ae++,Fe(),{kind:"SelectionSet",selections:n}}function iA(){var n,e;if((n=ui(qn))==null||(Fe(),ui(qn)!=="on")||(Fe(),(e=ui(qn))==null))throw Jt("FragmentDefinition");Fe();var t=Fo(!1);if(Ot.charCodeAt(Ae++)!==123)throw Jt("FragmentDefinition");return Fe(),{kind:"FragmentDefinition",name:{kind:"Name",value:n},typeCondition:{kind:"NamedType",name:{kind:"Name",value:e}},directives:t,selectionSet:jh()}}var rA=/(?:query|mutation|subscription|fragment)/y;function sA(n){var e,t,i;if(n&&(Fe(),e=ui(qn),t=function(){if(Fe(),Ot.charCodeAt(Ae)===40){var s=[];Ae++,Fe();var o;do{if(Ot.charCodeAt(Ae++)!==36||(o=ui(qn))==null)throw Jt("Variable");if(Fe(),Ot.charCodeAt(Ae++)!==58)throw Jt("VariableDefinition");Fe();var a=nA(),l=void 0;Ot.charCodeAt(Ae)===61&&(Ae++,Fe(),l=Ih(!0)),Fe(),s.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:o}},type:a,defaultValue:l,directives:Fo(!0)})}while(Ot.charCodeAt(Ae)!==41);return Ae++,Fe(),s}}(),i=Fo(!1)),Ot.charCodeAt(Ae)===123)return Ae++,Fe(),{kind:"OperationDefinition",operation:n||"query",name:e?{kind:"Name",value:e}:void 0,variableDefinitions:t,directives:i,selectionSet:jh()}}function oA(n,e){return Ae=0,function(i,r){var s,o;Fe();var a=[];do if((s=ui(rA))==="fragment")Fe(),a.push(iA());else if((o=sA(s))!=null)a.push(o);else throw Jt("Document");while(Ae<i.length);{var l;return{kind:"Document",definitions:a,set loc(c){l=c},get loc(){return l||(l={start:0,end:i.length,startToken:void 0,endToken:void 0,source:{body:i,name:"graphql.web",locationOffset:{line:1,column:1}}}),l}}}}(Ot=typeof n.body=="string"?n.body:n)}var nm=0,mu=new Set;function v1(){function n(e,t){var i=oA(e).definitions,r=new Set;for(var s of t||[])for(var o of s.definitions)o.kind===wc.FRAGMENT_DEFINITION&&!r.has(o)&&(i.push(o),r.add(o));var a;(a=i[0].kind===wc.FRAGMENT_DEFINITION)&&i[0].directives&&(i[0].directives=i[0].directives.filter(c=>c.name.value!=="_unmask"));var l;return{kind:wc.DOCUMENT,definitions:i,get loc(){if(!l&&a){var c=e+function(f){try{nm++;var u="";for(var d of f)if(!mu.has(d)){mu.add(d);var{loc:g}=d;g&&(u+=g.source.body)}return u}finally{--nm==0&&mu.clear()}}(t||[]);return{start:0,end:c.length,source:{body:c,name:"GraphQLTada",locationOffset:{line:1,column:1}}}}return l},set loc(c){l=c}}}return n.scalar=function(t,i){return i},n.persisted=function(t,i){return{kind:wc.DOCUMENT,definitions:i?i.definitions:[],documentId:t}},n}v1();const aA=v1();var lA=pe('<main>Default IDs are for the devnet https://api.devnet.iota.cafe with https://graphql.devnet.iota.cafe <br> <span>iotans package id: <input placeholder="package id 0x..." size="67"></span> <span>GraphQL URL: <input placeholder="http://127.0.0.1:8000" size="67"></span> <br> <span>address: <input placeholder="address 0x..." size="67"></span> <br> <span>domain name: <input placeholder="name.iota"></span> <br> <button class="svelte-1gmtaic">resolve address</button> <button class="svelte-1gmtaic">resolve name</button> <div class="value svelte-1gmtaic"><button class="svelte-1gmtaic">toggle JSON tree</button> <div><!></div> <pre class="svelte-1gmtaic"> </pre></div></main>');function cA(n,e){yt(e,!1);let t=re("https://graphql.devnet.iota.cafe"),i=re("0xbb9aae52e92a870876b44eab4582011070ceff28b87176529c6051f3e8e64a34"),r=re("thoralf.iota"),s=re("0x323b9fd87dcf0c5cbfdddeb43bf9834b4da5493246cfac2ae59e7b9b0fa62a99"),o="",a=re({});const l=async()=>{var I,B,V;try{o.length==0&&await h();const W=new lo;let se=W.moveCall({target:`${x(s)}::domain::new`,arguments:[W.pure.string(x(r))]}),be=W.moveCall({target:`${x(s)}::iotans::registry`,typeArguments:[`${x(s)}::registry::Registry`],arguments:[W.sharedObjectRef({objectId:o,initialSharedVersion:1,mutable:!0})]}),Re=W.moveCall({target:`${x(s)}::registry::lookup`,arguments:[be,se]}),Pe=W.moveCall({target:"0x1::option::borrow",typeArguments:[`${x(s)}::name_record::NameRecord`],arguments:[Re]}),Je=W.moveCall({target:`${x(s)}::name_record::target_address`,arguments:[Pe]});W.moveCall({target:"0x1::option::borrow",typeArguments:["address"],arguments:[Je]});let it=await(await ci()).devInspectTransactionBlock({sender:"0x0000000000000000000000000000000000000000000000000000000000000000",transactionBlock:W});console.log(it);let ke="0x"+Wn(new Uint8Array((V=(B=(I=it.results)==null?void 0:I.pop())==null?void 0:B.returnValues)==null?void 0:V[0][0]));console.log(ke),N(a,ke)}catch(W){N(a,W.toString()),console.error(W)}},c=async()=>{var I,B,V;try{if(!li(x(i)))throw new Error("invalid address");o.length==0&&await h();const W=new lo;let se=W.moveCall({target:`${x(s)}::iotans::registry`,typeArguments:[`${x(s)}::registry::Registry`],arguments:[W.sharedObjectRef({objectId:o,initialSharedVersion:1,mutable:!0})]}),be=W.moveCall({target:`${x(s)}::registry::reverse_lookup`,arguments:[se,W.pure.address(x(i))]}),Re=W.moveCall({target:"0x1::option::borrow",typeArguments:[`${x(s)}::domain::Domain`],arguments:[be]});W.moveCall({target:`${x(s)}::domain::to_string`,arguments:[Re]});let Je=await(await ci()).devInspectTransactionBlock({sender:"0x0000000000000000000000000000000000000000000000000000000000000000",transactionBlock:W});console.log(Je);let Me=(V=(B=(I=Je.results)==null?void 0:I.pop())==null?void 0:B.returnValues)==null?void 0:V[0][0].slice(1),it=new TextDecoder().decode(new Uint8Array(Me));console.log(it),N(a,it)}catch(W){N(a,W.toString()),console.error(W)}};async function h(){const I=new K5({url:"https://graphql.devnet.iota.cafe"});o=(await f(I,`{
          objects(filter: {type: "0x323b9fd87dcf0c5cbfdddeb43bf9834b4da5493246cfac2ae59e7b9b0fa62a99::iotans::IotaNS"}) {
            edges {
              node {
                address
              }
            }
          }
        }`,{})).data.objects.edges[0].node.address}async function f(I,B,V){const W={query:aA(B),variables:V};return I.query(W)}let u=re(!0);kt();var d=lA(),g=z(J(d),3),m=z(J(g)),O=z(g,2),b=z(J(O)),$=z(O,4),Q=z(J($)),P=z($,4),k=z(J(P)),A=z(P,4),E=z(A,2),M=z(E,2),C=J(M),j=z(C,2),q=J(j);vo(q,{get value(){return x(a)}});var D=z(j,2),G=J(D);Te((I,B)=>{M.hidden=I,j.hidden=!x(u),D.hidden=x(u),je(G,B)},[()=>Object.keys(x(a)).length==0,()=>JSON.stringify(x(a),null,2)],le),vt(m,()=>x(s),I=>N(s,I)),vt(b,()=>x(t),I=>N(t,I)),vt(Q,()=>x(i),I=>N(i,I)),vt(k,()=>x(r),I=>N(r,I)),Xe("click",A,()=>l()),Xe("click",E,()=>c()),Xe("click",C,()=>N(u,!x(u))),ie(n,d),bt()}let $d=[],x1=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?x1:$d).push(t=t+n[e])})();function hA(n){if(n<768)return!1;for(let e=0,t=$d.length;;){let i=e+t>>1;if(n<$d[i])t=i;else if(n>=x1[i])e=i+1;else return!0;if(e==t)return!1}}function im(n){return n>=127462&&n<=127487}const rm=8205;function fA(n,e,t=!0,i=!0){return(t?w1:uA)(n,e,i)}function w1(n,e,t){if(e==n.length)return e;e&&S1(n.charCodeAt(e))&&k1(n.charCodeAt(e-1))&&e--;let i=yu(n,e);for(e+=sm(i);e<n.length;){let r=yu(n,e);if(i==rm||r==rm||t&&hA(r))e+=sm(r),i=r;else if(im(r)){let s=0,o=e-2;for(;o>=0&&im(yu(n,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function uA(n,e,t){for(;e>0;){let i=w1(n,e-2,t);if(i<e)return i;e--}return 0}function yu(n,e){let t=n.charCodeAt(e);if(!k1(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return S1(i)?(t-55296<<10)+(i-56320)+65536:t}function S1(n){return n>=56320&&n<57344}function k1(n){return n>=55296&&n<56320}function sm(n){return n<65536?1:2}let mt=class $1{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=da(this,e,t);let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(t,this.length,r,1),Ji.from(r,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=da(this,e,t);let i=[];return this.decompose(e,t,i,0),Ji.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new pl(this),s=new pl(e);for(let o=t,a=t;;){if(r.next(o),s.next(o),o=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(a+=r.value.length,r.done||a>=i)return!0}}iter(e=1){return new pl(this,e)}iterRange(e,t=this.length){return new Q1(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new P1(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?$1.empty:e.length<=32?new Ft(e):Ji.from(Ft.split(e,[]))}};class Ft extends mt{constructor(e,t=dA(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,r){for(let s=0;;s++){let o=this.text[s],a=r+o.length;if((t?i:a)>=e)return new pA(r,a,i,o);r=a+1,i++}}decompose(e,t,i,r){let s=e<=0&&t>=this.length?this:new Ft(om(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let o=i.pop(),a=oh(s.text,o.text.slice(),0,s.length);if(a.length<=32)i.push(new Ft(a,o.length+s.length));else{let l=a.length>>1;i.push(new Ft(a.slice(0,l)),new Ft(a.slice(l)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof Ft))return super.replace(e,t,i);[e,t]=da(this,e,t);let r=oh(this.text,oh(i.text,om(this.text,0,e)),t),s=this.length+i.length-(t-e);return r.length<=32?new Ft(r,s):Ji.from(Ft.split(r,[]),s)}sliceString(e,t=this.length,i=`
`){[e,t]=da(this,e,t);let r="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(r+=i),e<l&&t>s&&(r+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,i.length==32&&(t.push(new Ft(i,r)),i=[],r=-1);return r>-1&&t.push(new Ft(i,r)),t}}class Ji extends mt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,r){for(let s=0;;s++){let o=this.children[s],a=r+o.length,l=i+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,i,r);r=a+1,i=l+1}}decompose(e,t,i,r){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let c=r&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!c?i.push(a):a.decompose(e-o,t-o,i,c)}o=l+1}}replace(e,t,i){if([e,t]=da(this,e,t),i.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,i),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let h=this.children.slice();return h[r]=l,new Ji(h,this.length-(t-e)+i.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=da(this,e,t);let r="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(r+=i),e<l&&t>o&&(r+=a.sliceString(e-o,t-o,i)),o=l+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Ji))return 0;let i=0,[r,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,s+=t){if(r==o||s==a)return i;let l=this.children[r],c=e.children[s];if(l!=c)return i+l.scanIdentical(c,t);i+=l.length+1}}static from(e,t=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let d of e)i+=d.lines;if(i<32){let d=[];for(let g of e)g.flatten(d);return new Ft(d,t)}let r=Math.max(32,i>>5),s=r<<1,o=r>>1,a=[],l=0,c=-1,h=[];function f(d){let g;if(d.lines>s&&d instanceof Ji)for(let m of d.children)f(m);else d.lines>o&&(l>o||!l)?(u(),a.push(d)):d instanceof Ft&&l&&(g=h[h.length-1])instanceof Ft&&d.lines+g.lines<=32?(l+=d.lines,c+=d.length+1,h[h.length-1]=new Ft(g.text.concat(d.text),g.length+1+d.length)):(l+d.lines>r&&u(),l+=d.lines,c+=d.length+1,h.push(d))}function u(){l!=0&&(a.push(h.length==1?h[0]:Ji.from(h,c)),c=-1,l=h.length=0)}for(let d of e)f(d);return u(),a.length==1?a[0]:new Ji(a,t)}}mt.empty=new Ft([""],0);function dA(n){let e=-1;for(let t of n)e+=t.length+1;return e}function oh(n,e,t=0,i=1e9){for(let r=0,s=0,o=!0;s<n.length&&r<=i;s++){let a=n[s],l=r+a.length;l>=t&&(l>i&&(a=a.slice(0,i-r)),r<t&&(a=a.slice(t-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=l+1}return e}function om(n,e,t){return oh(n,[""],e,t)}class pl{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Ft?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],o=s>>1,a=r instanceof Ft?r.text.length:r.children.length;if(o==(t>0?a:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof Ft){let l=r.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=r.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof Ft?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Q1{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new pl(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=i?r:t<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class P1{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:r}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(mt.prototype[Symbol.iterator]=function(){return this.iter()},pl.prototype[Symbol.iterator]=Q1.prototype[Symbol.iterator]=P1.prototype[Symbol.iterator]=function(){return this});class pA{constructor(e,t,i,r){this.from=e,this.to=t,this.number=i,this.text=r}get length(){return this.to-this.from}}function da(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function wn(n,e,t=!0,i=!0){return fA(n,e,t,i)}function gA(n){return n>=56320&&n<57344}function OA(n){return n>=55296&&n<56320}function Yn(n,e){let t=n.charCodeAt(e);if(!OA(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return gA(i)?(t-55296<<10)+(i-56320)+65536:t}function Og(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function er(n){return n<65536?1:2}const Qd=/\r\n?|\n/;var xn=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(xn||(xn={}));class lr{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,r=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(i,r,s),r+=s):r+=o,i+=s}}iterChangedRanges(e,t=!1){Pd(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?e.push(i,r):e.push(r,i)}return new lr(e)}composeDesc(e){return this.empty?e:e.empty?this:_1(this,e)}mapDesc(e,t=!1){return e.empty?this:_d(this,e,t)}mapPos(e,t=-1,i=xn.Simple){let r=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=r+a;if(l<0){if(c>e)return s+(e-r);s+=a}else{if(i!=xn.Simple&&c>=e&&(i==xn.TrackDel&&r<e&&c>e||i==xn.TrackBefore&&r<e||i==xn.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!a)return e==r||t<0?s:s+l;s+=l}r=c}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,t=e){for(let i=0,r=0;i<this.sections.length&&r<=t;){let s=this.sections[i++],o=this.sections[i++],a=r+s;if(o>=0&&r<=t&&a>=e)return r<e&&a>t?"cover":!0;r=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new lr(e)}static create(e){return new lr(e)}}class hn extends lr{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Pd(this,(t,i,r,s,o)=>e=e.replace(r,r+(i-t),o),!1),e}mapDesc(e,t=!1){return _d(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let r=0,s=0;r<t.length;r+=2){let o=t[r],a=t[r+1];if(a>=0){t[r]=a,t[r+1]=o;let l=r>>1;for(;i.length<l;)i.push(mt.empty);i.push(o?e.slice(s,s+o):mt.empty)}s+=o}return new hn(t,i)}compose(e){return this.empty?e:e.empty?this:_1(this,e,!0)}map(e,t=!1){return e.empty?this:_d(this,e,t,!0)}iterChanges(e,t=!1){Pd(this,e,t)}get desc(){return lr.create(this.sections)}filter(e){let t=[],i=[],r=[],s=new $l(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let h=Math.min(s.len,l-a);_n(r,h,-1);let f=s.ins==-1?-1:s.off==0?s.ins:0;_n(t,h,f),f>0&&gs(i,t,s.text),s.forward(h),a+=h}let c=e[o++];for(;a<c;){if(s.done)break e;let h=Math.min(s.len,c-a);_n(t,h,-1),_n(r,h,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(h),a+=h}}return{changes:new hn(t,i),filtered:lr.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],r=this.sections[t+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let r=[],s=[],o=0,a=null;function l(h=!1){if(!h&&!r.length)return;o<t&&_n(r,t-o,-1);let f=new hn(r,s);a=a?a.compose(f.map(a)):f,r=[],s=[],o=0}function c(h){if(Array.isArray(h))for(let f of h)c(f);else if(h instanceof hn){if(h.length!=t)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${t})`);l(),a=a?a.compose(h.map(a)):h}else{let{from:f,to:u=f,insert:d}=h;if(f>u||f<0||u>t)throw new RangeError(`Invalid change range ${f} to ${u} (in doc of length ${t})`);let g=d?typeof d=="string"?mt.of(d.split(i||Qd)):d:mt.empty,m=g.length;if(f==u&&m==0)return;f<o&&l(),f>o&&_n(r,f-o,-1),_n(r,u-f,m),gs(s,r,g),o=u}}return c(e),l(!a),a}static empty(e){return new hn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<r;)i.push(mt.empty);i[r]=mt.of(s.slice(1)),t.push(s[0],i[r].length)}}}return new hn(t,i)}static createSet(e,t){return new hn(e,t)}}function _n(n,e,t,i=!1){if(e==0&&t<=0)return;let r=n.length-2;r>=0&&t<=0&&t==n[r+1]?n[r]+=e:r>=0&&e==0&&n[r]==0?n[r+1]+=t:i?(n[r]+=e,n[r+1]+=t):n.push(e,t)}function gs(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(mt.empty);n.push(t)}}function Pd(n,e,t){let i=n.inserted;for(let r=0,s=0,o=0;o<n.sections.length;){let a=n.sections[o++],l=n.sections[o++];if(l<0)r+=a,s+=a;else{let c=r,h=s,f=mt.empty;for(;c+=a,h+=l,l&&i&&(f=f.append(i[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)a=n.sections[o++],l=n.sections[o++];e(r,c,s,h,f),r=c,s=h}}}function _d(n,e,t,i=!1){let r=[],s=i?[]:null,o=new $l(n),a=new $l(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);_n(r,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let c=a.len;for(_n(r,a.ins,-1);c;){let h=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=h&&(_n(r,0,o.ins),s&&gs(s,r,o.text),l=o.i),o.forward(h),c-=h}a.next()}else if(o.ins>=0){let c=0,h=o.len;for(;h;)if(a.ins==-1){let f=Math.min(h,a.len);c+=f,h-=f,a.forward(f)}else if(a.ins==0&&a.len<h)h-=a.len,a.next();else break;_n(r,c,l<o.i?o.ins:0),s&&l<o.i&&gs(s,r,o.text),l=o.i,o.forward(o.len-h)}else{if(o.done&&a.done)return s?hn.createSet(r,s):lr.create(r);throw new Error("Mismatched change set lengths")}}}function _1(n,e,t=!1){let i=[],r=t?[]:null,s=new $l(n),o=new $l(e);for(let a=!1;;){if(s.done&&o.done)return r?hn.createSet(i,r):lr.create(i);if(s.ins==0)_n(i,s.len,0,a),s.next();else if(o.len==0&&!o.done)_n(i,0,o.ins,a),r&&gs(r,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=i.length;if(s.ins==-1){let h=o.ins==-1?-1:o.off?0:o.ins;_n(i,l,h,a),r&&h&&gs(r,i,o.text)}else o.ins==-1?(_n(i,s.off?0:s.len,l,a),r&&gs(r,i,s.textBit(l))):(_n(i,s.off?0:s.len,o.off?0:o.ins,a),r&&!o.off&&gs(r,i,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||i.length>c),s.forward2(l),o.forward(l)}}}}class $l{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?mt.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?mt.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Gs{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new Gs(i,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Y.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Y.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Y.range(e.anchor,e.head)}static create(e,t,i){return new Gs(e,t,i)}}class Y{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Y.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Y([this.main],0)}addRange(e,t=!0){return Y.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,Y.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Y(e.ranges.map(t=>Gs.fromJSON(t)),e.main)}static single(e,t=e){return new Y([Y.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=i:s.from<i)return Y.normalized(e.slice(),t);i=s.to}return new Y(e,t)}static cursor(e,t=0,i,r){return Gs.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(r??16777215)<<6)}static range(e,t,i,r){let s=(i??16777215)<<6|(r==null?7:Math.min(6,r));return t<e?Gs.create(t,e,48|s):Gs.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let i=e[t];e.sort((r,s)=>r.from-s.from),t=e.indexOf(i);for(let r=1;r<e.length;r++){let s=e[r],o=e[r-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);r<=t&&t--,e.splice(--r,2,s.anchor>s.head?Y.range(l,a):Y.range(a,l))}}return new Y(e,t)}}function A1(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let mg=0;class Oe{constructor(e,t,i,r,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=r,this.id=mg++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Oe(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:yg),!!e.static,e.enables)}of(e){return new ah([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new ah(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new ah(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function yg(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class ah{constructor(e,t,i,r){this.dependencies=e,this.facet=t,this.type=i,this.value=r,this.id=mg++}dynamicSlot(e){var t;let i=this.value,r=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,h=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?c=!0:((t=e[f.id])!==null&&t!==void 0?t:1)&1||h.push(e[f.id]);return{create(f){return f.values[o]=i(f),1},update(f,u){if(l&&u.docChanged||c&&(u.docChanged||u.selection)||Ad(f,h)){let d=i(f);if(a?!am(d,f.values[o],r):!r(d,f.values[o]))return f.values[o]=d,1}return 0},reconfigure:(f,u)=>{let d,g=u.config.address[s];if(g!=null){let m=Dh(u,g);if(this.dependencies.every(O=>O instanceof Oe?u.facet(O)===f.facet(O):O instanceof On?u.field(O,!1)==f.field(O,!1):!0)||(a?am(d=i(f),m,r):r(d=i(f),m)))return f.values[o]=m,0}else d=i(f);return f.values[o]=d,1}}}}function am(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function Ad(n,e){let t=!1;for(let i of e)gl(n,i)&1&&(t=!0);return t}function mA(n,e,t){let i=t.map(l=>n[l.id]),r=t.map(l=>l.type),s=i.filter(l=>!(l&1)),o=n[e.id]>>1;function a(l){let c=[];for(let h=0;h<i.length;h++){let f=Dh(l,i[h]);if(r[h]==2)for(let u of f)c.push(u);else c.push(f)}return e.combine(c)}return{create(l){for(let c of i)gl(l,c);return l.values[o]=a(l),1},update(l,c){if(!Ad(l,s))return 0;let h=a(l);return e.compare(h,l.values[o])?0:(l.values[o]=h,1)},reconfigure(l,c){let h=Ad(l,i),f=c.config.facets[e.id],u=c.facet(e);if(f&&!h&&yg(t,f))return l.values[o]=u,0;let d=a(l);return e.compare(d,u)?(l.values[o]=u,0):(l.values[o]=d,1)}}}const kc=Oe.define({static:!0});class On{constructor(e,t,i,r,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let t=new On(mg++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(kc).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,r)=>{let s=i.values[t],o=this.updateF(s,r);return this.compareF(s,o)?0:(i.values[t]=o,1)},reconfigure:(i,r)=>{let s=i.facet(kc),o=r.facet(kc),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(i.values[t]=a.create(i),1):r.config.address[this.id]!=null?(i.values[t]=r.field(this),0):(i.values[t]=this.create(i),1)}}}init(e){return[this,kc.of({field:this,create:e})]}get extension(){return this}}const Vs={lowest:4,low:3,default:2,high:1,highest:0};function Na(n){return e=>new E1(e,n)}const As={highest:Na(Vs.highest),high:Na(Vs.high),default:Na(Vs.default),low:Na(Vs.low),lowest:Na(Vs.lowest)};class E1{constructor(e,t){this.inner=e,this.prec=t}}class Tf{of(e){return new Ed(this,e)}reconfigure(e){return Tf.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Ed{constructor(e,t){this.compartment=e,this.inner=t}}class Bh{constructor(e,t,i,r,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let r=[],s=Object.create(null),o=new Map;for(let u of yA(e,t,o))u instanceof On?r.push(u):(s[u.facet.id]||(s[u.facet.id]=[])).push(u);let a=Object.create(null),l=[],c=[];for(let u of r)a[u.id]=c.length<<1,c.push(d=>u.slot(d));let h=i==null?void 0:i.config.facets;for(let u in s){let d=s[u],g=d[0].facet,m=h&&h[u]||[];if(d.every(O=>O.type==0))if(a[g.id]=l.length<<1|1,yg(m,d))l.push(i.facet(g));else{let O=g.combine(d.map(b=>b.value));l.push(i&&g.compare(O,i.facet(g))?i.facet(g):O)}else{for(let O of d)O.type==0?(a[O.id]=l.length<<1|1,l.push(O.value)):(a[O.id]=c.length<<1,c.push(b=>O.dynamicSlot(b)));a[g.id]=c.length<<1,c.push(O=>mA(O,g,d))}}let f=c.map(u=>u(a));return new Bh(e,o,f,a,l,s)}}function yA(n,e,t){let i=[[],[],[],[],[]],r=new Map;function s(o,a){let l=r.get(o);if(l!=null){if(l<=a)return;let c=i[l].indexOf(o);c>-1&&i[l].splice(c,1),o instanceof Ed&&t.delete(o.compartment)}if(r.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof Ed){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;t.set(o.compartment,c),s(c,a)}else if(o instanceof E1)s(o.inner,o.prec);else if(o instanceof On)i[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof ah)i[a].push(o),o.facet.extensions&&s(o.facet.extensions,Vs.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(n,Vs.default),i.reduce((o,a)=>o.concat(a))}function gl(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let r=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|r}function Dh(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const T1=Oe.define(),Td=Oe.define({combine:n=>n.some(e=>e),static:!0}),C1=Oe.define({combine:n=>n.length?n[0]:void 0,static:!0}),M1=Oe.define(),Z1=Oe.define(),R1=Oe.define(),I1=Oe.define({combine:n=>n.length?n[0]:!1});class Gr{constructor(e,t){this.type=e,this.value=t}static define(){return new bA}}class bA{of(e){return new Gr(this,e)}}class vA{constructor(e){this.map=e}of(e){return new Ve(this,e)}}class Ve{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Ve(this.type,t)}is(e){return this.type==e}static define(e={}){return new vA(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let r of e){let s=r.map(t);s&&i.push(s)}return i}}Ve.reconfigure=Ve.define();Ve.appendConfig=Ve.define();class nn{constructor(e,t,i,r,s,o){this.startState=e,this.changes=t,this.selection=i,this.effects=r,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&A1(i,t.newLength),s.some(a=>a.type==nn.time)||(this.annotations=s.concat(nn.time.of(Date.now())))}static create(e,t,i,r,s,o){return new nn(e,t,i,r,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(nn.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}nn.time=Gr.define();nn.userEvent=Gr.define();nn.addToHistory=Gr.define();nn.remote=Gr.define();function xA(n,e){let t=[];for(let i=0,r=0;;){let s,o;if(i<n.length&&(r==e.length||e[r]>=n[i]))s=n[i++],o=n[i++];else if(r<e.length)s=e[r++],o=e[r++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function j1(n,e,t){var i;let r,s,o;return t?(r=e.changes,s=hn.empty(e.changes.length),o=n.changes.compose(e.changes)):(r=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):(i=n.selection)===null||i===void 0?void 0:i.map(r),effects:Ve.mapEffects(n.effects,r).concat(Ve.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Cd(n,e,t){let i=e.selection,r=Ho(e.annotations);return e.userEvent&&(r=r.concat(nn.userEvent.of(e.userEvent))),{changes:e.changes instanceof hn?e.changes:hn.of(e.changes||[],t,n.facet(C1)),selection:i&&(i instanceof Y?i:Y.single(i.anchor,i.head)),effects:Ho(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function B1(n,e,t){let i=Cd(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;i=j1(i,Cd(n,e[s],o?i.changes.newLength:n.doc.length),o)}let r=nn.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return SA(t?wA(r):r)}function wA(n){let e=n.startState,t=!0;for(let r of e.facet(M1)){let s=r(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:xA(t,s))}if(t!==!0){let r,s;if(t===!1)s=n.changes.invertedDesc,r=hn.empty(e.doc.length);else{let o=n.changes.filter(t);r=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}n=nn.create(e,r,n.selection&&n.selection.map(s),Ve.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let i=e.facet(Z1);for(let r=i.length-1;r>=0;r--){let s=i[r](n);s instanceof nn?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof nn?n=s[0]:n=B1(e,Ho(s),!1)}return n}function SA(n){let e=n.startState,t=e.facet(R1),i=n;for(let r=t.length-1;r>=0;r--){let s=t[r](n);s&&Object.keys(s).length&&(i=j1(i,Cd(e,s,n.changes.newLength),!0))}return i==n?n:nn.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const kA=[];function Ho(n){return n==null?kA:Array.isArray(n)?n:[n]}var Lt=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(Lt||(Lt={}));const $A=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Md;try{Md=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function QA(n){if(Md)return Md.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||$A.test(t)))return!0}return!1}function PA(n){return e=>{if(!/\S/.test(e))return Lt.Space;if(QA(e))return Lt.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Lt.Word;return Lt.Other}}class gt{constructor(e,t,i,r,s,o){this.config=e,this.doc=t,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)gl(this,a<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return gl(this,i),Dh(this,i)}update(...e){return B1(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:r}=t;for(let a of e.effects)a.is(Tf.reconfigure)?(t&&(r=new Map,t.compartments.forEach((l,c)=>r.set(c,l)),t=null),r.set(a.value.compartment,a.value.extension)):a.is(Ve.reconfigure)?(t=null,i=a.value):a.is(Ve.appendConfig)&&(t=null,i=Ho(i).concat(a.value));let s;t?s=e.startState.values.slice():(t=Bh.resolve(i,r,this),s=new gt(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(Td)?e.newSelection:e.newSelection.asSingle();new gt(t,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Y.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),r=this.changes(i.changes),s=[i.range],o=Ho(i.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),c=this.changes(l.changes),h=c.map(r);for(let u=0;u<a;u++)s[u]=s[u].map(h);let f=r.mapDesc(c,!0);s.push(l.range.map(f)),r=r.compose(h),o=Ve.mapEffects(o,h).concat(Ve.mapEffects(Ho(l.effects),f))}return{changes:r,selection:Y.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof hn?e:hn.of(e,this.doc.length,this.facet(gt.lineSeparator))}toText(e){return mt.of(e.split(this.facet(gt.lineSeparator)||Qd))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(gl(this,t),Dh(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof On&&this.config.address[r.id]!=null&&(t[i]=r.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],a=e[s];r.push(o.init(l=>o.spec.fromJSON(a,l)))}}return gt.create({doc:e.doc,selection:Y.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=Bh.resolve(e.extensions||[],new Map),i=e.doc instanceof mt?e.doc:mt.of((e.doc||"").split(t.staticFacet(gt.lineSeparator)||Qd)),r=e.selection?e.selection instanceof Y?e.selection:Y.single(e.selection.anchor,e.selection.head):Y.single(0);return A1(r,i.length),t.staticFacet(Td)||(r=r.asSingle()),new gt(t,i,r,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(gt.tabSize)}get lineBreak(){return this.facet(gt.lineSeparator)||`
`}get readOnly(){return this.facet(I1)}phrase(e,...t){for(let i of this.facet(gt.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let r=[];for(let s of this.facet(T1))for(let o of s(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return PA(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,a=e-i;for(;o>0;){let l=wn(t,o,!1);if(s(t.slice(l,o))!=Lt.Word)break;o=l}for(;a<r;){let l=wn(t,a);if(s(t.slice(a,l))!=Lt.Word)break;a=l}return o==a?null:Y.range(o+i,a+i)}}gt.allowMultipleSelections=Td;gt.tabSize=Oe.define({combine:n=>n.length?n[0]:4});gt.lineSeparator=C1;gt.readOnly=I1;gt.phrases=Oe.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(r=>n[r]==e[r])}});gt.languageData=T1;gt.changeFilter=M1;gt.transactionFilter=Z1;gt.transactionExtender=R1;Tf.reconfigure=Ve.define();function gr(n,e,t={}){let i={};for(let r of n)for(let s of Object.keys(r)){let o=r[s],a=i[s];if(a===void 0)i[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))i[s]=t[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class ho{eq(e){return this==e}range(e,t=e){return Zd.create(e,t,this)}}ho.prototype.startSide=ho.prototype.endSide=0;ho.prototype.point=!1;ho.prototype.mapMode=xn.TrackDel;let Zd=class D1{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new D1(e,t,i)}};function Rd(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class bg{constructor(e,t,i,r){this.from=e,this.to=t,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,r=0){let s=i?this.to:this.from;for(let o=r,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,t,i,r){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],r=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],h=this.from[l]+e,f=this.to[l]+e,u,d;if(h==f){let g=t.mapPos(h,c.startSide,c.mapMode);if(g==null||(u=d=g,c.startSide!=c.endSide&&(d=t.mapPos(h,c.endSide),d<u)))continue}else if(u=t.mapPos(h,c.startSide),d=t.mapPos(f,c.endSide),u>d||u==d&&c.startSide>0&&c.endSide<=0)continue;(d-u||c.endSide-c.startSide)<0||(o<0&&(o=u),c.point&&(a=Math.max(a,d-u)),i.push(c),r.push(u-o),s.push(d-o))}return{mapped:i.length?new bg(r,s,i,a):null,pos:o}}}class dt{constructor(e,t,i,r){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=r}static create(e,t,i,r){return new dt(e,t,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:r=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(i&&(t=t.slice().sort(Rd)),this.isEmpty)return t.length?dt.of(t):this;let a=new L1(this,null,-1).goto(0),l=0,c=[],h=new Xr;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let f=t[l++];h.addInner(f.from,f.to,f.value)||c.push(f)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||r>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&h.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||r>a.to||s<a.from||o(a.from,a.to,a.value))&&(h.addInner(a.from,a.to,a.value)||c.push(Zd.create(a.from,a.to,a.value))),a.next());return h.finishInner(this.nextLayer.isEmpty&&!c.length?dt.empty:this.nextLayer.update({add:c,filter:o,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],r=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)r=Math.max(r,l.maxPoint),t.push(l),i.push(e.mapPos(a));else if(c===!0){let{mapped:h,pos:f}=l.map(a,e);h&&(r=Math.max(r,h.maxPoint),t.push(h),i.push(f))}}let s=this.nextLayer.map(e);return t.length==0?s:new dt(i,t,s||dt.empty,r)}between(e,t,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return Ql.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Ql.from(e).goto(t)}static compare(e,t,i,r,s=-1){let o=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),a=t.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),l=lm(o,a,i),c=new Ua(o,l,s),h=new Ua(a,l,s);i.iterGaps((f,u,d)=>cm(c,f,h,u,d,r)),i.empty&&i.length==0&&cm(c,0,h,0,0,r)}static eq(e,t,i=0,r){r==null&&(r=999999999);let s=e.filter(h=>!h.isEmpty&&t.indexOf(h)<0),o=t.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=lm(s,o),l=new Ua(s,a,0).goto(i),c=new Ua(o,a,0).goto(i);for(;;){if(l.to!=c.to||!Id(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>r)return!0;l.next(),c.next()}}static spans(e,t,i,r,s=-1){let o=new Ua(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let c=Math.min(o.to,i);if(o.point){let h=o.activeForPoint(o.to),f=o.pointFrom<t?h.length+1:o.point.startSide<0?h.length:Math.min(h.length,l);r.point(a,c,o.point,h,f,o.pointRank),l=Math.min(o.openEnd(c),h.length)}else c>a&&(r.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>i)return l+(o.point&&o.to>i?1:0);a=o.to,o.next()}}static of(e,t=!1){let i=new Xr;for(let r of e instanceof Zd?[e]:t?_A(e):e)i.add(r.from,r.to,r.value);return i.finish()}static join(e){if(!e.length)return dt.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let r=e[i];r!=dt.empty;r=r.nextLayer)t=new dt(r.chunkPos,r.chunk,t,Math.max(r.maxPoint,t.maxPoint));return t}}dt.empty=new dt([],[],null,-1);function _A(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(Rd(e,i)>0)return n.slice().sort(Rd);e=i}return n}dt.empty.nextLayer=dt.empty;class Xr{finishChunk(e){this.chunks.push(new bg(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Xr)).add(e,t,i)}addInner(e,t,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(dt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=dt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function lm(n,e,t){let i=new Map;for(let s of n)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let r=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=i.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!(t!=null&&t.touchesRange(a,a+s.chunk[o].length))&&r.add(s.chunk[o])}return r}class L1{constructor(e,t,i,r=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Ql{constructor(e){this.heap=e}static from(e,t=null,i=-1){let r=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&r.push(new L1(o,t,i,s));return r.length==1?r[0]:new Ql(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)bu(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)bu(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),bu(this.heap,0)}}}function bu(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let r=n[i];if(i+1<n.length&&r.compare(n[i+1])>=0&&(r=n[i+1],i++),t.compare(r)<0)break;n[i]=t,n[e]=r,e=i}}class Ua{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ql.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){$c(this.active,e),$c(this.activeTo,e),$c(this.activeRank,e),this.minActive=hm(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:r,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||r-this.activeTo[t])>0;)t++;Qc(this.active,t,i),Qc(this.activeTo,t,r),Qc(this.activeRank,t,s),e&&Qc(e,t,this.cursor.from),this.minActive=hm(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&$c(i,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function cm(n,e,t,i,r,s){n.goto(e),t.goto(i);let o=i+r,a=i,l=i-e;for(;;){let c=n.to+l-t.to,h=c||n.endSide-t.endSide,f=h<0?n.to+l:t.to,u=Math.min(f,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Id(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(a,u,n.point,t.point):u>a&&!Id(n.active,t.active)&&s.compareRange(a,u,n.active,t.active),f>o)break;(c||n.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(f),a=f,h<=0&&n.next(),h>=0&&t.next()}}function Id(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function $c(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function Qc(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function hm(n,e){let t=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||n[r].endSide-n[t].endSide)<0&&(t=r,i=e[r]);return t}function Pa(n,e,t=n.length){let i=0;for(let r=0;r<t&&r<n.length;)n.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=wn(n,r));return i}function jd(n,e,t,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==n.length)break;s+=n.charCodeAt(r)==9?t-s%t:1,r=wn(n,r)}return i===!0?-1:n.length}const Bd="",fm=typeof Symbol>"u"?"__"+Bd:Symbol.for(Bd),Dd=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),um=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ks{constructor(e,t){this.rules=[];let{finish:i}=t||{};function r(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let h=[],f=/^@(\w+)\b/.exec(o[0]),u=f&&f[1]=="keyframes";if(f&&a==null)return l.push(o[0]+";");for(let d in a){let g=a[d];if(/&/.test(d))s(d.split(/,\s*/).map(m=>o.map(O=>m.replace(/&/,O))).reduce((m,O)=>m.concat(O)),g,l);else if(g&&typeof g=="object"){if(!f)throw new RangeError("The value of a property ("+d+") should be a primitive value.");s(r(d),g,h,u)}else g!=null&&h.push(d.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+g+";")}(h.length||u)&&l.push((i&&!f&&!c?o.map(i):o).join(", ")+" {"+h.join(" ")+"}")}for(let o in e)s(r(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=um[fm]||1;return um[fm]=e+1,Bd+e.toString(36)}static mount(e,t,i){let r=e[Dd],s=i&&i.nonce;r?s&&r.setNonce(s):r=new AA(e,s),r.mount(Array.isArray(t)?t:[t],e)}}let dm=new Map;class AA{constructor(e,t){let i=e.ownerDocument||e,r=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let s=dm.get(i);if(s)return e[Dd]=s;this.sheet=new r.CSSStyleSheet,dm.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[Dd]=this}mount(e,t){let i=this.sheet,r=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),i)for(let c=0;c<a.rules.length;c++)i.insertRule(a.rules[c],r++)}else{for(;s<l;)r+=this.modules[s++].rules.length;r+=a.rules.length,s++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=t.head||t;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var $s={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Pl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},EA=typeof navigator<"u"&&/Mac/.test(navigator.platform),TA=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var vn=0;vn<10;vn++)$s[48+vn]=$s[96+vn]=String(vn);for(var vn=1;vn<=24;vn++)$s[vn+111]="F"+vn;for(var vn=65;vn<=90;vn++)$s[vn]=String.fromCharCode(vn+32),Pl[vn]=String.fromCharCode(vn);for(var vu in $s)Pl.hasOwnProperty(vu)||(Pl[vu]=$s[vu]);function CA(n){var e=EA&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||TA&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Pl:$s)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function _l(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Ld(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function lh(n,e){if(!e.anchorNode)return!1;try{return Ld(n,e.anchorNode)}catch{return!1}}function Al(n){return n.nodeType==3?uo(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Ol(n,e,t,i){return t?pm(n,e,t,i,-1)||pm(n,e,t,i,1):!1}function fo(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Lh(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function pm(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:ur(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=fo(n)+(r<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?ur(n):0}else return!1}}function ur(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Cf(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function MA(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function q1(n,e){let t=e.width/n.offsetWidth,i=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-n.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function ZA(n,e,t,i,r,s,o,a){let l=n.ownerDocument,c=l.defaultView||window;for(let h=n,f=!1;h&&!f;)if(h.nodeType==1){let u,d=h==l.body,g=1,m=1;if(d)u=MA(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(f=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let $=h.getBoundingClientRect();({scaleX:g,scaleY:m}=q1(h,$)),u={left:$.left,right:$.left+h.clientWidth*g,top:$.top,bottom:$.top+h.clientHeight*m}}let O=0,b=0;if(r=="nearest")e.top<u.top?(b=-(u.top-e.top+o),t>0&&e.bottom>u.bottom+b&&(b=e.bottom-u.bottom+b+o)):e.bottom>u.bottom&&(b=e.bottom-u.bottom+o,t<0&&e.top-b<u.top&&(b=-(u.top+b-e.top+o)));else{let $=e.bottom-e.top,Q=u.bottom-u.top;b=(r=="center"&&$<=Q?e.top+$/2-Q/2:r=="start"||r=="center"&&t<0?e.top-o:e.bottom-Q+o)-u.top}if(i=="nearest"?e.left<u.left?(O=-(u.left-e.left+s),t>0&&e.right>u.right+O&&(O=e.right-u.right+O+s)):e.right>u.right&&(O=e.right-u.right+s,t<0&&e.left<u.left+O&&(O=-(u.left+O-e.left+s))):O=(i=="center"?e.left+(e.right-e.left)/2-(u.right-u.left)/2:i=="start"==a?e.left-s:e.right-(u.right-u.left)+s)-u.left,O||b)if(d)c.scrollBy(O,b);else{let $=0,Q=0;if(b){let P=h.scrollTop;h.scrollTop+=b/m,Q=(h.scrollTop-P)*m}if(O){let P=h.scrollLeft;h.scrollLeft+=O/g,$=(h.scrollLeft-P)*g}e={left:e.left-$,top:e.top-Q,right:e.right-$,bottom:e.bottom-Q},$&&Math.abs($-O)<1&&(i="nearest"),Q&&Math.abs(Q-b)<1&&(r="nearest")}if(d)break;h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function RA(n){let e=n.ownerDocument,t,i;for(let r=n.parentNode;r&&!(r==e.body||t&&i);)if(r.nodeType==1)!i&&r.scrollHeight>r.clientHeight&&(i=r),!t&&r.scrollWidth>r.clientWidth&&(t=r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;return{x:t,y:i}}class IA{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?ur(t):0),i,Math.min(e.focusOffset,i?ur(i):0))}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}}let Zo=null;function N1(n){if(n.setActive)return n.setActive();if(Zo)return n.focus(Zo);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Zo==null?{get preventScroll(){return Zo={preventScroll:!0},!0}}:void 0),!Zo){Zo=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],s=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let gm;function uo(n,e,t=e){let i=gm||(gm=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Ko(n,e,t,i){let r={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=i);let s=new KeyboardEvent("keydown",r);s.synthetic=!0,n.dispatchEvent(s);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,n.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function jA(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function U1(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function BA(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,ur(t));;)if(i){if(t.nodeType!=1)return!1;let r=t.childNodes[i-1];r.contentEditable=="false"?i--:(t=r,i=ur(t))}else{if(t==n)return!0;i=fo(t),t=t.parentNode}}function X1(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function V1(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i>0)return{node:t,offset:i};if(t.nodeType==1&&i>0){if(t.contentEditable=="false")return null;t=t.childNodes[i-1],i=ur(t)}else if(t.parentNode&&!Lh(t))i=fo(t),t=t.parentNode;else return null}}function z1(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i<t.nodeValue.length)return{node:t,offset:i};if(t.nodeType==1&&i<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[i],i=0}else if(t.parentNode&&!Lh(t))i=fo(t)+1,t=t.parentNode;else return null}}class An{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new An(e.parentNode,fo(e),t)}static after(e,t){return new An(e.parentNode,fo(e)+1,t)}}const vg=[];class Et{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let i=this.dom,r=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=r?r.nextSibling:i.firstChild)){let a=Et.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=r?r.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&s!=o.dom&&(t.written=!0),o.dom.parentNode==i)for(;s&&s!=o.dom;)s=Om(s);else i.insertBefore(o.dom,s);r=o.dom}for(s=r?r.nextSibling:i.firstChild,s&&t&&t.node==i&&(t.written=!0);s;)s=Om(s)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=ur(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;r==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?r=-1:r=1),e=s}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Et.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,s=0;;r++){let o=this.children[r];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,s=-1,o=-1,a=-1;for(let l=0,c=i,h=i;l<this.children.length;l++){let f=this.children[l],u=c+f.length;if(c<e&&u>t)return f.domBoundsAround(e,t,c);if(u>=e&&r==-1&&(r=l,s=c),c>t&&f.dom.parentNode==this.dom){o=l,a=h;break}h=u,c=u+f.breakAfter}return{from:s,to:a<0?i+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=vg){this.markDirty();for(let r=e;r<t;r++){let s=this.children[r];s.parent==this&&i.indexOf(s)<0&&s.destroy()}i.length<250?this.children.splice(e,t-e,...i):this.children=[].concat(this.children.slice(0,e),i,this.children.slice(t));for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new W1(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,r,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Et.prototype.breakAfter=0;function Om(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class W1{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function Y1(n,e,t,i,r,s,o,a,l){let{children:c}=n,h=c.length?c[e]:null,f=s.length?s[s.length-1]:null,u=f?f.breakAfter:o;if(!(e==i&&h&&!o&&!u&&s.length<2&&h.merge(t,r,s.length?f:null,t==0,a,l))){if(i<c.length){let d=c[i];d&&(r<d.length||d.breakAfter&&(f!=null&&f.breakAfter))?(e==i&&(d=d.split(r),r=0),!u&&f&&d.merge(0,r,f,!0,0,l)?s[s.length-1]=d:((r||d.children.length&&!d.children[0].length)&&d.merge(0,r,null,!1,0,l),s.push(d))):d!=null&&d.breakAfter&&(f?f.breakAfter=1:o=1),i++}for(h&&(h.breakAfter=o,t>0&&(!o&&s.length&&h.merge(t,h.length,s[0],!1,a,0)?h.breakAfter=s.shift().breakAfter:(t<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(t,h.length,null,!1,a,0),e++));e<i&&s.length;)if(c[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,a,l)&&e--,(e<i||s.length)&&n.replaceChildren(e,i,s)}}function G1(n,e,t,i,r,s){let o=n.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:c,off:h}=o.findPos(e,-1),f=e-t;for(let u of i)f+=u.length;n.length+=f,Y1(n,c,h,a,l,i,0,r,s)}let Gn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},qd=typeof document<"u"?document:{documentElement:{style:{}}};const Nd=/Edge\/(\d+)/.exec(Gn.userAgent),F1=/MSIE \d/.test(Gn.userAgent),Ud=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Gn.userAgent),Mf=!!(F1||Ud||Nd),mm=!Mf&&/gecko\/(\d+)/i.test(Gn.userAgent),xu=!Mf&&/Chrome\/(\d+)/.exec(Gn.userAgent),ym="webkitFontSmoothing"in qd.documentElement.style,H1=!Mf&&/Apple Computer/.test(Gn.vendor),bm=H1&&(/Mobile\/\w+/.test(Gn.userAgent)||Gn.maxTouchPoints>2);var ue={mac:bm||/Mac/.test(Gn.platform),windows:/Win/.test(Gn.platform),linux:/Linux|X11/.test(Gn.platform),ie:Mf,ie_version:F1?qd.documentMode||6:Ud?+Ud[1]:Nd?+Nd[1]:0,gecko:mm,gecko_version:mm?+(/Firefox\/(\d+)/.exec(Gn.userAgent)||[0,0])[1]:0,chrome:!!xu,chrome_version:xu?+xu[1]:0,ios:bm,android:/Android\b/.test(Gn.userAgent),webkit:ym,safari:H1,webkit_version:ym?+(/\bAppleWebKit\/(\d+)/.exec(Gn.userAgent)||[0,0])[1]:0,tabSize:qd.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const DA=256;class Li extends Et{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return this.flags&8||i&&(!(i instanceof Li)||this.length-(t-e)+i.length>DA||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Li(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new An(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return LA(this.dom,e,t)}}class Vr extends Et{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(U1(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,r,s,o){return i&&(!(i instanceof Vr&&i.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(G1(this,e,t,i?i.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,s=0;for(let a of this.children){let l=i+a.length;l>e&&t.push(i<e?a.split(e-i):a),r<0&&i>=e&&(r=s),i=l,s++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Vr(this.mark,t,o)}domAtPos(e){return K1(this,e)}coordsAt(e,t){return ev(this,e,t)}}function LA(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;e==0&&t<0||e==i&&t>=0?ue.chrome||ue.gecko||(e?(r--,o=1):s<i&&(s++,o=-1)):t<0?r--:s<i&&s++;let a=uo(n,r,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:t>=0)?0:a.length-1];return ue.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?Cf(l,o<0):l||null}class Os extends Et{static create(e,t,i){return new Os(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=Os.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,i,r,s,o){return i&&(!(i instanceof Os)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof Os&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return mt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):mt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?An.before(this.dom):An.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let r=this.dom.getClientRects(),s=null;if(!r.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?r.length-1:0;s=r[a],!(e>0?a==0:a==r.length-1||s.top<s.bottom);a+=o?-1:1);return Cf(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class pa extends Et{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof pa&&e.side==this.side}split(){return new pa(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?An.before(this.dom):An.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return mt.empty}get isHidden(){return!0}}Li.prototype.children=Os.prototype.children=pa.prototype.children=vg;function K1(n,e){let t=n.dom,{children:i}=n,r=0;for(let s=0;r<i.length;r++){let o=i[r],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=r;s>0;s--){let o=i[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=r;s<i.length;s++){let o=i[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new An(t,0)}function J1(n,e,t){let i,{children:r}=n;t>0&&e instanceof Vr&&r.length&&(i=r[r.length-1])instanceof Vr&&i.mark.eq(e.mark)?J1(i,e.children[0],t-1):(r.push(e),e.setParent(n)),n.length+=e.length}function ev(n,e,t){let i=null,r=-1,s=null,o=-1;function a(c,h){for(let f=0,u=0;f<c.children.length&&u<=h;f++){let d=c.children[f],g=u+d.length;g>=h&&(d.children.length?a(d,h-u):(!s||s.isHidden&&t>0)&&(g>h||u==g&&d.getSide()>0)?(s=d,o=h-u):(u<h||u==g&&d.getSide()<0&&!d.isHidden)&&(i=d,r=h-u)),u=g}}a(n,e);let l=(t<0?i:s)||i||s;return l?l.coordsAt(Math.max(0,l==i?r:o),t):qA(n)}function qA(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Al(e);return t[t.length-1]||null}function Xd(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const vm=Object.create(null);function qh(n,e,t){if(n==e)return!0;n||(n=vm),e||(e=vm);let i=Object.keys(n),r=Object.keys(e);if(i.length-(t&&i.indexOf(t)>-1?1:0)!=r.length-(t&&r.indexOf(t)>-1?1:0))return!1;for(let s of i)if(s!=t&&(r.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function Vd(n,e,t){let i=!1;if(e)for(let r in e)t&&r in t||(i=!0,r=="style"?n.style.cssText="":n.removeAttribute(r));if(t)for(let r in t)e&&e[r]==t[r]||(i=!0,r=="style"?n.style.cssText=t[r]:n.setAttribute(r,t[r]));return i}function NA(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let i=n.attributes[t];e[i.name]=i.value}return e}class Fr{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Nn=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Nn||(Nn={}));class Ee extends ho{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new Kl(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Qs(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:s,end:o}=tv(e,t);i=(s?t?-3e8:-1:5e8)-1,r=(o?t?2e8:1:-6e8)+1}return new Qs(e,i,r,t,e.widget||null,!0)}static line(e){return new Jl(e)}static set(e,t=!1){return dt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ee.none=dt.empty;class Kl extends Ee{constructor(e){let{start:t,end:i}=tv(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof Kl&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&qh(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Kl.prototype.point=!1;class Jl extends Ee{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Jl&&this.spec.class==e.spec.class&&qh(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Jl.prototype.mapMode=xn.TrackBefore;Jl.prototype.point=!0;class Qs extends Ee{constructor(e,t,i,r,s,o){super(t,i,s,e),this.block=r,this.isReplace=o,this.mapMode=r?t<=0?xn.TrackBefore:xn.TrackAfter:xn.TrackDel}get type(){return this.startSide!=this.endSide?Nn.WidgetRange:this.startSide<=0?Nn.WidgetBefore:Nn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Qs&&UA(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Qs.prototype.point=!0;function tv(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function UA(n,e){return n==e||!!(n&&e&&n.compare(e))}function ch(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}class en extends Et{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,s,o){if(i){if(!(i instanceof en))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),G1(this,e,t,i?i.children.slice():[],s,o),!0}split(e){let t=new en;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)t.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){qh(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){J1(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=Xd(t,this.attrs||{})),i&&(this.attrs=Xd({class:i},this.attrs||{}))}domAtPos(e){return K1(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?this.flags&4&&(U1(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Vd(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&Et.get(r)instanceof Vr;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((i=Et.get(r))===null||i===void 0?void 0:i.isEditable)==!1&&(!ue.ios||!this.children.some(s=>s instanceof Li))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof Li)||/[^ -~]/.test(i.text))return null;let r=Al(i.dom);if(r.length!=1)return null;e+=r[0].width,t=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=ev(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:r}=this.parent.view.viewState,s=i.bottom-i.top;if(Math.abs(s-r.lineHeight)<2&&r.textHeight<s){let o=(s-r.textHeight)/2;return{top:i.top+o,bottom:i.bottom-o,left:i.left,right:i.left}}}return i}become(e){return e instanceof en&&this.children.length==0&&e.children.length==0&&qh(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let s=e.children[i],o=r+s.length;if(o>=t){if(s instanceof en)return s;if(o>t)break}r=o+s.breakAfter}return null}}class qr extends Et{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,s,o){return i&&(!(i instanceof qr)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?An.before(this.dom):An.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new qr(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return vg}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):mt.empty}domBoundsAround(){return null}become(e){return e instanceof qr&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);return i||(this.widget instanceof zd?null:Cf(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t==i?!1:e<0?t<0:i>0}}class zd extends Fr{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ml{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof qr&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new en),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Pc(new pa(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof qr)&&this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(Pc(new Li(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof Qs){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(i instanceof Qs)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new qr(i.widget||ga.block,a,i));else{let l=Os.create(i.widget||ga.inline,a,a?0:i.startSide),c=this.atCursorPos&&!l.isEditable&&s<=r.length&&(e<t||i.startSide>0),h=!l.isEditable&&(e<t||s>r.length||i.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(f.append(Pc(new pa(1),r),s),s=r.length+Math.max(0,s-r.length)),f.append(Pc(l,r),s),this.atCursorPos=h,this.pendingBuffer=h?e<t||s>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,i,r,s){let o=new ml(e,t,i,s);return o.openEnd=dt.spans(r,t,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Pc(n,e){for(let t of e)n=new Vr(t,[n],n.length);return n}class ga extends Fr{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}ga.inline=new ga("span");ga.block=new ga("div");var It=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(It||(It={}));const po=It.LTR,xg=It.RTL;function nv(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const XA=nv("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),VA=nv("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Wd=Object.create(null),Vi=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);Wd[e]=t,Wd[t]=-e}function iv(n){return n<=247?XA[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?VA[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const zA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class ms{get dir(){return this.level%2?xg:po}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,r){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==i)return o;(s<0||(r!=0?r<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function rv(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],r=e[t];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!rv(i.inner,r.inner))return!1}return!0}const _t=[];function WA(n,e,t,i,r){for(let s=0;s<=i.length;s++){let o=s?i[s-1].to:e,a=s<i.length?i[s].from:t,l=s?256:r;for(let c=o,h=l,f=l;c<a;c++){let u=iv(n.charCodeAt(c));u==512?u=h:u==8&&f==4&&(u=16),_t[c]=u==4?2:u,u&7&&(f=u),h=u}for(let c=o,h=l,f=l;c<a;c++){let u=_t[c];if(u==128)c<a-1&&h==_t[c+1]&&h&24?u=_t[c]=h:_t[c]=256;else if(u==64){let d=c+1;for(;d<a&&_t[d]==64;)d++;let g=c&&h==8||d<t&&_t[d]==8?f==1?1:8:256;for(let m=c;m<d;m++)_t[m]=g;c=d-1}else u==8&&f==1&&(_t[c]=1);h=u,u&7&&(f=u)}}}function YA(n,e,t,i,r){let s=r==1?2:1;for(let o=0,a=0,l=0;o<=i.length;o++){let c=o?i[o-1].to:e,h=o<i.length?i[o].from:t;for(let f=c,u,d,g;f<h;f++)if(d=Wd[u=n.charCodeAt(f)])if(d<0){for(let m=a-3;m>=0;m-=3)if(Vi[m+1]==-d){let O=Vi[m+2],b=O&2?r:O&4?O&1?s:r:0;b&&(_t[f]=_t[Vi[m]]=b),a=m;break}}else{if(Vi.length==189)break;Vi[a++]=f,Vi[a++]=u,Vi[a++]=l}else if((g=_t[f])==2||g==1){let m=g==r;l=m?0:1;for(let O=a-3;O>=0;O-=3){let b=Vi[O+2];if(b&2)break;if(m)Vi[O+2]|=2;else{if(b&4)break;Vi[O+2]|=4}}}}}function GA(n,e,t,i){for(let r=0,s=i;r<=t.length;r++){let o=r?t[r-1].to:n,a=r<t.length?t[r].from:e;for(let l=o;l<a;){let c=_t[l];if(c==256){let h=l+1;for(;;)if(h==a){if(r==t.length)break;h=t[r++].to,a=r<t.length?t[r].from:e}else if(_t[h]==256)h++;else break;let f=s==1,u=(h<e?_t[h]:i)==1,d=f==u?f?1:2:i;for(let g=h,m=r,O=m?t[m-1].to:n;g>l;)g==O&&(g=t[--m].from,O=m?t[m-1].to:n),_t[--g]=d;l=h}else s=c,l++}}}function Yd(n,e,t,i,r,s,o){let a=i%2?2:1;if(i%2==r%2)for(let l=e,c=0;l<t;){let h=!0,f=!1;if(c==s.length||l<s[c].from){let m=_t[l];m!=a&&(h=!1,f=m==16)}let u=!h&&a==1?[]:null,d=h?i:i+1,g=l;e:for(;;)if(c<s.length&&g==s[c].from){if(f)break e;let m=s[c];if(!h)for(let O=m.to,b=c+1;;){if(O==t)break e;if(b<s.length&&s[b].from==O)O=s[b++].to;else{if(_t[O]==a)break e;break}}if(c++,u)u.push(m);else{m.from>l&&o.push(new ms(l,m.from,d));let O=m.direction==po!=!(d%2);Gd(n,O?i+1:i,r,m.inner,m.from,m.to,o),l=m.to}g=m.to}else{if(g==t||(h?_t[g]!=a:_t[g]==a))break;g++}u?Yd(n,l,g,i+1,r,u,o):l<g&&o.push(new ms(l,g,d)),l=g}else for(let l=t,c=s.length;l>e;){let h=!0,f=!1;if(!c||l>s[c-1].to){let m=_t[l-1];m!=a&&(h=!1,f=m==16)}let u=!h&&a==1?[]:null,d=h?i:i+1,g=l;e:for(;;)if(c&&g==s[c-1].to){if(f)break e;let m=s[--c];if(!h)for(let O=m.from,b=c;;){if(O==e)break e;if(b&&s[b-1].to==O)O=s[--b].from;else{if(_t[O-1]==a)break e;break}}if(u)u.push(m);else{m.to<l&&o.push(new ms(m.to,l,d));let O=m.direction==po!=!(d%2);Gd(n,O?i+1:i,r,m.inner,m.from,m.to,o),l=m.from}g=m.from}else{if(g==e||(h?_t[g-1]!=a:_t[g-1]==a))break;g--}u?Yd(n,g,l,i+1,r,u,o):g<l&&o.push(new ms(g,l,d)),l=g}}function Gd(n,e,t,i,r,s,o){let a=e%2?2:1;WA(n,r,s,i,a),YA(n,r,s,i,a),GA(r,s,i,a),Yd(n,r,s,e,t,i,o)}function FA(n,e,t){if(!n)return[new ms(0,0,e==xg?1:0)];if(e==po&&!t.length&&!zA.test(n))return sv(n.length);if(t.length)for(;n.length>_t.length;)_t[_t.length]=256;let i=[],r=e==po?0:1;return Gd(n,r,r,t,0,n.length,i),i}function sv(n){return[new ms(0,n,0)]}let ov="";function HA(n,e,t,i,r){var s;let o=i.head-n.from,a=ms.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc),l=e[a],c=l.side(r,t);if(o==c){let u=a+=r?1:-1;if(u<0||u>=e.length)return null;l=e[a=u],o=l.side(!r,t),c=l.side(r,t)}let h=wn(n.text,o,l.forward(r,t));(h<l.from||h>l.to)&&(h=c),ov=n.text.slice(Math.min(o,h),Math.max(o,h));let f=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return f&&h==c&&f.level+(r?0:1)<l.level?Y.cursor(f.side(!r,t)+n.from,f.forward(r,t)?1:-1,f.level):Y.cursor(h+n.from,l.forward(r,t)?-1:1,l.level)}function KA(n,e,t){for(let i=e;i<t;i++){let r=iv(n.charCodeAt(i));if(r==1)return po;if(r==2||r==4)return xg}return po}const av=Oe.define(),lv=Oe.define(),cv=Oe.define(),hv=Oe.define(),Fd=Oe.define(),fv=Oe.define(),uv=Oe.define(),wg=Oe.define(),Sg=Oe.define(),dv=Oe.define({combine:n=>n.some(e=>e)}),pv=Oe.define({combine:n=>n.some(e=>e)}),gv=Oe.define();class Jo{constructor(e,t="nearest",i="nearest",r=5,s=5,o=!1){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new Jo(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Jo(Y.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const _c=Ve.define({map:(n,e)=>n.map(e)}),Ov=Ve.define();function Hn(n,e,t){let i=n.facet(hv);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Mr=Oe.define({combine:n=>n.length?n[0]:!0});let JA=0;const el=Oe.define();class on{constructor(e,t,i,r,s){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=r,this.extension=s(this)}static define(e,t){const{eventHandlers:i,eventObservers:r,provide:s,decorations:o}=t||{};return new on(JA++,e,i,r,a=>{let l=[el.of(a)];return o&&l.push(El.of(c=>{let h=c.plugin(a);return h?o(h):Ee.none})),s&&l.push(s(a)),l})}static fromClass(e,t){return on.define(i=>new e(i),t)}}class wu{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Hn(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Hn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Hn(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const mv=Oe.define(),kg=Oe.define(),El=Oe.define(),yv=Oe.define(),$g=Oe.define(),bv=Oe.define();function xm(n,e){let t=n.state.facet(bv);if(!t.length)return t;let i=t.map(s=>s instanceof Function?s(n):s),r=[];return dt.spans(i,e.from,e.to,{point(){},span(s,o,a,l){let c=s-e.from,h=o-e.from,f=r;for(let u=a.length-1;u>=0;u--,l--){let d=a[u].spec.bidiIsolate,g;if(d==null&&(d=KA(e.text,c,h)),l>0&&f.length&&(g=f[f.length-1]).to==c&&g.direction==d)g.to=h,f=g.inner;else{let m={from:c,to:h,direction:d,inner:[]};f.push(m),f=m.inner}}}}),r}const vv=Oe.define();function Qg(n){let e=0,t=0,i=0,r=0;for(let s of n.state.facet(vv)){let o=s(n);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(r=Math.max(r,o.bottom)))}return{left:e,right:t,top:i,bottom:r}}const tl=Oe.define();class Si{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new Si(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,s=0,o=0,a=0;;r++){let l=r==e.length?null:e[r],c=o-a,h=l?l.fromB:1e9;for(;s<t.length&&t[s]<h;){let f=t[s],u=t[s+1],d=Math.max(a,f),g=Math.min(h,u);if(d<=g&&new Si(d+c,g+c,d,g).addToSet(i),u>h)break;s+=2}if(!l)return i;new Si(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),o=l.toA,a=l.toB}}}class Nh{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=hn.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,o,a,l)=>r.push(new Si(s,o,a,l))),this.changedRanges=r}static create(e,t,i){return new Nh(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class wm extends Et{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Ee.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new en],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Si(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:c,toA:h})=>h<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?r=this.domChanged.newSel.head:!oE(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let s=r>-1?tE(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:h}=this.hasComposition;i=new Si(c,h,e.changes.mapPos(c,-1),e.changes.mapPos(h,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(ue.ie||ue.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=rE(o,a,e.changes);return i=Si.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=ue.chrome||ue.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||r.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof qr&&o.widget instanceof zd&&s.push(o.dom);r.updateGaps(s)}updateChildren(e,t,i){let r=i?i.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=r.length-1;;o--){let a=o>=0?r[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:h,toB:f}=a,u,d,g,m;if(i&&i.range.fromB<f&&i.range.toB>h){let P=ml.build(this.view.state.doc,h,i.range.fromB,this.decorations,this.dynamicDecorationMap),k=ml.build(this.view.state.doc,i.range.toB,f,this.decorations,this.dynamicDecorationMap);d=P.breakAtStart,g=P.openStart,m=k.openEnd;let A=this.compositionView(i);k.breakAtStart?A.breakAfter=1:k.content.length&&A.merge(A.length,A.length,k.content[0],!1,k.openStart,0)&&(A.breakAfter=k.content[0].breakAfter,k.content.shift()),P.content.length&&A.merge(0,0,P.content[P.content.length-1],!0,0,P.openEnd)&&P.content.pop(),u=P.content.concat(A).concat(k.content)}else({content:u,breakAtStart:d,openStart:g,openEnd:m}=ml.build(this.view.state.doc,h,f,this.decorations,this.dynamicDecorationMap));let{i:O,off:b}=s.findPos(c,1),{i:$,off:Q}=s.findPos(l,-1);Y1(this,$,Q,O,b,u,d,g,m)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let i of t.effects)i.is(Ov)&&(this.editContextFormatting=i.value)}compositionView(e){let t=new Li(e.text.nodeValue);t.flags|=8;for(let{deco:r}of e.marks)t=new Vr(r,[t],t.length);let i=new en;return i.append(t,0),i}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=Et.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},i=this.childPos(e.range.fromB,1),r=this.children[i.i];t(e.line,r);for(let s=e.marks.length-1;s>=-1;s--)i=r.childPos(i.off,1),r=r.children[i.i],t(s>=0?e.marks[s].node:e.text,r)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,r=i==this.dom,s=!r&&!(this.view.state.facet(Mr)||this.dom.tabIndex>-1)&&lh(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(r||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(ue.gecko&&a.empty&&!this.hasComposition&&eE(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=c=new An(f,0),o=!0}let h=this.view.observer.selectionRange;(o||!h.focusNode||(!Ol(l.node,l.offset,h.anchorNode,h.anchorOffset)||!Ol(c.node,c.offset,h.focusNode,h.focusOffset))&&!this.suppressWidgetCursorChange(h,a))&&(this.view.observer.ignore(()=>{ue.android&&ue.chrome&&this.dom.contains(h.focusNode)&&sE(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=_l(this.view.root);if(f)if(a.empty){if(ue.gecko){let u=nE(l.node,l.offset);if(u&&u!=3){let d=(u==1?V1:z1)(l.node,l.offset);d&&(l=new An(d.node,d.offset))}}f.collapse(l.node,l.offset),a.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=a.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(c.node,c.offset)}catch{}}else{let u=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),u.setEnd(c.node,c.offset),u.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(u)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new An(h.anchorNode,h.anchorOffset),this.impreciseHead=c.precise?null:new An(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Ol(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=_l(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let o=en.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!l||!c||l.bottom>c.top)return;let h=this.domAtPos(t.head+t.assoc);i.collapse(h.node,h.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=t.from&&i.collapse(r,s)}moveToLine(e){let t=this.dom,i;if(e.node!=t)return e;for(let r=e.offset;!i&&r<t.childNodes.length;r++){let s=Et.get(t.childNodes[r]);s instanceof en&&(i=s.domAtPos(0))}for(let r=e.offset-1;!i&&r>=0;r--){let s=Et.get(t.childNodes[r]);s instanceof en&&(i=s.domAtPos(s.length))}return i?new An(i.node,i.offset,!0):e}nearest(e){for(let t=e;t;){let i=Et.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(i<r.length||r instanceof en)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,r=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!i||a instanceof en&&!(i instanceof en&&t>=0)))i=a,r=c;else if(i&&c==e&&l==e&&a instanceof qr&&Math.abs(t)<2){if(a.deco.startSide<0)break;o&&(i=null)}s=c}return i?i.coordsAt(e-r,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),r=this.children[t];if(!(r instanceof en))return null;for(;r.children.length;){let{i:a,off:l}=r.childPos(i,1);for(;;a++){if(a==r.children.length)return null;if((r=r.children[a]).length)break}i=l}if(!(r instanceof Li))return null;let s=wn(r.text,i);if(s==i)return null;let o=uo(r.dom,i,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==It.LTR;for(let c=0,h=0;h<this.children.length;h++){let f=this.children[h],u=c+f.length;if(u>r)break;if(c>=i){let d=f.dom.getBoundingClientRect();if(t.push(d.height),o){let g=f.dom.lastChild,m=g?Al(g):[];if(m.length){let O=m[m.length-1],b=l?O.right-d.left:d.right-O.left;b>a&&(a=b,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=u)}}}c=u+f.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?It.RTL:It.LTR}measureTextSize(){for(let s of this.children)if(s instanceof en){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,i,r;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Al(e.firstChild)[0];t=e.getBoundingClientRect().height,i=s?s.width/27:7,r=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:r}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new W1(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let s=r==t.viewports.length?null:t.viewports[r],o=s?s.from-1:this.length;if(o>i){let a=(t.lineBlockAt(o).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(Ee.replace({widget:new zd(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return Ee.set(e)}updateDeco(){let e=1,t=this.view.state.facet(El).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),i=!1,r=this.view.state.facet(yv).map((s,o)=>{let a=typeof s=="function";return a&&(i=!0),a?s(this.view):s});for(r.length&&(this.dynamicDecorationMap[e++]=i,t.push(dt.join(r))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(gv))try{if(c(this.view,e.range,e))return!0}catch(h){Hn(this.view.state,h,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let s=Qg(this.view),o={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;ZA(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==It.LTR)}}function eE(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function xv(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let i=V1(t.focusNode,t.focusOffset),r=z1(t.focusNode,t.focusOffset),s=i||r;if(r&&i&&r.node!=i.node){let a=Et.get(r.node);if(!a||a instanceof Li&&a.text!=r.node.nodeValue)s=r;else if(n.docView.lastCompositionAfterCursor){let l=Et.get(i.node);!l||l instanceof Li&&l.text!=i.node.nodeValue||(s=r)}}if(n.docView.lastCompositionAfterCursor=s!=i,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function tE(n,e,t){let i=xv(n,t);if(!i)return null;let{node:r,from:s,to:o}=i,a=r.nodeValue;if(/[\n\r]/.test(a)||n.state.doc.sliceString(i.from,i.to)!=a)return null;let l=e.invertedDesc,c=new Si(l.mapPos(s),l.mapPos(o),s,o),h=[];for(let f=r.parentNode;;f=f.parentNode){let u=Et.get(f);if(u instanceof Vr)h.push({node:f,deco:u.mark});else{if(u instanceof en||f.nodeName=="DIV"&&f.parentNode==n.contentDOM)return{range:c,text:r,marks:h,line:f};if(f!=n.contentDOM)h.push({node:f,deco:new Kl({inclusive:!0,attributes:NA(f),tagName:f.tagName.toLowerCase()})});else return null}}}function nE(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let iE=class{constructor(){this.changes=[]}compareRange(e,t){ch(e,t,this.changes)}comparePoint(e,t){ch(e,t,this.changes)}boundChange(e){ch(e,e,this.changes)}};function rE(n,e,t){let i=new iE;return dt.compare(n,e,t,i),i.changes}function sE(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function oE(n,e){let t=!1;return e&&n.iterChangedRanges((i,r)=>{i<e.to&&r>e.from&&(t=!0)}),t}function aE(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),s=e-r.from;if(r.length==0)return Y.cursor(e);s==0?t=1:s==r.length&&(t=-1);let o=s,a=s;t<0?o=wn(r.text,s,!1):a=wn(r.text,s);let l=i(r.text.slice(o,a));for(;o>0;){let c=wn(r.text,o,!1);if(i(r.text.slice(c,o))!=l)break;o=c}for(;a<r.length;){let c=wn(r.text,a);if(i(r.text.slice(a,c))!=l)break;a=c}return Y.range(o+r.from,a+r.from)}function lE(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function cE(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function Su(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function Sm(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function km(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function Hd(n,e,t){let i,r,s,o,a=!1,l,c,h,f;for(let g=n.firstChild;g;g=g.nextSibling){let m=Al(g);for(let O=0;O<m.length;O++){let b=m[O];r&&Su(r,b)&&(b=Sm(km(b,r.bottom),r.top));let $=lE(e,b),Q=cE(t,b);if($==0&&Q==0)return g.nodeType==3?$m(g,e,t):Hd(g,e,t);if(!i||o>Q||o==Q&&s>$){i=g,r=b,s=$,o=Q;let P=Q?t<b.top?-1:1:$?e<b.left?-1:1:0;a=!P||(P>0?O<m.length-1:O>0)}$==0?t>b.bottom&&(!h||h.bottom<b.bottom)?(l=g,h=b):t<b.top&&(!f||f.top>b.top)&&(c=g,f=b):h&&Su(h,b)?h=km(h,b.bottom):f&&Su(f,b)&&(f=Sm(f,b.top))}}if(h&&h.bottom>=t?(i=l,r=h):f&&f.top<=t&&(i=c,r=f),!i)return{node:n,offset:0};let u=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return $m(i,u,t);if(a&&i.contentEditable!="false")return Hd(i,u,t);let d=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:n,offset:d}}function $m(n,e,t){let i=n.nodeValue.length,r=-1,s=1e9,o=0;for(let a=0;a<i;a++){let l=uo(n,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let h=l[c];if(h.top==h.bottom)continue;o||(o=e-h.left);let f=(h.top>t?h.top-t:t-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&f<s){let u=e>=(h.left+h.right)/2,d=u;if((ue.chrome||ue.gecko)&&uo(n,a).getBoundingClientRect().left==h.right&&(d=!u),f<=0)return{node:n,offset:a+(d?1:0)};r=a+(d?1:0),s=f}}}return{node:n,offset:r>-1?r:o>0?n.nodeValue.length:0}}function wv(n,e,t,i=-1){var r,s;let o=n.contentDOM.getBoundingClientRect(),a=o.top+n.viewState.paddingTop,l,{docHeight:c}=n.viewState,{x:h,y:f}=e,u=f-a;if(u<0)return 0;if(u>c)return n.state.doc.length;for(let P=n.viewState.heightOracle.textHeight/2,k=!1;l=n.elementAtHeight(u),l.type!=Nn.Text;)for(;u=i>0?l.bottom+P:l.top-P,!(u>=0&&u<=c);){if(k)return t?null:0;k=!0,i=-i}f=a+u;let d=l.from;if(d<n.viewport.from)return n.viewport.from==0?0:t?null:Qm(n,o,l,h,f);if(d>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:Qm(n,o,l,h,f);let g=n.dom.ownerDocument,m=n.root.elementFromPoint?n.root:g,O=m.elementFromPoint(h,f);O&&!n.contentDOM.contains(O)&&(O=null),O||(h=Math.max(o.left+1,Math.min(o.right-1,h)),O=m.elementFromPoint(h,f),O&&!n.contentDOM.contains(O)&&(O=null));let b,$=-1;if(O&&((r=n.docView.nearest(O))===null||r===void 0?void 0:r.isEditable)!=!1){if(g.caretPositionFromPoint){let P=g.caretPositionFromPoint(h,f);P&&({offsetNode:b,offset:$}=P)}else if(g.caretRangeFromPoint){let P=g.caretRangeFromPoint(h,f);P&&({startContainer:b,startOffset:$}=P,(!n.contentDOM.contains(b)||ue.safari&&hE(b,$,h)||ue.chrome&&fE(b,$,h))&&(b=void 0))}b&&($=Math.min(ur(b),$))}if(!b||!n.docView.dom.contains(b)){let P=en.find(n.docView,d);if(!P)return u>l.top+l.height/2?l.to:l.from;({node:b,offset:$}=Hd(P.dom,h,f))}let Q=n.docView.nearest(b);if(!Q)return null;if(Q.isWidget&&((s=Q.dom)===null||s===void 0?void 0:s.nodeType)==1){let P=Q.dom.getBoundingClientRect();return e.y<P.top||e.y<=P.bottom&&e.x<=(P.left+P.right)/2?Q.posAtStart:Q.posAtEnd}else return Q.localPosFromDOM(b,$)+Q.posAtStart}function Qm(n,e,t,i,r){let s=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let a=n.viewState.heightOracle.textHeight,l=Math.floor((r-t.top-(n.defaultLineHeight-a)*.5)/a);s+=l*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+jd(o,s,n.state.tabSize)}function hE(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return uo(n,i-1,i).getBoundingClientRect().left>t}function fE(n,e,t){if(e!=0)return!1;for(let r=n;;){let s=r.parentNode;if(!s||s.nodeType!=1||s.firstChild!=r)return!1;if(s.classList.contains("cm-line"))break;r=s}let i=n.nodeType==1?n.getBoundingClientRect():uo(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function Kd(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==Nn.Text))return i}return t}function uE(n,e,t,i){let r=Kd(n,e.head),s=!i||r.type!=Nn.Text||!(n.lineWrapping||r.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let o=n.dom.getBoundingClientRect(),a=n.textDirectionAt(r.from),l=n.posAtCoords({x:t==(a==It.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return Y.cursor(l,t?-1:1)}return Y.cursor(t?r.to:r.from,t?-1:1)}function Pm(n,e,t,i){let r=n.state.doc.lineAt(e.head),s=n.bidiSpans(r),o=n.textDirectionAt(r.from);for(let a=e,l=null;;){let c=HA(r,s,o,a,t),h=ov;if(!c){if(r.number==(t?n.state.doc.lines:1))return a;h=`
`,r=n.state.doc.line(r.number+(t?1:-1)),s=n.bidiSpans(r),c=n.visualLineSide(r,!t)}if(l){if(!l(h))return a}else{if(!i)return c;l=i(h)}a=c}}function dE(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return s=>{let o=i(s);return r==Lt.Space&&(r=o),r==o}}function pE(n,e,t,i){let r=e.head,s=t?1:-1;if(r==(t?n.state.doc.length:0))return Y.cursor(r,e.assoc);let o=e.goalColumn,a,l=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(r,e.assoc||-1),h=n.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let d=n.viewState.lineBlockAt(r);o==null&&(o=Math.min(l.right-l.left,n.defaultCharacterWidth*(r-d.from))),a=(s<0?d.top:d.bottom)+h}let f=l.left+o,u=i??n.viewState.heightOracle.textHeight>>1;for(let d=0;;d+=10){let g=a+(u+d)*s,m=wv(n,{x:f,y:g},!1,s);if(g<l.top||g>l.bottom||(s<0?m<r:m>r)){let O=n.docView.coordsForChar(m),b=!O||g<O.top?-1:1;return Y.cursor(m,b,void 0,o)}}}function hh(n,e,t){for(;;){let i=0;for(let r of n)r.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=i||t||(e-s<o-e?-1:1);e=l<0?s:o,i=l}});if(!i)return e}}function ku(n,e,t){let i=hh(n.state.facet($g).map(r=>r(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:Y.cursor(i,i<t.from?1:-1)}const nl="";class gE{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(gt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=nl}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r);let s=this.text.length;this.readNode(r);let o=r.nextSibling;if(o==t)break;let a=Et.get(r),l=Et.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:Lh(r))||Lh(o)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>s)&&this.lineBreak(),r=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(a=r.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let t=Et.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(OE(e,i.node,i.offset)?t:0))}}function OE(n,e,t){for(;;){if(!e||t<ur(e))return!1;if(e==n)return!0;t=fo(e)+1,e=e.parentNode}}class _m{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class mE{constructor(e,t,i,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let a=s||o?[]:vE(e),l=new gE(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=xE(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!Ld(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!Ld(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),h=e.viewport;if((ue.ios||ue.chrome)&&e.state.selection.main.empty&&l!=c&&(h.from>0||h.to<e.state.doc.length)){let f=Math.min(l,c),u=Math.max(l,c),d=h.from-f,g=h.to-u;(d==0||d==1||f==0)&&(g==0||g==-1||u==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=Y.single(c,l)}}}function Sv(n,e){let t,{newSel:i}=e,r=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=r.from,c=null;(s===8||ue.android&&e.text.length<a-o)&&(l=r.to,c="end");let h=bE(n.state.doc.sliceString(o,a,nl),e.text,l-o,c);h&&(ue.chrome&&s==13&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==nl+nl&&h.toB--,t={from:o+h.from,to:o+h.toA,insert:mt.of(e.text.slice(h.from,h.toB).split(nl))})}else i&&(!n.hasFocus&&n.state.facet(Mr)||i.main.eq(r))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!r.empty&&i&&i.main.empty?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,r.to)}:(ue.mac||ue.android)&&t&&t.from==t.to&&t.from==r.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=Y.single(i.main.anchor-1,i.main.head-1)),t={from:t.from,to:t.to,insert:mt.of([t.insert.toString().replace("."," ")])}):t&&t.from>=r.from&&t.to<=r.to&&(t.from!=r.from||t.to!=r.to)&&r.to-r.from-(t.to-t.from)<=4?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,r.to))}:ue.chrome&&t&&t.from==t.to&&t.from==r.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=Y.single(i.main.anchor-1,i.main.head-1)),t={from:r.from,to:r.to,insert:mt.of([" "])}),t)return Pg(n,t,i,s);if(i&&!i.main.eq(r)){let o=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(o=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:i,scrollIntoView:o,userEvent:a}),!0}else return!1}function Pg(n,e,t,i=-1){if(ue.ios&&n.inputState.flushIOSKey(e))return!0;let r=n.state.selection.main;if(ue.android&&(e.to==r.to&&(e.from==r.from||e.from==r.from-1&&n.state.sliceDoc(e.from,r.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Ko(n.contentDOM,"Enter",13)||(e.from==r.from-1&&e.to==r.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>r.head)&&Ko(n.contentDOM,"Backspace",8)||e.from==r.from&&e.to==r.to+1&&e.insert.length==0&&Ko(n.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let o,a=()=>o||(o=yE(n,e,t));return n.state.facet(fv).some(l=>l(n,e.from,e.to,s,a))||n.dispatch(a()),!0}function yE(n,e,t){let i,r=n.state,s=r.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let a=s.from<e.from?r.sliceDoc(s.from,e.from):"",l=s.to>e.to?r.sliceDoc(e.to,s.to):"";i=r.replaceSelection(n.state.toText(a+e.insert.sliceString(0,void 0,n.state.lineBreak)+l))}else{let a=r.changes(e),l=t&&t.main.to<=a.newLength?t.main:void 0;if(r.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=n.state.sliceDoc(e.from,e.to),h,f=t&&xv(n,t.main.head);if(f){let g=e.insert.length-(e.to-e.from);h={from:f.from,to:f.to-g}}else h=n.state.doc.lineAt(s.head);let u=s.to-e.to,d=s.to-s.from;i=r.changeByRange(g=>{if(g.from==s.from&&g.to==s.to)return{changes:a,range:l||g.map(a)};let m=g.to-u,O=m-c.length;if(g.to-g.from!=d||n.state.sliceDoc(O,m)!=c||g.to>=h.from&&g.from<=h.to)return{range:g};let b=r.changes({from:O,to:m,insert:e.insert}),$=g.to-s.to;return{changes:b,range:l?Y.range(Math.max(0,l.anchor+$),Math.max(0,l.head+$)):g.map(b)}})}else i={changes:a,selection:l&&r.selection.replaceRange(l)}}let o="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,o+=".compose",n.inputState.compositionFirstChange&&(o+=".start",n.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:o,scrollIntoView:!0})}function bE(n,e,t,i){let r=Math.min(n.length,e.length),s=0;for(;s<r&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&n.length==e.length)return null;let o=n.length,a=e.length;for(;o>0&&a>0&&n.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(i=="end"){let l=Math.max(0,s-Math.min(o,a));t-=o+l-s}if(o<s&&n.length<e.length){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function vE(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new _m(t,i)),(r!=t||s!=i)&&e.push(new _m(r,s))),e}function xE(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?Y.single(t+e,i+e):null}class wE{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ue.safari&&e.contentDOM.addEventListener("input",()=>null),ue.gecko&&BE(e.contentDOM.ownerDocument)}handleEvent(e){!EE(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){let i=this.handlers[e];if(i){for(let r of i.observers)r(this.view,t);for(let r of i.handlers){if(t.defaultPrevented)break;if(r(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=SE(e),i=this.handlers,r=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,a=i[s];a&&o!=!a.handlers.length&&(r.removeEventListener(s,this.handleEvent),a=null),a||r.addEventListener(s,this.handleEvent,{passive:o})}for(let s in i)s!="scroll"&&!t[s]&&r.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&$v.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ue.android&&ue.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return ue.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=kv.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||kE.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Ko(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ue.safari&&!ue.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Am(n,e){return(t,i)=>{try{return e.call(n,i,t)}catch(r){Hn(t.state,r)}}}function SE(n){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of n){let r=i.spec;if(r&&r.domEventHandlers)for(let s in r.domEventHandlers){let o=r.domEventHandlers[s];o&&t(s).handlers.push(Am(i.value,o))}if(r&&r.domEventObservers)for(let s in r.domEventObservers){let o=r.domEventObservers[s];o&&t(s).observers.push(Am(i.value,o))}}for(let i in qi)t(i).handlers.push(qi[i]);for(let i in $i)t(i).observers.push($i[i]);return e}const kv=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],kE="dthko",$v=[16,17,18,20,91,92,224,225],Ac=6;function Ec(n){return Math.max(0,n)*.7+8}function $E(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class QE{constructor(e,t,i,r){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=RA(e.contentDOM),this.atoms=e.state.facet($g).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(gt.allowMultipleSelections)&&PE(e,t),this.dragging=AE(e,t)&&_v(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&$E(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,i=0,r=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:r,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=Qg(this.view);e.clientX-l.left<=r+Ac?t=-Ec(r-e.clientX):e.clientX+l.right>=o-Ac&&(t=Ec(e.clientX-o)),e.clientY-l.top<=s+Ac?i=-Ec(s-e.clientY):e.clientY+l.bottom>=a-Ac&&(i=Ec(e.clientY-a)),this.setScrollSpeed(t,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let r=e.ranges[i],s=null;if(r.empty){let o=hh(this.atoms,r.from,0);o!=r.from&&(s=Y.cursor(o,-1))}else{let o=hh(this.atoms,r.from,-1),a=hh(this.atoms,r.to,1);(o!=r.from||a!=r.to)&&(s=Y.range(r.from==r.anchor?o:a,r.from==r.head?o:a))}s&&(t||(t=e.ranges.slice()),t[i]=s)}return t?Y.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function PE(n,e){let t=n.state.facet(av);return t.length?t[0](e):ue.mac?e.metaKey:e.ctrlKey}function _E(n,e){let t=n.state.facet(lv);return t.length?t[0](e):ue.mac?!e.altKey:!e.ctrlKey}function AE(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=_l(n.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let o=r[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function EE(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=Et.get(t))&&i.ignoreEvent(e))return!1;return!0}const qi=Object.create(null),$i=Object.create(null),Qv=ue.ie&&ue.ie_version<15||ue.ios&&ue.webkit_version<604;function TE(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),Pv(n,t.value)},50)}function Zf(n,e,t){for(let i of n.facet(e))t=i(t,n);return t}function Pv(n,e){e=Zf(n.state,wg,e);let{state:t}=n,i,r=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(Jd!=null&&t.selection.ranges.every(l=>l.empty)&&Jd==s.toString()){let l=-1;i=t.changeByRange(c=>{let h=t.doc.lineAt(c.from);if(h.from==l)return{range:c};l=h.from;let f=t.toText((o?s.line(r++).text:e)+t.lineBreak);return{changes:{from:h.from,insert:f},range:Y.cursor(c.from+f.length)}})}else o?i=t.changeByRange(l=>{let c=s.line(r++);return{changes:{from:l.from,to:l.to,insert:c.text},range:Y.cursor(l.from+c.length)}}):i=t.replaceSelection(s);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}$i.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};qi.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);$i.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};$i.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};qi.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of n.state.facet(cv))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=ZE(n,e)),t){let i=!n.hasFocus;n.inputState.startMouseSelection(new QE(n,e,t,i)),i&&n.observer.ignore(()=>{N1(n.contentDOM);let s=n.root.activeElement;s&&!s.contains(n.contentDOM)&&s.blur()});let r=n.inputState.mouseSelection;if(r)return r.start(e),r.dragging===!1}return!1};function Em(n,e,t,i){if(i==1)return Y.cursor(e,t);if(i==2)return aE(n.state,e,t);{let r=en.find(n.docView,e),s=n.state.doc.lineAt(r?r.posAtEnd:e),o=r?r.posAtStart:s.from,a=r?r.posAtEnd:s.to;return a<n.state.doc.length&&a==s.to&&a++,Y.range(o,a)}}let Tm=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function CE(n,e,t,i){let r=en.find(n.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(s==0)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&Tm(t,i,o))return-1;let a=r.coordsAt(s,1);return a&&Tm(t,i,a)?1:o&&o.bottom>=i?-1:1}function Cm(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:CE(n,t,e.clientX,e.clientY)}}const ME=ue.ie&&ue.ie_version<=11;let Mm=null,Zm=0,Rm=0;function _v(n){if(!ME)return n.detail;let e=Mm,t=Rm;return Mm=n,Rm=Date.now(),Zm=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(Zm+1)%3:1}function ZE(n,e){let t=Cm(n,e),i=_v(e),r=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),r=r.map(s.changes))},get(s,o,a){let l=Cm(n,s),c,h=Em(n,l.pos,l.bias,i);if(t.pos!=l.pos&&!o){let f=Em(n,t.pos,t.bias,i),u=Math.min(f.from,h.from),d=Math.max(f.to,h.to);h=u<h.from?Y.range(u,d):Y.range(d,u)}return o?r.replaceRange(r.main.extend(h.from,h.to)):a&&i==1&&r.ranges.length>1&&(c=RE(r,l.pos))?c:a?r.addRange(h):Y.create([h])}}}function RE(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:r}=n.ranges[t];if(i<=e&&r>=e)return Y.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}qi.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let r=n.docView.nearest(e.target);if(r&&r.isWidget){let s=r.posAtStart,o=s+r.length;(s>=t.to||o<=t.from)&&(t=Y.range(s,o))}}let{inputState:i}=n;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Zf(n.state,Sg,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};qi.dragend=n=>(n.inputState.draggedContent=null,!1);function Im(n,e,t,i){if(t=Zf(n.state,wg,t),!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=n.inputState,o=i&&s&&_E(n,e)?{from:s.from,to:s.to}:null,a={from:r,insert:t},l=n.state.changes(o?[o,a]:a);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"}),n.inputState.draggedContent=null}qi.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),r=0,s=()=>{++r==t.length&&Im(n,e,i.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[o]=a.result),s()},a.readAsText(t[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return Im(n,e,i,!0),!0}return!1};qi.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=Qv?null:e.clipboardData;return t?(Pv(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(TE(n),!1)};function IE(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function jE(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:s}of n.selection.ranges){let o=n.doc.lineAt(s);o.number>r&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),r=o.number}i=!0}return{text:Zf(n,Sg,e.join(n.lineBreak)),ranges:t,linewise:i}}let Jd=null;qi.copy=qi.cut=(n,e)=>{let{text:t,ranges:i,linewise:r}=jE(n.state);if(!t&&!r)return!1;Jd=r?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=Qv?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(IE(n,t),!1)};const Av=Gr.define();function Ev(n,e){let t=[];for(let i of n.facet(uv)){let r=i(n,e);r&&t.push(r)}return t?n.update({effects:t,annotations:Av.of(!0)}):null}function Tv(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=Ev(n.state,e);t?n.dispatch(t):n.update([])}},10)}$i.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),Tv(n)};$i.blur=n=>{n.observer.clearSelectionRange(),Tv(n)};$i.compositionstart=$i.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};$i.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,ue.chrome&&ue.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};$i.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};qi.beforeinput=(n,e)=>{var t,i;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=n.posAtDOM(a.startContainer,a.startOffset),c=n.posAtDOM(a.endContainer,a.endOffset);return Pg(n,{from:l,to:c,insert:n.state.toText(s)},null),!0}}let r;if(ue.chrome&&ue.android&&(r=kv.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let s=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return ue.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),ue.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>$i.compositionend(n,e),20),!1};const jm=new Set;function BE(n){jm.has(n)||(jm.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const Bm=["pre-wrap","normal","pre-line","break-spaces"];let Oa=!1;function Dm(){Oa=!1}class DE{constructor(e){this.lineWrapping=e,this.doc=mt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Bm.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,s,o){let a=Bm.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=i,this.textHeight=r,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let h=o[c];h<0?c++:this.heightSamples[Math.floor(h*10)]=!0}}return l}}class LE{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class tr{constructor(e,t,i,r,s){this.from=e,this.length=t,this.top=i,this.height=r,this._content=s}get type(){return typeof this._content=="number"?Nn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Qs?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new tr(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Zt=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Zt||(Zt={}));const fh=.001;class Un{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>fh&&(Oa=!0),this.height=e)}replace(e,t,i){return Un.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let s=this,o=i.doc;for(let a=r.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:h,toB:f}=r[a],u=s.lineAt(l,Zt.ByPosNoHeight,i.setDoc(t),0,0),d=u.to>=c?u:s.lineAt(c,Zt.ByPosNoHeight,i,0,0);for(f+=d.to-c,c=d.to;a>0&&u.from<=r[a-1].toA;)l=r[a-1].fromA,h=r[a-1].fromB,a--,l<u.from&&(u=s.lineAt(l,Zt.ByPosNoHeight,i,0,0));h+=u.from-l,l=u.from;let g=_g.build(i.setDoc(o),e,h,f);s=Uh(s,s.replace(l,c,g))}return s.updateHeight(i,0)}static empty(){return new ai(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,s=0;for(;;)if(t==i)if(r>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),i+=1+a.break,r-=a.size}else if(s>r*2){let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,s-=a.size}else break;else if(r<s){let a=e[t++];a&&(r+=a.size)}else{let a=e[--i];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,i++),new qE(Un.of(e.slice(0,t)),o,Un.of(e.slice(i)))}}function Uh(n,e){return n==e?n:(n.constructor!=e.constructor&&(Oa=!0),e)}Un.prototype.size=1;class Cv extends Un{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,r){return new tr(r,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,r,s){return this.blockAt(0,i,r,s)}forEachLine(e,t,i,r,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,i,r,s))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ai extends Cv{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,r){return new tr(r,this.length,i,this.height,this.breaks)}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof ai||r instanceof bn&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof bn?r=new ai(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Un.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(r.heights[r.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class bn extends Un{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,r=e.doc.lineAt(t+this.length).number,s=r-i+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:i,lastLine:r,perLine:o,perChar:a}}blockAt(e,t,i,r){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,r);if(t.lineWrapping){let c=r+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),h=t.doc.lineAt(c),f=a+h.length*l,u=Math.max(i,e-f/2);return new tr(h.from,h.length,u,f,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-i)/a))),{from:h,length:f}=t.doc.line(s+c);return new tr(h,f,i+a*c,a,0)}}lineAt(e,t,i,r,s){if(t==Zt.ByHeight)return this.blockAt(e,i,r,s);if(t==Zt.ByPosNoHeight){let{from:d,to:g}=i.doc.lineAt(e);return new tr(d,g-d,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(i,s),c=i.doc.lineAt(e),h=a+c.length*l,f=c.number-o,u=r+a*f+l*(c.from-s-f);return new tr(c.from,c.length,Math.max(r,Math.min(u,r+this.height-h)),h,0)}forEachLine(e,t,i,r,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(i,s);for(let h=e,f=r;h<=t;){let u=i.doc.lineAt(h);if(h==e){let g=u.number-a;f+=l*g+c*(e-s-g)}let d=l+c*u.length;o(new tr(u.from,u.length,f,d,0)),f+=d,h=u.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let s=i[i.length-1];s instanceof bn?i[i.length-1]=new bn(s.length+r):i.push(null,new bn(r-1))}if(e>0){let s=i[0];s instanceof bn?i[0]=new bn(e+s.length):i.unshift(new bn(e-1),null)}return Un.of(i)}decomposeLeft(e,t){t.push(new bn(e-1),null)}decomposeRight(e,t){t.push(null,new bn(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let s=t+this.length;if(r&&r.from<=t+this.length&&r.more){let o=[],a=Math.max(t,r.from),l=-1;for(r.from>t&&o.push(new bn(r.from-t-1).updateHeight(e,t));a<=s&&r.more;){let h=e.doc.lineAt(a).length;o.length&&o.push(null);let f=r.heights[r.index++];l==-1?l=f:Math.abs(f-l)>=fh&&(l=-2);let u=new ai(h,f);u.outdated=!1,o.push(u),a+=h+1}a<=s&&o.push(null,new bn(s-a).updateHeight(e,a));let c=Un.of(o);return(l<0||Math.abs(c.height-this.height)>=fh||Math.abs(l-this.heightMetrics(e,t).perLine)>=fh)&&(Oa=!0),Uh(this,c)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class qE extends Un{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,s,r+this.left.length+this.break)}lineAt(e,t,i,r,s){let o=r+this.left.height,a=s+this.left.length+this.break,l=t==Zt.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,t,i,r,s):this.right.lineAt(e,t,i,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let h=t==Zt.ByPosNoHeight?Zt.ByPosNoHeight:Zt.ByPos;return l?c.join(this.right.lineAt(a,h,i,o,a)):this.left.lineAt(a,h,i,r,s).join(c)}forEachLine(e,t,i,r,s,o){let a=r+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,i,r,s,o),t>=l&&this.right.forEachLine(e,t,i,a,l,o);else{let c=this.lineAt(l,Zt.ByPos,i,r,s);e<c.from&&this.left.forEachLine(e,c.from-1,i,r,s,o),c.to>=e&&c.from<=t&&o(c),t>c.to&&this.right.forEachLine(c.to+1,t,i,a,l,o)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of i)s.push(a);if(e>0&&Lm(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),Lm(s,a)}return Un.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Un.of(this.break?[e,null,t]:[e,t]):(this.left=Uh(this.left,e),this.right=Uh(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return r&&r.from<=t+s.length&&r.more?l=s=s.updateHeight(e,t,i,r):s.updateHeight(e,t,i),r&&r.from<=a+o.length&&r.more?l=o=o.updateHeight(e,a,i,r):o.updateHeight(e,a,i),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Lm(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof bn&&(i=n[e+1])instanceof bn&&n.splice(e-1,3,new bn(t.length+1+i.length))}const NE=5;class _g{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof ai?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new ai(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new Cv(o,r,i)):(o||s||r>=NE)&&this.addLineDeco(r,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ai(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new bn(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ai)return e;let t=new ai(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof ai)&&!this.isCovered?this.nodes.push(new ai(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof ai&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let s=new _g(i,e);return dt.spans(t,i,r,s,0),s.finish(i)}}function UE(n,e,t){let i=new XE;return dt.compare(n,e,t,i,0),i.changes}class XE{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&ch(e,t,this.changes,5)}}function VE(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,r=i.defaultView||window,s=Math.max(0,t.left),o=Math.min(r.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(r.innerHeight,t.bottom);for(let c=n.parentNode;c&&c!=i.body;)if(c.nodeType==1){let h=c,f=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&f.overflow!="visible"){let u=h.getBoundingClientRect();s=Math.max(s,u.left),o=Math.min(o,u.right),a=Math.max(a,u.top),l=Math.min(c==n.parentNode?r.innerHeight:l,u.bottom)}c=f.position=="absolute"||f.position=="fixed"?h.offsetParent:h.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function zE(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function WE(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class $u{constructor(e,t,i,r){this.from=e,this.to=t,this.size=i,this.displaySize=r}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e,t){return Ee.replace({widget:new YE(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class YE extends Fr{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class qm{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Nm,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=It.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(kg).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new DE(t),this.stateDeco=e.facet(El).filter(i=>typeof i!="function"),this.heightMap=Un.empty().applyChanges(this.stateDeco,mt.empty,this.heightOracle.setDoc(e.doc),[new Si(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ee.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:s,to:o})=>r>=s&&r<=o)){let{from:s,to:o}=this.lineBlockAt(r);e.push(new Tc(s,o))}}return this.viewports=e.sort((i,r)=>i.from-r.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Nm:new Ag(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(il(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(El).filter(h=>typeof h!="function");let r=e.changedRanges,s=Si.extendWithRanges(r,UE(i,this.stateDeco,e?e.changes:hn.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Dm(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||Oa)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(pv)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?It.RTL:It.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,h=0;if(a.width&&a.height){let{scaleX:P,scaleY:k}=q1(t,a);(P>.005&&Math.abs(this.scaleX-P)>.005||k>.005&&Math.abs(this.scaleY-k)>.005)&&(this.scaleX=P,this.scaleY=k,c|=16,o=l=!0)}let f=(parseInt(i.paddingTop)||0)*this.scaleY,u=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=u)&&(this.paddingTop=f,this.paddingBottom=u,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let d=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=X1(e.scrollDOM);let g=(this.printing?WE:VE)(t,this.paddingTop),m=g.top-this.pixelViewport.top,O=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let b=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(b!=this.inView&&(this.inView=b,b&&(l=!0)),!this.inView&&!this.scrollTarget&&!zE(e.dom))return 0;let $=a.width;if((this.contentDOMWidth!=$||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let P=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(P)&&(o=!0),o||r.lineWrapping&&Math.abs($-this.contentDOMWidth)>r.charWidth){let{lineHeight:k,charWidth:A,textHeight:E}=e.docView.measureTextSize();o=k>0&&r.refresh(s,k,A,E,$/A,P),o&&(e.docView.minWidth=0,c|=16)}m>0&&O>0?h=Math.max(m,O):m<0&&O<0&&(h=Math.min(m,O)),Dm();for(let k of this.viewports){let A=k.from==this.viewport.from?P:e.docView.measureVisibleLineHeights(k);this.heightMap=(o?Un.empty().applyChanges(this.stateDeco,mt.empty,this.heightOracle,[new Si(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new LE(k.from,A))}Oa&&(c|=2)}let Q=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return Q&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),c|=this.updateForViewport()),(c&2||Q)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new Tc(r.lineAt(o-i*1e3,Zt.ByHeight,s,0,0).from,r.lineAt(a+(1-i)*1e3,Zt.ByHeight,s,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=r.lineAt(c,Zt.ByPos,s,0,0),u;t.y=="center"?u=(f.top+f.bottom)/2-h/2:t.y=="start"||t.y=="nearest"&&c<l.from?u=f.top:u=f.bottom-h,l=new Tc(r.lineAt(u-1e3/2,Zt.ByHeight,s,0,0).from,r.lineAt(u+h+1e3/2,Zt.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new Tc(this.heightMap.lineAt(i,Zt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Zt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Zt.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Zt.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||r<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(i,250)))&&r>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new $u(t.mapPos(r.from),t.mapPos(r.to),r.size,r.displaySize));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,s=r>>1,o=r<<1;if(this.defaultTextDirection!=It.LTR&&!i)return[];let a=[],l=(h,f,u,d)=>{if(f-h<s)return;let g=this.state.selection.main,m=[g.from];g.empty||m.push(g.to);for(let b of m)if(b>h&&b<f){l(h,b-10,u,d),l(b+10,f,u,d);return}let O=FE(e,b=>b.from>=u.from&&b.to<=u.to&&Math.abs(b.from-h)<s&&Math.abs(b.to-f)<s&&!m.some($=>b.from<$&&b.to>$));if(!O){if(f<u.to&&t&&i&&t.visibleRanges.some(Q=>Q.from<=f&&Q.to>=f)){let Q=t.moveToLineBoundary(Y.cursor(f),!1,!0).head;Q>h&&(f=Q)}let b=this.gapSize(u,h,f,d),$=i||b<2e6?b:2e6;O=new $u(h,f,b,$)}a.push(O)},c=h=>{if(h.length<o||h.type!=Nn.Text)return;let f=GE(h.from,h.to,this.stateDeco);if(f.total<o)return;let u=this.scrollTarget?this.scrollTarget.range.head:null,d,g;if(i){let m=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,O,b;if(u!=null){let $=Mc(f,u),Q=((this.visibleBottom-this.visibleTop)/2+m)/h.height;O=$-Q,b=$+Q}else O=(this.visibleTop-h.top-m)/h.height,b=(this.visibleBottom-h.top+m)/h.height;d=Cc(f,O),g=Cc(f,b)}else{let m=f.total*this.heightOracle.charWidth,O=r*this.heightOracle.charWidth,b=0;if(m>2e6)for(let A of e)A.from>=h.from&&A.from<h.to&&A.size!=A.displaySize&&A.from*this.heightOracle.charWidth+b<this.pixelViewport.left&&(b=A.size-A.displaySize);let $=this.pixelViewport.left+b,Q=this.pixelViewport.right+b,P,k;if(u!=null){let A=Mc(f,u),E=((Q-$)/2+O)/m;P=A-E,k=A+E}else P=($-O)/m,k=(Q+O)/m;d=Cc(f,P),g=Cc(f,k)}d>h.from&&l(h.from,d,h,f),g<h.to&&l(g,h.to,h,f)};for(let h of this.viewportLines)Array.isArray(h.type)?h.type.forEach(c):c(h);return a}gapSize(e,t,i,r){let s=Mc(r,i)-Mc(r,t);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){$u.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ee.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];dt.spans(t,this.viewport.from,this.viewport.to,{span(s,o){i.push({from:s,to:o})},point(){}},20);let r=0;if(i.length!=this.visibleRanges.length)r=12;else for(let s=0;s<i.length&&!(r&8);s++){let o=this.visibleRanges[s],a=i[s];(o.from!=a.from||o.to!=a.to)&&(r|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(r|=8))}return this.visibleRanges=i,r}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||il(this.heightMap.lineAt(e,Zt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||il(this.heightMap.lineAt(this.scaler.fromDOM(e),Zt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return il(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Tc{constructor(e,t){this.from=e,this.to=t}}function GE(n,e,t){let i=[],r=n,s=0;return dt.spans(t,n,e,{span(){},point(o,a){o>r&&(i.push({from:r,to:o}),s+=o-r),r=a}},20),r<e&&(i.push({from:r,to:e}),s+=e-r),{total:s,ranges:i}}function Cc({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:s,to:o}=e[r],a=o-s;if(i<=a)return s+i;i-=a}}function Mc(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function FE(n,e){for(let t of n)if(e(t))return t}const Nm={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class Ag{constructor(e,t,i){let r=0,s=0,o=0;this.viewports=i.map(({from:a,to:l})=>{let c=t.lineAt(a,Zt.ByPos,e,0,0).top,h=t.lineAt(l,Zt.ByPos,e,0,0).bottom;return r+=h-c,{from:a,to:l,top:c,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return r+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,r=s.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,r=s.domBottom}}eq(e){return e instanceof Ag?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to):!1}}function il(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new tr(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(r=>il(r,e)):n._content)}const Zc=Oe.define({combine:n=>n.join(" ")}),ep=Oe.define({combine:n=>n.indexOf(!0)>-1}),tp=ks.newName(),Mv=ks.newName(),Zv=ks.newName(),Rv={"&light":"."+Mv,"&dark":"."+Zv};function np(n,e,t){return new ks(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const HE=np("."+tp,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Rv),KE={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Qu=ue.ie&&ue.ie_version<=11;class JE{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new IA,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(ue.ie&&ue.ie_version<=11||ue.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(ue.chrome&&ue.chrome_version<126)&&(this.editContext=new tT(e),e.state.facet(Mr)&&(e.contentDOM.editContext=this.editContext.editContext)),Qu&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(Mr)?i.root.activeElement!=this.dom:!lh(this.dom,r))return;let s=r.anchorNode&&i.docView.nearest(r.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(ue.ie&&ue.ie_version<=11||ue.android&&ue.chrome)&&!i.state.selection.main.empty&&r.focusNode&&Ol(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=_l(e.root);if(!t)return!1;let i=ue.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&eT(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let r=lh(this.dom,i);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&BA(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,KE),Qu&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Qu&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let r=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Ko(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(r=!0),t==-1?{from:t,to:i}=o:(t=Math.min(o.from,t),i=Math.max(o.to,i)))}return{from:t,to:i,typeOver:r}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),r=this.selectionChanged&&lh(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new mE(this.view,e,t,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,r=Sv(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let i=Um(t,e.previousSibling||e.target.previousSibling,-1),r=Um(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Mr)!=e.state.facet(Mr)&&(e.view.contentDOM.editContext=e.state.facet(Mr)?this.editContext.editContext:null))}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Um(n,e,t){for(;e;){let i=Et.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function Xm(n,e){let t=e.startContainer,i=e.startOffset,r=e.endContainer,s=e.endOffset,o=n.docView.domAtPos(n.state.selection.main.anchor);return Ol(o.node,o.offset,r,s)&&([t,i,r,s]=[r,s,t,i]),{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:s}}function eT(n,e){if(e.getComposedRanges){let r=e.getComposedRanges(n.root)[0];if(r)return Xm(n,r)}let t=null;function i(r){r.preventDefault(),r.stopImmediatePropagation(),t=r.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",i,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",i,!0),t?Xm(n,t):null}class tT{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let r=e.state.selection.main,{anchor:s,head:o}=r,a=this.toEditorPos(i.updateRangeStart),l=this.toEditorPos(i.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:a,drifted:!1});let c={from:a,to:l,insert:mt.of(i.text.split(`
`))};if(c.from==this.from&&s<this.from?c.from=s:c.to==this.to&&s>this.to&&(c.to=s),c.from==c.to&&!c.insert.length){let h=Y.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));h.main.eq(r)||e.dispatch({selection:h,userEvent:"select"});return}if((ue.mac||ue.android)&&c.from==o-1&&/^\. ?$/.test(i.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(c={from:a,to:l,insert:mt.of([i.text.replace("."," ")])}),this.pendingContextChange=c,!e.state.readOnly){let h=this.to-this.from+(c.to-c.from+c.insert.length);Pg(e,c,Y.single(this.toEditorPos(i.selectionStart,h),this.toEditorPos(i.selectionEnd,h)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=i=>{let r=[],s=null;for(let o=this.toEditorPos(i.rangeStart),a=this.toEditorPos(i.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,r.push(s)}t.updateCharacterBounds(i.rangeStart,r)},this.handlers.textformatupdate=i=>{let r=[];for(let s of i.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(o!="None"&&a!="None"){let l=this.toEditorPos(s.rangeStart),c=this.toEditorPos(s.rangeEnd);if(l<c){let h=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;r.push(Ee.mark({attributes:{style:h}}).range(l,c))}}}e.dispatch({effects:Ov.of(Ee.set(r))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(e.state)}};for(let i in this.handlers)t.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let r=_l(i.root);r&&r.rangeCount&&this.editContext.updateSelectionBounds(r.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,i=!1,r=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,c)=>{if(i)return;let h=c.length-(o-s);if(r&&o>=r.to)if(r.from==s&&r.to==o&&r.insert.eq(c)){r=this.pendingContextChange=null,t+=h,this.to+=h;return}else r=null,this.revertPending(e.state);if(s+=t,o+=t,o<=this.from)this.from+=h,this.to+=h;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+c.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),c.toString()),this.to+=h}t+=h}),r&&!i&&this.revertPending(e.state),!i}update(e){let t=this.pendingContextChange;this.composing&&(this.composing.drifted||e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),r=this.toContextPos(t.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=r)&&this.editContext.updateSelection(i,r)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let i=this.composing;return i&&i.drifted?i.editorBase+(e-i.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class de{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(r=>r.forEach(s=>i(s,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=e.root||jA(e.parent)||document,this.viewState=new qm(e.state||gt.create(e)),e.scrollTo&&e.scrollTo.is(_c)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(el).map(r=>new wu(r));for(let r of this.plugins)r.update(this);this.observer=new JE(this),this.inputState=new wE(this),this.inputState.ensureHandlers(this.plugins),this.docView=new wm(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof nn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,s=this.state;for(let u of e){if(u.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=u.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(u=>u.annotation(Av))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=Ev(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,h=null;if(c?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(h=null)):this.observer.clear(),s.facet(gt.phrases)!=this.state.facet(gt.phrases))return this.setState(s);r=Nh.create(this,s,e),r.flags|=a;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let u of e){if(f&&(f=f.map(u.changes)),u.scrollIntoView){let{main:d}=u.state.selection;f=new Jo(d.empty?d:Y.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of u.effects)d.is(_c)&&(f=d.value.clip(this.state))}this.viewState.update(r,f),this.bidiCache=Xh.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(tl)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(u=>u.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Zc)!=r.state.facet(Zc)&&(this.viewState.mustMeasureContent=!0),(t||i||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!r.empty)for(let u of this.state.facet(Fd))try{u(r)}catch(d){Hn(this.state,d,"update listener")}(l||h)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),h&&!Sv(this,h)&&c.force&&Ko(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new qm(e),this.plugins=e.facet(el).map(i=>new wu(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new wm(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(el),i=e.state.facet(el);if(t!=i){let r=[];for(let s of i){let o=t.indexOf(s);if(o<0)r.push(new wu(s));else{let a=this.plugins[o];a.mustUpdate=e,r.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){Hn(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(X1(i))s=-1,o=this.viewState.heightMap.height;else{let d=this.viewState.scrollAnchorAt(r);s=d.from,o=d.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let h=c.map(d=>{try{return d.read(this)}catch(g){return Hn(this.state,g),Vm}}),f=Nh.create(this,this.state,[]),u=!1;f.flags|=l,t?t.flags|=l:t=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),u=this.docView.update(f),u&&this.docViewUpdate());for(let d=0;d<c.length;d++)if(h[d]!=Vm)try{let g=c[d];g.write&&g.write(h[d],this)}catch(g){Hn(this.state,g)}if(u&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let g=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(g>1||g<-1){r=r+g,i.scrollTop=r/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(Fd))a(t)}get themeClasses(){return tp+" "+(this.state.facet(ep)?Zv:Mv)+" "+this.state.facet(Zc)}updateAttrs(){let e=zm(this,mv,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Mr)?"true":"false",class:"cm-content",style:`${ue.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),zm(this,kg,t);let i=this.observer.ignore(()=>{let r=Vd(this.contentDOM,this.contentAttrs,t),s=Vd(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(de.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(tl);let e=this.state.facet(de.cspNonce);ks.mount(this.root,this.styleModules.concat(HE).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return ku(this,e,Pm(this,e,t,i))}moveByGroup(e,t){return ku(this,e,Pm(this,e,t,i=>dE(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),r=this.textDirectionAt(e.from),s=i[t?i.length-1:0];return Y.cursor(s.side(t,r)+e.from,s.forward(!t,r)?1:-1)}moveToLineBoundary(e,t,i=!0){return uE(this,e,t,i)}moveVertically(e,t,i){return ku(this,e,pE(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),wv(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),o=s[ms.find(s,e-r.from,-1,t)];return Cf(i,o.dir==It.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(dv)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>nT)return sv(e.length);let t=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||rv(s.isolates,i=xm(this,e))))return s.order;i||(i=xm(this,e));let r=FA(e.text,t,i);return this.bidiCache.push(new Xh(e.from,e.to,t,i,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ue.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{N1(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return _c.of(new Jo(typeof e=="number"?Y.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return _c.of(new Jo(Y.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return on.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return on.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=ks.newName(),r=[Zc.of(i),tl.of(np(`.${i}`,e))];return t&&t.dark&&r.push(ep.of(!0)),r}static baseTheme(e){return As.lowest(tl.of(np("."+tp,e,Rv)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),r=i&&Et.get(i)||Et.get(e);return((t=r==null?void 0:r.rootView)===null||t===void 0?void 0:t.view)||null}}de.styleModule=tl;de.inputHandler=fv;de.clipboardInputFilter=wg;de.clipboardOutputFilter=Sg;de.scrollHandler=gv;de.focusChangeEffect=uv;de.perLineTextDirection=dv;de.exceptionSink=hv;de.updateListener=Fd;de.editable=Mr;de.mouseSelectionStyle=cv;de.dragMovesSelection=lv;de.clickAddsSelectionRange=av;de.decorations=El;de.outerDecorations=yv;de.atomicRanges=$g;de.bidiIsolatedRanges=bv;de.scrollMargins=vv;de.darkTheme=ep;de.cspNonce=Oe.define({combine:n=>n.length?n[0]:""});de.contentAttributes=kg;de.editorAttributes=mv;de.lineWrapping=de.contentAttributes.of({class:"cm-lineWrapping"});de.announce=Ve.define();const nT=4096,Vm={};class Xh{constructor(e,t,i,r,s,o){this.from=e,this.to=t,this.dir=i,this.isolates=r,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let i=[],r=e.length?e[e.length-1].dir:It.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==r&&!t.touchesRange(o.from,o.to)&&i.push(new Xh(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function zm(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let s=i[r],o=typeof s=="function"?s(n):s;o&&Xd(o,t)}return t}const iT=ue.mac?"mac":ue.windows?"win":ue.linux?"linux":"key";function rT(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let r,s,o,a;for(let l=0;l<t.length-1;++l){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(i="Alt-"+i),s&&(i="Ctrl-"+i),a&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function Rc(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const sT=As.default(de.domEventHandlers({keydown(n,e){return jv(Iv(e.state),n,e,"editor")}})),Rf=Oe.define({enables:sT}),Wm=new WeakMap;function Iv(n){let e=n.facet(Rf),t=Wm.get(e);return t||Wm.set(e,t=lT(e.reduce((i,r)=>i.concat(r),[]))),t}function oT(n,e,t){return jv(Iv(n.state),e,n,t)}let us=null;const aT=4e3;function lT(n,e=iT){let t=Object.create(null),i=Object.create(null),r=(o,a)=>{let l=i[o];if(l==null)i[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,h)=>{var f,u;let d=t[o]||(t[o]=Object.create(null)),g=a.split(/ (?!$)/).map(b=>rT(b,e));for(let b=1;b<g.length;b++){let $=g.slice(0,b).join(" ");r($,!0),d[$]||(d[$]={preventDefault:!0,stopPropagation:!1,run:[Q=>{let P=us={view:Q,prefix:$,scope:o};return setTimeout(()=>{us==P&&(us=null)},aT),!0}]})}let m=g.join(" ");r(m,!1);let O=d[m]||(d[m]={preventDefault:!1,stopPropagation:!1,run:((u=(f=d._any)===null||f===void 0?void 0:f.run)===null||u===void 0?void 0:u.slice())||[]});l&&O.run.push(l),c&&(O.preventDefault=!0),h&&(O.stopPropagation=!0)};for(let o of n){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let h=t[c]||(t[c]=Object.create(null));h._any||(h._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:f}=o;for(let u in h)h[u].run.push(d=>f(d,ip))}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return t}let ip=null;function jv(n,e,t,i){ip=e;let r=CA(e),s=Yn(r,0),o=er(s)==r.length&&r!=" ",a="",l=!1,c=!1,h=!1;us&&us.view==t&&us.scope==i&&(a=us.prefix+" ",$v.indexOf(e.keyCode)<0&&(c=!0,us=null));let f=new Set,u=O=>{if(O){for(let b of O.run)if(!f.has(b)&&(f.add(b),b(t)))return O.stopPropagation&&(h=!0),!0;O.preventDefault&&(O.stopPropagation&&(h=!0),c=!0)}return!1},d=n[i],g,m;return d&&(u(d[a+Rc(r,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ue.windows&&e.ctrlKey&&e.altKey)&&(g=$s[e.keyCode])&&g!=r?(u(d[a+Rc(g,e,!0)])||e.shiftKey&&(m=Pl[e.keyCode])!=r&&m!=g&&u(d[a+Rc(m,e,!1)]))&&(l=!0):o&&e.shiftKey&&u(d[a+Rc(r,e,!0)])&&(l=!0),!l&&u(d._any)&&(l=!0)),c&&(l=!0),l&&h&&e.stopPropagation(),ip=null,l}class ec{constructor(e,t,i,r,s){this.className=e,this.left=t,this.top=i,this.width=r,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let r=e.coordsAtPos(i.head,i.assoc||1);if(!r)return[];let s=Bv(e);return[new ec(t,r.left-s.left,r.top-s.top,null,r.bottom-r.top)]}else return cT(e,t,i)}}function Bv(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==It.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function Ym(n,e,t,i){let r=n.coordsAtPos(e,t*2);if(!r)return i;let s=n.dom.getBoundingClientRect(),o=(r.top+r.bottom)/2,a=n.posAtCoords({x:s.left+1,y:o}),l=n.posAtCoords({x:s.right-1,y:o});return a==null||l==null?i:{from:Math.max(i.from,Math.min(a,l)),to:Math.min(i.to,Math.max(a,l))}}function cT(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let i=Math.max(t.from,n.viewport.from),r=Math.min(t.to,n.viewport.to),s=n.textDirection==It.LTR,o=n.contentDOM,a=o.getBoundingClientRect(),l=Bv(n),c=o.querySelector(".cm-line"),h=c&&window.getComputedStyle(c),f=a.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),u=a.right-(h?parseInt(h.paddingRight):0),d=Kd(n,i),g=Kd(n,r),m=d.type==Nn.Text?d:null,O=g.type==Nn.Text?g:null;if(m&&(n.lineWrapping||d.widgetLineBreaks)&&(m=Ym(n,i,1,m)),O&&(n.lineWrapping||g.widgetLineBreaks)&&(O=Ym(n,r,-1,O)),m&&O&&m.from==O.from&&m.to==O.to)return $(Q(t.from,t.to,m));{let k=m?Q(t.from,null,m):P(d,!1),A=O?Q(null,t.to,O):P(g,!0),E=[];return(m||d).to<(O||g).from-(m&&O?1:0)||d.widgetLineBreaks>1&&k.bottom+n.defaultLineHeight/2<A.top?E.push(b(f,k.bottom,u,A.top)):k.bottom<A.top&&n.elementAtHeight((k.bottom+A.top)/2).type==Nn.Text&&(k.bottom=A.top=(k.bottom+A.top)/2),$(k).concat(E).concat($(A))}function b(k,A,E,M){return new ec(e,k-l.left,A-l.top,E-k,M-A)}function $({top:k,bottom:A,horizontal:E}){let M=[];for(let C=0;C<E.length;C+=2)M.push(b(E[C],k,E[C+1],A));return M}function Q(k,A,E){let M=1e9,C=-1e9,j=[];function q(I,B,V,W,se){let be=n.coordsAtPos(I,I==E.to?-2:2),Re=n.coordsAtPos(V,V==E.from?2:-2);!be||!Re||(M=Math.min(be.top,Re.top,M),C=Math.max(be.bottom,Re.bottom,C),se==It.LTR?j.push(s&&B?f:be.left,s&&W?u:Re.right):j.push(!s&&W?f:Re.left,!s&&B?u:be.right))}let D=k??E.from,G=A??E.to;for(let I of n.visibleRanges)if(I.to>D&&I.from<G)for(let B=Math.max(I.from,D),V=Math.min(I.to,G);;){let W=n.state.doc.lineAt(B);for(let se of n.bidiSpans(W)){let be=se.from+W.from,Re=se.to+W.from;if(be>=V)break;Re>B&&q(Math.max(be,B),k==null&&be<=D,Math.min(Re,V),A==null&&Re>=G,se.dir)}if(B=W.to+1,B>=V)break}return j.length==0&&q(D,k==null,G,A==null,n.textDirection),{top:M,bottom:C,horizontal:j}}function P(k,A){let E=a.top+(A?k.top:k.bottom);return{top:E,bottom:E,horizontal:[]}}}function hT(n,e){return n.constructor==e.constructor&&n.eq(e)}class fT{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(uh)!=e.state.facet(uh)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,i=e.facet(uh);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!hT(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[i].constructor&&r.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(r.draw(),t);for(;t;){let r=t.nextSibling;t.remove(),t=r}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const uh=Oe.define();function Dv(n){return[on.define(e=>new fT(e,n)),uh.of(n)]}const Lv=!(ue.ios&&ue.webkit&&ue.webkit_version<534),Tl=Oe.define({combine(n){return gr(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function uT(n={}){return[Tl.of(n),dT,pT,gT,pv.of(!0)]}function qv(n){return n.startState.facet(Tl)!=n.state.facet(Tl)}const dT=Dv({above:!0,markers(n){let{state:e}=n,t=e.facet(Tl),i=[];for(let r of e.selection.ranges){let s=r==e.selection.main;if(r.empty?!s||Lv:t.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=r.empty?r:Y.cursor(r.head,r.head>r.anchor?-1:1);for(let l of ec.forRange(n,o,a))i.push(l)}}return i},update(n,e){n.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=qv(n);return t&&Gm(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){Gm(e.state,n)},class:"cm-cursorLayer"});function Gm(n,e){e.style.animationDuration=n.facet(Tl).cursorBlinkRate+"ms"}const pT=Dv({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:ec.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||qv(n)},class:"cm-selectionLayer"}),rp={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};Lv&&(rp[".cm-line"].caretColor=rp[".cm-content"].caretColor="transparent !important");const gT=As.highest(de.theme(rp)),Nv=Ve.define({map(n,e){return n==null?null:e.mapPos(n)}}),rl=On.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(Nv)?i.value:t,n)}}),OT=on.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(rl);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(rl)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(rl),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let i=n.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-i.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(rl)!=n&&this.view.dispatch({effects:Nv.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function mT(){return[rl,OT]}function Fm(n,e,t,i,r){e.lastIndex=0;for(let s=n.iterRange(t,i),o=t,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)r(o+a.index,a)}function yT(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:r,to:s}of t)r=Math.max(n.state.doc.lineAt(r).from,r-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=s:i.push({from:r,to:s});return i}class bT{constructor(e){const{regexp:t,decoration:i,decorate:r,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(a,l,c,h)=>r(h,c,c+a[0].length,a,l);else if(typeof i=="function")this.addMatch=(a,l,c,h)=>{let f=i(a,l,c);f&&h(c,c+a[0].length,f)};else if(i)this.addMatch=(a,l,c,h)=>h(c,c+a[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new Xr,i=t.add.bind(t);for(let{from:r,to:s}of yT(e,this.maxLength))Fm(e.state.doc,this.regexp,r,s,(o,a)=>this.addMatch(a,e,o,i));return t.finish()}updateDeco(e,t){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(i=Math.min(a,i),r=Math.max(l,r))}),e.viewportMoved||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),i,r):t}updateRange(e,t,i,r){for(let s of e.visibleRanges){let o=Math.max(s.from,i),a=Math.min(s.to,r);if(a>o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,h=Math.max(s.from,l.from),f=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){h=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){f=a;break}}let u=[],d,g=(m,O,b)=>u.push(b.range(m,O));if(l==c)for(this.regexp.lastIndex=h-l.from;(d=this.regexp.exec(l.text))&&d.index<f-l.from;)this.addMatch(d,e,d.index+l.from,g);else Fm(e.state.doc,this.regexp,h,f,(m,O)=>this.addMatch(O,e,m,g));t=t.update({filterFrom:h,filterTo:f,filter:(m,O)=>m<h||O>f,add:u})}}return t}}const sp=/x/.unicode!=null?"gu":"g",vT=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,sp),xT={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Pu=null;function wT(){var n;if(Pu==null&&typeof document<"u"&&document.body){let e=document.body.style;Pu=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return Pu||!1}const dh=Oe.define({combine(n){let e=gr(n,{render:null,specialChars:vT,addSpecialChars:null});return(e.replaceTabs=!wT())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,sp)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,sp)),e}});function ST(n={}){return[dh.of(n),kT()]}let Hm=null;function kT(){return Hm||(Hm=on.fromClass(class{constructor(n){this.view=n,this.decorations=Ee.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(dh)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new bT({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:r}=t.state,s=Yn(e[0],0);if(s==9){let o=r.lineAt(i),a=t.state.tabSize,l=Pa(o.text,a,i-o.from);return Ee.replace({widget:new _T((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Ee.replace({widget:new PT(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(dh);n.startState.facet(dh)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const $T="";function QT(n){return n>=32?$T:n==10?"":String.fromCharCode(9216+n)}class PT extends Fr{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=QT(this.code),i=e.state.phrase("Control character")+" "+(xT[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,t);if(r)return r;let s=document.createElement("span");return s.textContent=t,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class _T extends Fr{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function AT(){return TT}const ET=Ee.line({class:"cm-activeLine"}),TT=on.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){let r=n.lineBlockAt(i.head);r.from>e&&(t.push(ET.range(r.from)),e=r.from)}return Ee.set(t)}},{decorations:n=>n.decorations}),op=2e3;function CT(n,e,t){let i=Math.min(e.line,t.line),r=Math.max(e.line,t.line),s=[];if(e.off>op||t.off>op||e.col<0||t.col<0){let o=Math.min(e.off,t.off),a=Math.max(e.off,t.off);for(let l=i;l<=r;l++){let c=n.doc.line(l);c.length<=a&&s.push(Y.range(c.from+o,c.to+a))}}else{let o=Math.min(e.col,t.col),a=Math.max(e.col,t.col);for(let l=i;l<=r;l++){let c=n.doc.line(l),h=jd(c.text,o,n.tabSize,!0);if(h<0)s.push(Y.cursor(c.to));else{let f=jd(c.text,a,n.tabSize);s.push(Y.range(c.from+h,c.from+f))}}}return s}function MT(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function Km(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),r=t-i.from,s=r>op?-1:r==i.length?MT(n,e.clientX):Pa(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:s,off:r}}function ZT(n,e){let t=Km(n,e),i=n.state.selection;return t?{update(r){if(r.docChanged){let s=r.changes.mapPos(r.startState.doc.line(t.line).from),o=r.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},i=i.map(r.changes)}},get(r,s,o){let a=Km(n,r);if(!a)return i;let l=CT(n.state,t,a);return l.length?o?Y.create(l.concat(i.ranges)):Y.create(l):i}}:null}function RT(n){let e=t=>t.altKey&&t.button==0;return de.mouseSelectionStyle.of((t,i)=>e(i)?ZT(t,i):null)}const IT={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},jT={style:"cursor: crosshair"};function BT(n={}){let[e,t]=IT[n.key||"Alt"],i=on.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventObservers:{keydown(r){this.set(r.keyCode==e||t(r))},keyup(r){(r.keyCode==e||!t(r))&&this.set(!1)},mousemove(r){this.set(t(r))}}});return[i,de.contentAttributes.of(r=>{var s;return!((s=r.plugin(i))===null||s===void 0)&&s.isDown?jT:null})]}const Xa="-10000px";class Uv{constructor(e,t,i,r){this.facet=t,this.createTooltipView=i,this.removeTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=i(o,s))}update(e,t){var i;let r=e.state.facet(this.facet),s=r.filter(l=>l);if(r===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=t?[]:null;for(let l=0;l<s.length;l++){let c=s[l],h=-1;if(c){for(let f=0;f<this.tooltips.length;f++){let u=this.tooltips[f];u&&u.create==c.create&&(h=f)}if(h<0)o[l]=this.createTooltipView(c,l?o[l-1]:null),a&&(a[l]=!!c.above);else{let f=o[l]=this.tooltipViews[h];a&&(a[l]=t[h]),f.update&&f.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(i=l.destroy)===null||i===void 0||i.call(l));return t&&(a.forEach((l,c)=>t[c]=l),t.length=a.length),this.input=r,this.tooltips=s,this.tooltipViews=o,!0}}function DT(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const _u=Oe.define({combine:n=>{var e,t,i;return{position:ue.ios?"absolute":((e=n.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(r=>r.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||DT}}}),Jm=new WeakMap,Eg=on.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(_u);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new Uv(n,Tg,(t,i)=>this.createTooltip(t,i),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(_u);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),i=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",t.dom.appendChild(r)}return t.dom.style.position=this.position,t.dom.style.top=Xa,t.dom.style.left="0px",this.container.insertBefore(t.dom,i),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(n=i.destroy)===null||n===void 0||n.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(ue.gecko)t=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==Xa&&s.style.left=="0px"){let o=s.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(n=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let i=this.view.scrollDOM.getBoundingClientRect(),r=Qg(this.view);return{visible:{left:i.left+r.left,top:i.top+r.top,right:i.right-r.right,bottom:i.bottom-r.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(_u).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:t,space:i,scaleX:r,scaleY:s}=n,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:h}=c,f=n.pos[a],u=n.size[a];if(!f||l.clip!==!1&&(f.bottom<=Math.max(t.top,i.top)||f.top>=Math.min(t.bottom,i.bottom)||f.right<Math.max(t.left,i.left)-.1||f.left>Math.min(t.right,i.right)+.1)){h.style.top=Xa;continue}let d=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,g=d?7:0,m=u.right-u.left,O=(e=Jm.get(c))!==null&&e!==void 0?e:u.bottom-u.top,b=c.offset||qT,$=this.view.textDirection==It.LTR,Q=u.width>i.right-i.left?$?i.left:i.right-u.width:$?Math.max(i.left,Math.min(f.left-(d?14:0)+b.x,i.right-m)):Math.min(Math.max(i.left,f.left-m+(d?14:0)-b.x),i.right-m),P=this.above[a];!l.strictSide&&(P?f.top-O-g-b.y<i.top:f.bottom+O+g+b.y>i.bottom)&&P==i.bottom-f.bottom>f.top-i.top&&(P=this.above[a]=!P);let k=(P?f.top-i.top:i.bottom-f.bottom)-g;if(k<O&&c.resize!==!1){if(k<this.view.defaultLineHeight){h.style.top=Xa;continue}Jm.set(c,O),h.style.height=(O=k)/s+"px"}else h.style.height&&(h.style.height="");let A=P?f.top-O-g-b.y:f.bottom+g+b.y,E=Q+m;if(c.overlap!==!0)for(let M of o)M.left<E&&M.right>Q&&M.top<A+O&&M.bottom>A&&(A=P?M.top-O-2-g:M.bottom+g+2);if(this.position=="absolute"?(h.style.top=(A-n.parent.top)/s+"px",e0(h,(Q-n.parent.left)/r)):(h.style.top=A/s+"px",e0(h,Q/r)),d){let M=f.left+($?b.x:-b.x)-(Q+14-7);d.style.left=M/r+"px"}c.overlap!==!0&&o.push({left:Q,top:A,right:E,bottom:A+O}),h.classList.toggle("cm-tooltip-above",P),h.classList.toggle("cm-tooltip-below",!P),c.positioned&&c.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Xa}},{eventObservers:{scroll(){this.maybeMeasure()}}});function e0(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const LT=de.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),qT={x:0,y:0},Tg=Oe.define({enables:[Eg,LT]}),Vh=Oe.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class If{static create(e){return new If(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Uv(e,Vh,(t,i)=>this.createHostedView(t,i),t=>t.dom.remove())}createHostedView(e,t){let i=e.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let i of this.manager.tooltipViews){let r=i[e];if(r!==void 0){if(t===void 0)t=r;else if(t!==r)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const NT=Tg.compute([Vh],n=>{let e=n.facet(Vh);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var i;return(i=t.end)!==null&&i!==void 0?i:t.pos})),create:If.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class UT{constructor(e,t,i,r,s){this.view=e,this.source=t,this.field=i,this.setHover=r,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,i=e.docView.nearest(t.target);if(!i)return;let r,s=1;if(i instanceof Os)r=i.posAtStart;else{if(r=e.posAtCoords(t),r==null)return;let a=e.coordsAtPos(r);if(!a||t.y<a.top||t.y>a.bottom||t.x<a.left-e.defaultCharacterWidth||t.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(r)).find(h=>h.from<=r&&h.to>=r),c=l&&l.dir==It.RTL?-1:1;s=t.x<a.left?-c:c}let o=this.source(e,r,s);if(o!=null&&o.then){let a=this.pending={pos:r};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>Hn(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(Eg),t=e?e.manager.tooltips.findIndex(i=>i.create==If.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,i;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:s}=this;if(r.length&&s&&!XT(s.dom,e)||this.pending){let{pos:o}=r[0]||this.pending,a=(i=(t=r[0])===null||t===void 0?void 0:t.end)!==null&&i!==void 0?i:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!VT(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=i=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Ic=4;function XT(n,e){let{left:t,right:i,top:r,bottom:s}=n.getBoundingClientRect(),o;if(o=n.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();r=Math.min(a.top,r),s=Math.max(a.bottom,s)}return e.clientX>=t-Ic&&e.clientX<=i+Ic&&e.clientY>=r-Ic&&e.clientY<=s+Ic}function VT(n,e,t,i,r,s){let o=n.scrollDOM.getBoundingClientRect(),a=n.documentTop+n.documentPadding.top+n.contentHeight;if(o.left>i||o.right<i||o.top>r||Math.min(o.bottom,a)<r)return!1;let l=n.posAtCoords({x:i,y:r},!1);return l>=e&&l<=t}function zT(n,e={}){let t=Ve.define(),i=On.define({create(){return[]},update(r,s){if(r.length&&(e.hideOnChange&&(s.docChanged||s.selection)?r=[]:e.hideOn&&(r=r.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of r){let l=s.changes.mapPos(a.pos,-1,xn.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=s.changes.mapPos(c.end)),o.push(c)}}r=o}for(let o of s.effects)o.is(t)&&(r=o.value),o.is(WT)&&(r=[]);return r},provide:r=>Vh.from(r)});return{active:i,extension:[i,on.define(r=>new UT(r,n,i,t,e.hoverTime||300)),NT]}}function Xv(n,e){let t=n.plugin(Eg);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const WT=Ve.define(),t0=Oe.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Cl(n,e){let t=n.plugin(Vv),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const Vv=on.fromClass(class{constructor(n){this.input=n.state.facet(Ml),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(t0);this.top=new jc(n,!0,e.topContainer),this.bottom=new jc(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(t0);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new jc(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new jc(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Ml);if(t!=this.input){let i=t.filter(l=>l),r=[],s=[],o=[],a=[];for(let l of i){let c=this.specs.indexOf(l),h;c<0?(h=l(n.view),a.push(h)):(h=this.panels[c],h.update&&h.update(n)),r.push(h),(h.top?s:o).push(h)}this.specs=i,this.panels=r,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>de.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class jc{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=n0(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=n0(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function n0(n){let e=n.nextSibling;return n.remove(),e}const Ml=Oe.define({enables:Vv});class zr extends ho{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}zr.prototype.elementClass="";zr.prototype.toDOM=void 0;zr.prototype.mapMode=xn.TrackBefore;zr.prototype.startSide=zr.prototype.endSide=-1;zr.prototype.point=!0;const ph=Oe.define(),YT=Oe.define(),GT={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>dt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},yl=Oe.define();function FT(n){return[zv(),yl.of(Object.assign(Object.assign({},GT),n))]}const i0=Oe.define({combine:n=>n.some(e=>e)});function zv(n){return[HT]}const HT=on.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(yl).map(e=>new s0(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(i0),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(i0)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=dt.iter(this.view.state.facet(ph),this.view.viewport.from),i=[],r=this.gutters.map(s=>new KT(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==Nn.Text&&o){ap(t,i,a.from);for(let l of r)l.line(this.view,a,i);o=!1}else if(a.widget)for(let l of r)l.widget(this.view,a)}else if(s.type==Nn.Text){ap(t,i,s.from);for(let o of r)o.line(this.view,s,i)}else if(s.widget)for(let o of r)o.widget(this.view,s);for(let s of r)s.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(yl),t=n.state.facet(yl),i=n.docChanged||n.heightChanged||n.viewportChanged||!dt.eq(n.startState.facet(ph),n.state.facet(ph),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let r of this.gutters)r.update(n)&&(i=!0);else{i=!0;let r=[];for(let s of t){let o=e.indexOf(s);o<0?r.push(new s0(this.view,s)):(this.gutters[o].update(n),r.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),r.indexOf(s)<0&&s.destroy();for(let s of r)this.dom.appendChild(s.dom);this.gutters=r}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>de.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==It.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function r0(n){return Array.isArray(n)?n:[n]}function ap(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class KT{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=dt.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:r}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==r.elements.length){let a=new Wv(e,o,s,i);r.elements.push(a),r.dom.appendChild(a.dom)}else r.elements[this.i].update(e,o,s,i);this.height=t.bottom,this.i++}line(e,t,i){let r=[];ap(this.cursor,r,t.from),i.length&&(r=r.concat(i));let s=this.gutter.config.lineMarker(e,t,r);s&&r.unshift(s);let o=this.gutter;r.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,r)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t),r=i?[i]:null;for(let s of e.state.facet(YT)){let o=s(e,t.widget,t);o&&(r||(r=[])).push(o)}r&&this.addElement(e,t,r)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class s0{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,r=>{let s=r.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=r.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[i](e,a,r)&&r.preventDefault()});this.markers=r0(t.markers(e)),t.initialSpacer&&(this.spacer=new Wv(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=r0(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!dt.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Wv{constructor(e,t,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,r)}update(e,t,i,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),JT(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let i="cm-gutterElement",r=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<t.length?t[s++]:null,c=!1;if(l){let h=l.elementClass;h&&(i+=" "+h);for(let f=o;f<this.markers.length;f++)if(this.markers[f].compare(l)){a=f,c=!0;break}}else a=this.markers.length;for(;o<a;){let h=this.markers[o++];if(h.toDOM){h.destroy(r);let f=r.nextSibling;r.remove(),r=f}}if(!l)break;l.toDOM&&(c?r=r.nextSibling:this.dom.insertBefore(l.toDOM(e),r)),c&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function JT(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const e3=Oe.define(),t3=Oe.define(),No=Oe.define({combine(n){return gr(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let r in t){let s=i[r],o=t[r];i[r]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return i}})}});class Au extends zr{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Eu(n,e){return n.state.facet(No).formatNumber(e,n.state)}const n3=yl.compute([No],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(e3)},lineMarker(e,t,i){return i.some(r=>r.toDOM)?null:new Au(Eu(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,i)=>{for(let r of e.state.facet(t3)){let s=r(e,t,i);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(No)!=e.state.facet(No),initialSpacer(e){return new Au(Eu(e,o0(e.state.doc.lines)))},updateSpacer(e,t){let i=Eu(t.view,o0(t.view.state.doc.lines));return i==e.number?e:new Au(i)},domEventHandlers:n.facet(No).domEventHandlers}));function i3(n={}){return[No.of(n),zv(),n3]}function o0(n){let e=9;for(;e<n;)e=e*10+9;return e}const r3=new class extends zr{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},s3=ph.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.head).from;r>t&&(t=r,e.push(r3.range(r)))}return dt.of(e)});function o3(){return s3}const Yv=1024;let a3=0;class Tu{constructor(e,t){this.from=e,this.to=t}}class nt{constructor(e={}){this.id=a3++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=ti.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}nt.closedBy=new nt({deserialize:n=>n.split(" ")});nt.openedBy=new nt({deserialize:n=>n.split(" ")});nt.group=new nt({deserialize:n=>n.split(" ")});nt.isolate=new nt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});nt.contextHash=new nt({perNode:!0});nt.lookAhead=new nt({perNode:!0});nt.mounted=new nt({perNode:!0});class zh{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[nt.mounted.id]}}const l3=Object.create(null);class ti{constructor(e,t,i,r=0){this.name=e,this.props=t,this.id=i,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):l3,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new ti(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(nt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let r of i.split(" "))t[r]=e[i];return i=>{for(let r=i.prop(nt.group),s=-1;s<(r?r.length:0);s++){let o=t[s<0?i.name:r[s]];if(o)return o}}}}ti.none=new ti("",Object.create(null),0,8);class Cg{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let r=null;for(let s of e){let o=s(i);o&&(r||(r=Object.assign({},i.props)),r[o[0].id]=o[1])}t.push(r?new ti(i.name,r,i.id,i.flags):i)}return new Cg(t)}}const Bc=new WeakMap,a0=new WeakMap;var fn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(fn||(fn={}));class rn{constructor(e,t,i,r,s){if(this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=zh.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let r=i.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new cp(this.topNode,e)}cursorAt(e,t=0,i=0){let r=Bc.get(this)||this.topNode,s=new cp(r);return s.moveTo(e,t),Bc.set(this,s._tree),s}get topNode(){return new Jn(this,0,0,null)}resolve(e,t=0){let i=Zl(Bc.get(this)||this.topNode,e,t,!1);return Bc.set(this,i),i}resolveInner(e,t=0){let i=Zl(a0.get(this)||this.topNode,e,t,!0);return a0.set(this,i),i}resolveStack(e,t=0){return f3(this,e,t)}iterate(e){let{enter:t,leave:i,from:r=0,to:s=this.length}=e,o=e.mode||0,a=(o&fn.IncludeAnonymous)>0;for(let l=this.cursor(o|fn.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=r&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Rg(ti.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,r)=>new rn(this.type,t,i,r,this.propValues),e.makeTree||((t,i,r)=>new rn(ti.none,t,i,r)))}static build(e){return u3(e)}}rn.empty=new rn(ti.none,[],[],0);class Mg{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Mg(this.buffer,this.index)}}class Ps{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return ti.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],r=this.set.types[t],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,r,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(Gv(s,r,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,t,i){let r=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=r[a++],s[l++]=r[a++]-i;let c=s[l++]=r[a++]-i;s[l++]=r[a++]-e,o=Math.max(o,c)}return new Ps(s,o,this.set)}}function Gv(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function Zl(n,e,t,i){for(var r;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!i&&n instanceof Jn&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=i?0:fn.IgnoreOverlays;if(i)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Jn&&o.index<0&&((r=a.enter(e,t,s))===null||r===void 0?void 0:r.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}class Fv{cursor(e=0){return new cp(this,e)}getChild(e,t=null,i=null){let r=l0(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return l0(this,e,t,i)}resolve(e,t=0){return Zl(this,e,t,!1)}resolveInner(e,t=0){return Zl(this,e,t,!0)}matchContext(e){return lp(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(i=t,t=r.prevSibling):t=r}return i}get node(){return this}get next(){return this.parent}}class Jn extends Fv{constructor(e,t,i,r){super(),this._tree=e,this.from=t,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,r,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let h=a[e],f=l[e]+o.from;if(Gv(r,i,f,f+h.length)){if(h instanceof Ps){if(s&fn.ExcludeBuffers)continue;let u=h.findChild(0,h.buffer.length,t,i-f,r);if(u>-1)return new nr(new c3(o,h,e,f),null,u)}else if(s&fn.IncludeAnonymous||!h.type.isAnonymous||Zg(h)){let u;if(!(s&fn.IgnoreMounts)&&(u=zh.get(h))&&!u.overlay)return new Jn(u.tree,f,e,o);let d=new Jn(h,f,e,o);return s&fn.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(t<0?h.children.length-1:0,t,i,r)}}}if(s&fn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let r;if(!(i&fn.IgnoreOverlays)&&(r=zh.get(this._tree))&&r.overlay){let s=e-this.from;for(let{from:o,to:a}of r.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Jn(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function l0(n,e,t,i){let r=n.cursor(),s=[];if(!r.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=r.type.is(t),!r.nextSibling())return s}for(;;){if(i!=null&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return i==null?s:[]}}function lp(n,e,t=e.length-1){for(let i=n;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class c3{constructor(e,t,i,r){this.parent=e,this.buffer=t,this.index=i,this.start=r}}class nr extends Fv{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new nr(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&fn.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new nr(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new nr(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new nr(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];if(s>r){let o=i.buffer[this.index+1];e.push(i.slice(r,s,o)),t.push(0)}return new rn(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Hv(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let i=t instanceof Jn&&t.index<0?null:t.parent,r=n.slice();return i?r[e]=i:r.splice(e,1),new h3(r,t)}class h3{constructor(e,t){this.heads=e,this.node=t}get next(){return Hv(this.heads)}}function f3(n,e,t){let i=n.resolveInner(e,t),r=null;for(let s=i instanceof Jn?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(r||(r=[i])).push(o.resolve(e,t)),s=o}else{let o=zh.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Jn(o.tree,o.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(Zl(a,e,t,!1))}}return r?Hv(r):i}class cp{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Jn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof Jn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&fn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&fn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&fn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=r)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&fn.IncludeAnonymous||a instanceof Ps||!a.type.isAnonymous||Zg(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,i=s+1;break e}r=this.stack[--s]}for(let r=i;r<this.stack.length;r++)t=new nr(this.buffer,t,this.stack[r]);return this.bufferNode=new nr(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&t&&t(this),r=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return lp(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return lp(this._tree,e,r);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function Zg(n){return n.children.some(e=>e instanceof Ps||!e.type.isAnonymous||Zg(e))}function u3(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:r=Yv,reused:s=[],minRepeatType:o=i.types.length}=n,a=Array.isArray(t)?new Mg(t,t.length):t,l=i.types,c=0,h=0;function f(k,A,E,M,C,j){let{id:q,start:D,end:G,size:I}=a,B=h,V=c;for(;I<0;)if(a.next(),I==-1){let Pe=s[q];E.push(Pe),M.push(D-k);return}else if(I==-3){c=q;return}else if(I==-4){h=q;return}else throw new RangeError(`Unrecognized record size: ${I}`);let W=l[q],se,be,Re=D-k;if(G-D<=r&&(be=O(a.pos-A,C))){let Pe=new Uint16Array(be.size-be.skip),Je=a.pos-be.size,Me=Pe.length;for(;a.pos>Je;)Me=b(be.start,Pe,Me);se=new Ps(Pe,G-be.start,i),Re=be.start-k}else{let Pe=a.pos-I;a.next();let Je=[],Me=[],it=q>=o?q:-1,ke=0,ct=G;for(;a.pos>Pe;)it>=0&&a.id==it&&a.size>=0?(a.end<=ct-r&&(g(Je,Me,D,ke,a.end,ct,it,B,V),ke=Je.length,ct=a.end),a.next()):j>2500?u(D,Pe,Je,Me):f(D,Pe,Je,Me,it,j+1);if(it>=0&&ke>0&&ke<Je.length&&g(Je,Me,D,ke,D,ct,it,B,V),Je.reverse(),Me.reverse(),it>-1&&ke>0){let Zn=d(W,V);se=Rg(W,Je,Me,0,Je.length,0,G-D,Zn,Zn)}else se=m(W,Je,Me,G-D,B-G,V)}E.push(se),M.push(Re)}function u(k,A,E,M){let C=[],j=0,q=-1;for(;a.pos>A;){let{id:D,start:G,end:I,size:B}=a;if(B>4)a.next();else{if(q>-1&&G<q)break;q<0&&(q=I-r),C.push(D,G,I),j++,a.next()}}if(j){let D=new Uint16Array(j*4),G=C[C.length-2];for(let I=C.length-3,B=0;I>=0;I-=3)D[B++]=C[I],D[B++]=C[I+1]-G,D[B++]=C[I+2]-G,D[B++]=B;E.push(new Ps(D,C[2]-G,i)),M.push(G-k)}}function d(k,A){return(E,M,C)=>{let j=0,q=E.length-1,D,G;if(q>=0&&(D=E[q])instanceof rn){if(!q&&D.type==k&&D.length==C)return D;(G=D.prop(nt.lookAhead))&&(j=M[q]+D.length+G)}return m(k,E,M,C,j,A)}}function g(k,A,E,M,C,j,q,D,G){let I=[],B=[];for(;k.length>M;)I.push(k.pop()),B.push(A.pop()+E-C);k.push(m(i.types[q],I,B,j-C,D-j,G)),A.push(C-E)}function m(k,A,E,M,C,j,q){if(j){let D=[nt.contextHash,j];q=q?[D].concat(q):[D]}if(C>25){let D=[nt.lookAhead,C];q=q?[D].concat(q):[D]}return new rn(k,A,E,M,q)}function O(k,A){let E=a.fork(),M=0,C=0,j=0,q=E.end-r,D={size:0,start:0,skip:0};e:for(let G=E.pos-k;E.pos>G;){let I=E.size;if(E.id==A&&I>=0){D.size=M,D.start=C,D.skip=j,j+=4,M+=4,E.next();continue}let B=E.pos-I;if(I<0||B<G||E.start<q)break;let V=E.id>=o?4:0,W=E.start;for(E.next();E.pos>B;){if(E.size<0)if(E.size==-3)V+=4;else break e;else E.id>=o&&(V+=4);E.next()}C=W,M+=I,j+=V}return(A<0||M==k)&&(D.size=M,D.start=C,D.skip=j),D.size>4?D:void 0}function b(k,A,E){let{id:M,start:C,end:j,size:q}=a;if(a.next(),q>=0&&M<o){let D=E;if(q>4){let G=a.pos-(q-4);for(;a.pos>G;)E=b(k,A,E)}A[--E]=D,A[--E]=j-k,A[--E]=C-k,A[--E]=M}else q==-3?c=M:q==-4&&(h=M);return E}let $=[],Q=[];for(;a.pos>0;)f(n.start||0,n.bufferStart||0,$,Q,-1,0);let P=(e=n.length)!==null&&e!==void 0?e:$.length?Q[0]+$[0].length:0;return new rn(l[n.topID],$.reverse(),Q.reverse(),P)}const c0=new WeakMap;function gh(n,e){if(!n.isAnonymous||e instanceof Ps||e.type!=n)return 1;let t=c0.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof rn)){t=1;break}t+=gh(n,i)}c0.set(e,t)}return t}function Rg(n,e,t,i,r,s,o,a,l){let c=0;for(let g=i;g<r;g++)c+=gh(n,e[g]);let h=Math.ceil(c*1.5/8),f=[],u=[];function d(g,m,O,b,$){for(let Q=O;Q<b;){let P=Q,k=m[Q],A=gh(n,g[Q]);for(Q++;Q<b;Q++){let E=gh(n,g[Q]);if(A+E>=h)break;A+=E}if(Q==P+1){if(A>h){let E=g[P];d(E.children,E.positions,0,E.children.length,m[P]+$);continue}f.push(g[P])}else{let E=m[Q-1]+g[Q-1].length-k;f.push(Rg(n,g,m,P,Q,k,E,null,l))}u.push(k+$-s)}}return d(e,t,i,r,0),(a||l)(f,u,o)}class d3{constructor(){this.map=new WeakMap}setBuffer(e,t,i){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof nr?this.setBuffer(e.context.buffer,e.index,t):e instanceof Jn&&this.map.set(e.tree,t)}get(e){return e instanceof nr?this.getBuffer(e.context.buffer,e.index):e instanceof Jn?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class no{constructor(e,t,i,r,s=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=r,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let r=[new no(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&r.push(s);return r}static applyChanges(e,t,i=128){if(!t.length)return e;let r=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let h=a<t.length?t[a]:null,f=h?h.fromA:1e9;if(f-l>=i)for(;o&&o.from<f;){let u=o;if(l>=u.from||f<=u.to||c){let d=Math.max(u.from,l)-c,g=Math.min(u.to,f)-c;u=d>=g?null:new no(d,g,u.tree,u.offset+c,a>0,!!h)}if(u&&r.push(u),o.to>f)break;o=s<e.length?e[s++]:null}if(!h)break;l=h.toA,c=h.toA-h.toB}return r}}class Kv{startParse(e,t,i){return typeof e=="string"&&(e=new p3(e)),i=i?i.length?i.map(r=>new Tu(r.from,r.to)):[new Tu(0,0)]:[new Tu(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let r=this.startParse(e,t,i);for(;;){let s=r.advance();if(s)return s}}}class p3{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new nt({perNode:!0});let g3=0;class bi{constructor(e,t,i,r){this.name=e,this.set=t,this.base=i,this.modified=r,this.id=g3++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof bi&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let r=new bi(i,[],null,[]);if(r.set.push(r),t)for(let s of t.set)r.set.push(s);return r}static defineModifier(e){let t=new Wh(e);return i=>i.modified.indexOf(t)>-1?i:Wh.get(i.base||i,i.modified.concat(t).sort((r,s)=>r.id-s.id))}}let O3=0;class Wh{constructor(e){this.name=e,this.instances=[],this.id=O3++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(a=>a.base==e&&m3(t,a.modified));if(i)return i;let r=[],s=new bi(e.name,r,e,t);for(let a of t)a.instances.push(s);let o=y3(t);for(let a of e.set)if(!a.modified.length)for(let l of o)r.push(Wh.get(a,l));return s}}function m3(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function y3(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function Jv(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let r of t.split(" "))if(r){let s=[],o=2,a=r;for(let f=0;;){if(a=="..."&&f>0&&f+3==r.length){o=1;break}let u=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!u)throw new RangeError("Invalid path: "+r);if(s.push(u[0]=="*"?"":u[0][0]=='"'?JSON.parse(u[0]):u[0]),f+=u[0].length,f==r.length)break;let d=r[f++];if(f==r.length&&d=="!"){o=0;break}if(d!="/")throw new RangeError("Invalid path: "+r);a=r.slice(f)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+r);let h=new Yh(i,o,l>0?s.slice(0,l):null);e[c]=h.sort(e[c])}}return ex.add(e)}const ex=new nt;class Yh{constructor(e,t,i,r){this.tags=e,this.mode=t,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Yh.empty=new Yh([],2,null);function tx(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:s=>{let o=r;for(let a of s)for(let l of a.set){let c=t[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:i}}function b3(n,e){let t=null;for(let i of n){let r=i.style(e);r&&(t=t?t+" "+r:r)}return t}function v3(n,e,t,i=0,r=n.length){let s=new x3(i,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),i,r,"",s.highlighters),s.flush(r)}class x3{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,r,s){let{type:o,from:a,to:l}=e;if(a>=i||l<=t)return;o.isTop&&(s=this.highlighters.filter(d=>!d.scope||d.scope(o)));let c=r,h=w3(e)||Yh.empty,f=b3(s,h.tags);if(f&&(c&&(c+=" "),c+=f,h.mode==1&&(r+=(r?" ":"")+f)),this.startSpan(Math.max(t,a),c),h.opaque)return;let u=e.tree&&e.tree.prop(nt.mounted);if(u&&u.overlay){let d=e.node.enter(u.overlay[0].from+a,1),g=this.highlighters.filter(O=>!O.scope||O.scope(u.tree.type)),m=e.firstChild();for(let O=0,b=a;;O++){let $=O<u.overlay.length?u.overlay[O]:null,Q=$?$.from+a:l,P=Math.max(t,b),k=Math.min(i,Q);if(P<k&&m)for(;e.from<k&&(this.highlightRange(e,P,k,r,s),this.startSpan(Math.min(k,e.to),c),!(e.to>=Q||!e.nextSibling())););if(!$||Q>i)break;b=$.to+a,b>t&&(this.highlightRange(d.cursor(),Math.max(t,$.from+a),Math.min(i,b),"",g),this.startSpan(Math.min(i,b),c))}m&&e.parent()}else if(e.firstChild()){u&&(r="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,r,s),this.startSpan(Math.min(i,e.to),c)}while(e.nextSibling());e.parent()}}}function w3(n){let e=n.type.prop(ex);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const oe=bi.define,Dc=oe(),ls=oe(),h0=oe(ls),f0=oe(ls),cs=oe(),Lc=oe(cs),Cu=oe(cs),Yi=oe(),Ds=oe(Yi),zi=oe(),Wi=oe(),hp=oe(),Va=oe(hp),qc=oe(),L={comment:Dc,lineComment:oe(Dc),blockComment:oe(Dc),docComment:oe(Dc),name:ls,variableName:oe(ls),typeName:h0,tagName:oe(h0),propertyName:f0,attributeName:oe(f0),className:oe(ls),labelName:oe(ls),namespace:oe(ls),macroName:oe(ls),literal:cs,string:Lc,docString:oe(Lc),character:oe(Lc),attributeValue:oe(Lc),number:Cu,integer:oe(Cu),float:oe(Cu),bool:oe(cs),regexp:oe(cs),escape:oe(cs),color:oe(cs),url:oe(cs),keyword:zi,self:oe(zi),null:oe(zi),atom:oe(zi),unit:oe(zi),modifier:oe(zi),operatorKeyword:oe(zi),controlKeyword:oe(zi),definitionKeyword:oe(zi),moduleKeyword:oe(zi),operator:Wi,derefOperator:oe(Wi),arithmeticOperator:oe(Wi),logicOperator:oe(Wi),bitwiseOperator:oe(Wi),compareOperator:oe(Wi),updateOperator:oe(Wi),definitionOperator:oe(Wi),typeOperator:oe(Wi),controlOperator:oe(Wi),punctuation:hp,separator:oe(hp),bracket:Va,angleBracket:oe(Va),squareBracket:oe(Va),paren:oe(Va),brace:oe(Va),content:Yi,heading:Ds,heading1:oe(Ds),heading2:oe(Ds),heading3:oe(Ds),heading4:oe(Ds),heading5:oe(Ds),heading6:oe(Ds),contentSeparator:oe(Yi),list:oe(Yi),quote:oe(Yi),emphasis:oe(Yi),strong:oe(Yi),link:oe(Yi),monospace:oe(Yi),strikethrough:oe(Yi),inserted:oe(),deleted:oe(),changed:oe(),invalid:oe(),meta:qc,documentMeta:oe(qc),annotation:oe(qc),processingInstruction:oe(qc),definition:bi.defineModifier("definition"),constant:bi.defineModifier("constant"),function:bi.defineModifier("function"),standard:bi.defineModifier("standard"),local:bi.defineModifier("local"),special:bi.defineModifier("special")};for(let n in L){let e=L[n];e instanceof bi&&(e.name=n)}tx([{tag:L.link,class:"tok-link"},{tag:L.heading,class:"tok-heading"},{tag:L.emphasis,class:"tok-emphasis"},{tag:L.strong,class:"tok-strong"},{tag:L.keyword,class:"tok-keyword"},{tag:L.atom,class:"tok-atom"},{tag:L.bool,class:"tok-bool"},{tag:L.url,class:"tok-url"},{tag:L.labelName,class:"tok-labelName"},{tag:L.inserted,class:"tok-inserted"},{tag:L.deleted,class:"tok-deleted"},{tag:L.literal,class:"tok-literal"},{tag:L.string,class:"tok-string"},{tag:L.number,class:"tok-number"},{tag:[L.regexp,L.escape,L.special(L.string)],class:"tok-string2"},{tag:L.variableName,class:"tok-variableName"},{tag:L.local(L.variableName),class:"tok-variableName tok-local"},{tag:L.definition(L.variableName),class:"tok-variableName tok-definition"},{tag:L.special(L.variableName),class:"tok-variableName2"},{tag:L.definition(L.propertyName),class:"tok-propertyName tok-definition"},{tag:L.typeName,class:"tok-typeName"},{tag:L.namespace,class:"tok-namespace"},{tag:L.className,class:"tok-className"},{tag:L.macroName,class:"tok-macroName"},{tag:L.propertyName,class:"tok-propertyName"},{tag:L.operator,class:"tok-operator"},{tag:L.comment,class:"tok-comment"},{tag:L.meta,class:"tok-meta"},{tag:L.invalid,class:"tok-invalid"},{tag:L.punctuation,class:"tok-punctuation"}]);var Mu;const Uo=new nt;function nx(n){return Oe.define({combine:n?e=>e.concat(n):void 0})}const Ig=new nt;class Bi{constructor(e,t,i=[],r=""){this.data=e,this.name=r,gt.prototype.hasOwnProperty("tree")||Object.defineProperty(gt.prototype,"tree",{get(){return un(this)}}),this.parser=t,this.extension=[_s.of(this),gt.languageData.of((s,o,a)=>{let l=u0(s,o,a),c=l.type.prop(Uo);if(!c)return[];let h=s.facet(c),f=l.type.prop(Ig);if(f){let u=l.resolve(o-l.from,a);for(let d of f)if(d.test(u,s)){let g=s.facet(d.facet);return d.type=="replace"?g:g.concat(h)}}return h})].concat(i)}isActiveAt(e,t,i=-1){return u0(e,t,i).type.prop(Uo)==this.data}findRegions(e){let t=e.facet(_s);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],r=(s,o)=>{if(s.prop(Uo)==this.data){i.push({from:o,to:o+s.length});return}let a=s.prop(nt.mounted);if(a){if(a.tree.prop(Uo)==this.data){if(a.overlay)for(let l of a.overlay)i.push({from:l.from+o,to:l.to+o});else i.push({from:o,to:o+s.length});return}else if(a.overlay){let l=i.length;if(r(a.tree,a.overlay[0].from+o),i.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof rn&&r(c,s.positions[l]+o)}};return r(un(e),0),i}get allowsNesting(){return!0}}Bi.setState=Ve.define();function u0(n,e,t){let i=n.facet(_s),r=un(n).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,t,fn.ExcludeBuffers))s.type.isTop&&(r=s);return r}class Gh extends Bi{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=nx(e.languageData);return new Gh(t,e.parser.configure({props:[Uo.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new Gh(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function un(n){let e=n.field(Bi.state,!1);return e?e.tree:rn.empty}class S3{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let za=null;class Fh{constructor(e,t,i=[],r,s,o,a,l){this.parser=e,this.state=t,this.fragments=i,this.tree=r,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new Fh(e,t,[],rn.empty,0,i,[],null)}startParse(){return this.parser.startParse(new S3(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=rn.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(no.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(no.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=za;za=this;try{return e()}finally{za=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=d0(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:r,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,h,f,u)=>l.push({fromA:c,toA:h,fromB:f,toB:u})),i=no.applyChanges(i,l),r=rn.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let h=e.mapPos(c.from,1),f=e.mapPos(c.to,-1);h<f&&a.push({from:h,to:f})}}}return new Fh(this.parser,t,i,r,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:s}=this.skipped[i];r<e.to&&s>e.from&&(this.fragments=d0(this.fragments,r,s),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Kv{createParse(t,i,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let l=za;if(l){for(let c of r)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new rn(ti.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return za}}function d0(n,e,t){return no.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class ma{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new ma(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=Fh.create(e.facet(_s).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new ma(i)}}Bi.state=On.define({create:ma.init,update(n,e){for(let t of e.effects)if(t.is(Bi.setState))return t.value;return e.startState.facet(_s)!=e.state.facet(_s)?ma.init(e.state):n.apply(e)}});let ix=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(ix=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Zu=typeof navigator<"u"&&(!((Mu=navigator.scheduling)===null||Mu===void 0)&&Mu.isInputPending)?()=>navigator.scheduling.isInputPending():null,k3=on.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Bi.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Bi.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=ix(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,s=i.field(Bi.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Zu?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<r&&i.doc.length>r+1e3,l=s.context.work(()=>Zu&&Zu()||Date.now()>o,r+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Bi.setState.of(new ma(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Hn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),_s=Oe.define({combine(n){return n.length?n[0]:null},enables:n=>[Bi.state,k3,de.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class $3{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const Q3=Oe.define(),jf=Oe.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function Hh(n){let e=n.facet(jf);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Rl(n,e){let t="",i=n.tabSize,r=n.facet(jf)[0];if(r=="	"){for(;e>=i;)t+="	",e-=i;r=" "}for(let s=0;s<e;s++)t+=r;return t}function jg(n,e){n instanceof gt&&(n=new Bf(n));for(let i of n.state.facet(Q3)){let r=i(n,e);if(r!==void 0)return r}let t=un(n.state);return t.length>=e?P3(n,t,e):null}class Bf{constructor(e,t={}){this.state=e,this.options=t,this.unit=Hh(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return r!=null&&r>=i.from&&r<=i.to?s&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,t);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.countColumn(i,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return Pa(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(r);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const rx=new nt;function P3(n,e,t){let i=e.resolveStack(t),r=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(r!=i.node){let s=[];for(let o=r;o&&!(o.from==i.node.from&&o.type==i.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)i={node:s[o],next:i}}return sx(i,n,t)}function sx(n,e,t){for(let i=n;i;i=i.next){let r=A3(i.node);if(r)return r(Bg.create(e,t,i))}return 0}function _3(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function A3(n){let e=n.type.prop(rx);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(nt.closedBy))){let r=n.lastChild,s=r&&i.indexOf(r.name)>-1;return o=>ox(o,!0,1,void 0,s&&!_3(o)?r.from:void 0)}return n.parent==null?E3:null}function E3(){return 0}class Bg extends Bf{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new Bg(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(T3(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return sx(this.context.next,this.base,this.pos)}}function T3(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function C3(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let r=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=r==null||r<=s.from?s.to:Math.min(s.to,r);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==i)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+c}}a=l.to}}function M3({closing:n,align:e=!0,units:t=1}){return i=>ox(i,e,t,n)}function ox(n,e,t,i,r){let s=n.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||r==n.pos+o,l=e?C3(n):null;return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}const Z3=n=>n.baseIndent;function Ru({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const R3=200;function I3(){return gt.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,r=t.lineAt(i);if(i>r.from+R3)return n;let s=t.sliceString(r.from,i);if(!e.some(c=>c.test(s)))return n;let{state:o}=n,a=-1,l=[];for(let{head:c}of o.selection.ranges){let h=o.doc.lineAt(c);if(h.from==a)continue;a=h.from;let f=jg(o,h.from);if(f==null)continue;let u=/^\s*/.exec(h.text)[0],d=Rl(o,f);u!=d&&l.push({from:h.from,to:h.from+u.length,insert:d})}return l.length?[n,{changes:l,sequential:!0}]:n})}const j3=Oe.define(),ax=new nt;function B3(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function D3(n,e,t){let i=un(n);if(i.length<t)return null;let r=i.resolveStack(t,1),s=null;for(let o=r;o;o=o.next){let a=o.node;if(a.to<=t||a.from>t)continue;if(s&&a.from<e)break;let l=a.type.prop(ax);if(l&&(a.to<i.length-50||i.length==n.doc.length||!L3(a))){let c=l(a,n);c&&c.from<=t&&c.from>=e&&c.to>t&&(s=c)}}return s}function L3(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function Kh(n,e,t){for(let i of n.facet(j3)){let r=i(n,e,t);if(r)return r}return D3(n,e,t)}function lx(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const Df=Ve.define({map:lx}),tc=Ve.define({map:lx});function cx(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const go=On.define({create(){return Ee.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(Df)&&!q3(n,t.value.from,t.value.to)){let{preparePlaceholder:i}=e.state.facet(ux),r=i?Ee.replace({widget:new Y3(i(e.state,t.value))}):p0;n=n.update({add:[r.range(t.value.from,t.value.to)]})}else t.is(tc)&&(n=n.update({filter:(i,r)=>t.value.from!=i||t.value.to!=r,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:i}=e.selection.main;n.between(i,i,(r,s)=>{r<i&&s>i&&(t=!0)}),t&&(n=n.update({filterFrom:i,filterTo:i,filter:(r,s)=>s<=i||r>=i}))}return n},provide:n=>de.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(i,r)=>{t.push(i,r)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let i=n[t++],r=n[t++];if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");e.push(p0.range(i,r))}return Ee.set(e,!0)}});function Jh(n,e,t){var i;let r=null;return(i=n.field(go,!1))===null||i===void 0||i.between(e,t,(s,o)=>{(!r||r.from>s)&&(r={from:s,to:o})}),r}function q3(n,e,t){let i=!1;return n.between(e,e,(r,s)=>{r==e&&s==t&&(i=!0)}),i}function hx(n,e){return n.field(go,!1)?e:e.concat(Ve.appendConfig.of(dx()))}const N3=n=>{for(let e of cx(n)){let t=Kh(n.state,e.from,e.to);if(t)return n.dispatch({effects:hx(n.state,[Df.of(t),fx(n,t)])}),!0}return!1},U3=n=>{if(!n.state.field(go,!1))return!1;let e=[];for(let t of cx(n)){let i=Jh(n.state,t.from,t.to);i&&e.push(tc.of(i),fx(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function fx(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,r=n.state.doc.lineAt(e.to).number;return de.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${r}.`)}const X3=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let r=n.lineBlockAt(i),s=Kh(e,r.from,r.to);s&&t.push(Df.of(s)),i=(s?n.lineBlockAt(s.to):r).to+1}return t.length&&n.dispatch({effects:hx(n.state,t)}),!!t.length},V3=n=>{let e=n.state.field(go,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,r)=>{t.push(tc.of({from:i,to:r}))}),n.dispatch({effects:t}),!0},z3=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:N3},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:U3},{key:"Ctrl-Alt-[",run:X3},{key:"Ctrl-Alt-]",run:V3}],W3={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},ux=Oe.define({combine(n){return gr(n,W3)}});function dx(n){return[go,H3]}function px(n,e){let{state:t}=n,i=t.facet(ux),r=o=>{let a=n.lineBlockAt(n.posAtDOM(o.target)),l=Jh(n.state,a.from,a.to);l&&n.dispatch({effects:tc.of(l)}),o.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(n,r,e);let s=document.createElement("span");return s.textContent=i.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=r,s}const p0=Ee.replace({widget:new class extends Fr{toDOM(n){return px(n,null)}}});class Y3 extends Fr{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return px(e,this.value)}}const G3={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Iu extends zr{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function F3(n={}){let e=Object.assign(Object.assign({},G3),n),t=new Iu(e,!0),i=new Iu(e,!1),r=on.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(_s)!=o.state.facet(_s)||o.startState.field(go,!1)!=o.state.field(go,!1)||un(o.startState)!=un(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new Xr;for(let l of o.viewportLineBlocks){let c=Jh(o.state,l.from,l.to)?i:Kh(o.state,l.from,l.to)?t:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:s}=e;return[r,FT({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(r))===null||a===void 0?void 0:a.markers)||dt.empty},initialSpacer(){return new Iu(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let c=Jh(o.state,a.from,a.to);if(c)return o.dispatch({effects:tc.of(c)}),!0;let h=Kh(o.state,a.from,a.to);return h?(o.dispatch({effects:Df.of(h)}),!0):!1}})}),dx()]}const H3=de.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class nc{constructor(e,t){this.specs=e;let i;function r(a){let l=ks.newName();return(i||(i=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?r(t.all):void 0,o=t.scope;this.scope=o instanceof Bi?a=>a.prop(Uo)==o.data:o?a=>a==o:void 0,this.style=tx(e.map(a=>({tag:a.tag,class:a.class||r(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=i?new ks(i):null,this.themeType=t.themeType}static define(e,t){return new nc(e,t||{})}}const fp=Oe.define(),gx=Oe.define({combine(n){return n.length?[n[0]]:null}});function ju(n){let e=n.facet(fp);return e.length?e:n.facet(gx)}function Ox(n,e){let t=[J3],i;return n instanceof nc&&(n.module&&t.push(de.styleModule.of(n.module)),i=n.themeType),e!=null&&e.fallback?t.push(gx.of(n)):i?t.push(fp.computeN([de.darkTheme],r=>r.facet(de.darkTheme)==(i=="dark")?[n]:[])):t.push(fp.of(n)),t}class K3{constructor(e){this.markCache=Object.create(null),this.tree=un(e.state),this.decorations=this.buildDeco(e,ju(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=un(e.state),i=ju(e.state),r=i!=ju(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!r&&t.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return Ee.none;let i=new Xr;for(let{from:r,to:s}of e.visibleRanges)v3(this.tree,t,(o,a,l)=>{i.add(o,a,this.markCache[l]||(this.markCache[l]=Ee.mark({class:l})))},r,s);return i.finish()}}const J3=As.high(on.fromClass(K3,{decorations:n=>n.decorations})),eC=nc.define([{tag:L.meta,color:"#404740"},{tag:L.link,textDecoration:"underline"},{tag:L.heading,textDecoration:"underline",fontWeight:"bold"},{tag:L.emphasis,fontStyle:"italic"},{tag:L.strong,fontWeight:"bold"},{tag:L.strikethrough,textDecoration:"line-through"},{tag:L.keyword,color:"#708"},{tag:[L.atom,L.bool,L.url,L.contentSeparator,L.labelName],color:"#219"},{tag:[L.literal,L.inserted],color:"#164"},{tag:[L.string,L.deleted],color:"#a11"},{tag:[L.regexp,L.escape,L.special(L.string)],color:"#e40"},{tag:L.definition(L.variableName),color:"#00f"},{tag:L.local(L.variableName),color:"#30a"},{tag:[L.typeName,L.namespace],color:"#085"},{tag:L.className,color:"#167"},{tag:[L.special(L.variableName),L.macroName],color:"#256"},{tag:L.definition(L.propertyName),color:"#00c"},{tag:L.comment,color:"#940"},{tag:L.invalid,color:"#f00"}]),tC=de.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),mx=1e4,yx="()[]{}",bx=Oe.define({combine(n){return gr(n,{afterCursor:!0,brackets:yx,maxScanDistance:mx,renderMatch:rC})}}),nC=Ee.mark({class:"cm-matchingBracket"}),iC=Ee.mark({class:"cm-nonmatchingBracket"});function rC(n){let e=[],t=n.matched?nC:iC;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const sC=On.define({create(){return Ee.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(bx);for(let r of e.state.selection.ranges){if(!r.empty)continue;let s=ir(e.state,r.head,-1,i)||r.head>0&&ir(e.state,r.head-1,1,i)||i.afterCursor&&(ir(e.state,r.head,1,i)||r.head<e.state.doc.length&&ir(e.state,r.head+1,-1,i));s&&(t=t.concat(i.renderMatch(s,e.state)))}return Ee.set(t,!0)},provide:n=>de.decorations.from(n)}),oC=[sC,tC];function aC(n={}){return[bx.of(n),oC]}const lC=new nt;function up(n,e,t){let i=n.prop(e<0?nt.openedBy:nt.closedBy);if(i)return i;if(n.name.length==1){let r=t.indexOf(n.name);if(r>-1&&r%2==(e<0?1:0))return[t[r+e]]}return null}function dp(n){let e=n.type.prop(lC);return e?e(n.node):n}function ir(n,e,t,i={}){let r=i.maxScanDistance||mx,s=i.brackets||yx,o=un(n),a=o.resolveInner(e,t);for(let l=a;l;l=l.parent){let c=up(l.type,t,s);if(c&&l.from<l.to){let h=dp(l);if(h&&(t>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return cC(n,e,t,l,h,c,s)}}return hC(n,e,t,o,a.type,r,s)}function cC(n,e,t,i,r,s,o){let a=i.parent,l={from:r.from,to:r.to},c=0,h=a==null?void 0:a.cursor();if(h&&(t<0?h.childBefore(i.from):h.childAfter(i.to)))do if(t<0?h.to<=i.from:h.from>=i.to){if(c==0&&s.indexOf(h.type.name)>-1&&h.from<h.to){let f=dp(h);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(up(h.type,t,o))c++;else if(up(h.type,-t,o)){if(c==0){let f=dp(h);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}c--}}while(t<0?h.prevSibling():h.nextSibling());return{start:l,matched:!1}}function hC(n,e,t,i,r,s,o){let a=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},h=n.doc.iterRange(e,t>0?n.doc.length:0),f=0;for(let u=0;!h.next().done&&u<=s;){let d=h.value;t<0&&(u+=d.length);let g=e+u*t;for(let m=t>0?0:d.length-1,O=t>0?d.length:-1;m!=O;m+=t){let b=o.indexOf(d[m]);if(!(b<0||i.resolveInner(g+m,1).type!=r))if(b%2==0==t>0)f++;else{if(f==1)return{start:c,end:{from:g+m,to:g+m+1},matched:b>>1==l>>1};f--}}t>0&&(u+=d.length)}return h.done?{start:c,matched:!1}:null}const fC=Object.create(null),g0=[ti.none],O0=[],m0=Object.create(null),uC=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])uC[n]=dC(fC,e);function Bu(n,e){O0.indexOf(n)>-1||(O0.push(n),console.warn(e))}function dC(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let h=n[c]||L[c];h?typeof h=="function"?l.length?l=l.map(h):Bu(c,`Modifier ${c} used at start of tag`):l.length?Bu(c,`Tag ${c} used as modifier`):l=Array.isArray(h)?h:[h]:Bu(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+t.map(a=>a.id),s=m0[r];if(s)return s.id;let o=m0[r]=ti.define({id:g0.length,name:i,props:[Jv({[i]:t})]});return g0.push(o),o.id}It.RTL,It.LTR;const pC=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),i=Lg(n.state,t.from);return i.line?gC(n):i.block?mC(n):!1};function Dg(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let r=n(e,t);return r?(i(t.update(r)),!0):!1}}const gC=Dg(vC,0),OC=Dg(vx,0),mC=Dg((n,e)=>vx(n,e,bC(e)),0);function Lg(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const Wa=50;function yC(n,{open:e,close:t},i,r){let s=n.sliceDoc(i-Wa,i),o=n.sliceDoc(r,r+Wa),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+t.length)==t)return{open:{pos:i-a,margin:a&&1},close:{pos:r+l,margin:l&&1}};let h,f;r-i<=2*Wa?h=f=n.sliceDoc(i,r):(h=n.sliceDoc(i,i+Wa),f=n.sliceDoc(r-Wa,r));let u=/^\s*/.exec(h)[0].length,d=/\s*$/.exec(f)[0].length,g=f.length-d-t.length;return h.slice(u,u+e.length)==e&&f.slice(g,g+t.length)==t?{open:{pos:i+u+e.length,margin:/\s/.test(h.charAt(u+e.length))?1:0},close:{pos:r-d-t.length,margin:/\s/.test(f.charAt(g-1))?1:0}}:null}function bC(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),r=t.to<=i.to?i:n.doc.lineAt(t.to);r.from>i.from&&r.from==t.to&&(r=t.to==i.to+1?i:n.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}function vx(n,e,t=e.selection.ranges){let i=t.map(s=>Lg(e,s.from).block);if(!i.every(s=>s))return null;let r=t.map((s,o)=>yC(e,i[o],s.from,s.to));if(n!=2&&!r.every(s=>s))return{changes:e.changes(t.map((s,o)=>r[o]?[]:[{from:s.from,insert:i[o].open+" "},{from:s.to,insert:" "+i[o].close}]))};if(n!=1&&r.some(s=>s)){let s=[];for(let o=0,a;o<r.length;o++)if(a=r[o]){let l=i[o],{open:c,close:h}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:h.pos-h.margin,to:h.pos+l.close.length})}return{changes:s}}return null}function vC(n,e,t=e.selection.ranges){let i=[],r=-1;for(let{from:s,to:o}of t){let a=i.length,l=1e9,c=Lg(e,s).line;if(c){for(let h=s;h<=o;){let f=e.doc.lineAt(h);if(f.from>r&&(s==o||o>f.from)){r=f.from;let u=/^\s*/.exec(f.text)[0].length,d=u==f.length,g=f.text.slice(u,u+c.length)==c?u:-1;u<f.text.length&&u<l&&(l=u),i.push({line:f,comment:g,token:c,indent:u,empty:d,single:!1})}h=f.to+1}if(l<1e9)for(let h=a;h<i.length;h++)i[h].indent<i[h].line.text.length&&(i[h].indent=l);i.length==a+1&&(i[a].single=!0)}}if(n!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:h,single:f}of i)(f||!h)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of i)if(a>=0){let c=o.from+a,h=c+l.length;o.text[h-o.from]==" "&&h++,s.push({from:c,to:h})}return{changes:s}}return null}const pp=Gr.define(),xC=Gr.define(),wC=Oe.define(),xx=Oe.define({combine(n){return gr(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,r)=>e(i,r)||t(i,r)})}}),wx=On.define({create(){return rr.empty},update(n,e){let t=e.state.facet(xx),i=e.annotation(pp);if(i){let l=Kn.fromTransaction(e,i.selection),c=i.side,h=c==0?n.undone:n.done;return l?h=ef(h,h.length,t.minDepth,l):h=$x(h,e.startState.selection),new rr(c==0?i.rest:h,c==0?h:i.rest)}let r=e.annotation(xC);if((r=="full"||r=="before")&&(n=n.isolate()),e.annotation(nn.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=Kn.fromTransaction(e),o=e.annotation(nn.time),a=e.annotation(nn.userEvent);return s?n=n.addChanges(s,o,a,t,e):e.selection&&(n=n.addSelection(e.startState.selection,o,a,t.newGroupDelay)),(r=="full"||r=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new rr(n.done.map(Kn.fromJSON),n.undone.map(Kn.fromJSON))}});function SC(n={}){return[wx,xx.of(n),de.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?Sx:e.inputType=="historyRedo"?gp:null;return i?(e.preventDefault(),i(t)):!1}})]}function Lf(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let r=t.field(wx,!1);if(!r)return!1;let s=r.pop(n,t,e);return s?(i(s),!0):!1}}const Sx=Lf(0,!1),gp=Lf(1,!1),kC=Lf(0,!0),$C=Lf(1,!0);class Kn{constructor(e,t,i,r,s){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=r,this.selectionsAfter=s}setSelAfter(e){return new Kn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new Kn(e.changes&&hn.fromJSON(e.changes),[],e.mapped&&lr.fromJSON(e.mapped),e.startSelection&&Y.fromJSON(e.startSelection),e.selectionsAfter.map(Y.fromJSON))}static fromTransaction(e,t){let i=vi;for(let r of e.startState.facet(wC)){let s=r(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new Kn(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,vi)}static selection(e){return new Kn(void 0,vi,void 0,void 0,e)}}function ef(n,e,t,i){let r=e+1>t+20?e-t-1:0,s=n.slice(r,e);return s.push(i),s}function QC(n,e){let t=[],i=!1;return n.iterChangedRanges((r,s)=>t.push(r,s)),e.iterChangedRanges((r,s,o,a)=>{for(let l=0;l<t.length;){let c=t[l++],h=t[l++];a>=c&&o<=h&&(i=!0)}}),i}function PC(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function kx(n,e){return n.length?e.length?n.concat(e):n:e}const vi=[],_C=200;function $x(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-_C));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),ef(n,n.length-1,1e9,t.setSelAfter(i)))}else return[Kn.selection([e])]}function AC(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Du(n,e){if(!n.length)return n;let t=n.length,i=vi;for(;t;){let r=EC(n[t-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let s=n.slice(0,t);return s[t-1]=r,s}else e=r.mapped,t--,i=r.selectionsAfter}return i.length?[Kn.selection(i)]:vi}function EC(n,e,t){let i=kx(n.selectionsAfter.length?n.selectionsAfter.map(a=>a.map(e)):vi,t);if(!n.changes)return Kn.selection(i);let r=n.changes.map(e),s=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(s):s;return new Kn(r,Ve.mapEffects(n.effects,e),o,n.startSelection.map(s),i)}const TC=/^(input\.type|delete)($|\.)/;class rr{constructor(e,t,i=0,r=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new rr(this.done,this.undone):this}addChanges(e,t,i,r,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!i||TC.test(i))&&(!a.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(s,QC(a.changes,e.changes))||i=="input.type.compose")?o=ef(o,o.length-1,r.minDepth,new Kn(e.changes.compose(a.changes),kx(Ve.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,vi)):o=ef(o,o.length,r.minDepth,e),new rr(o,vi,t,i)}addSelection(e,t,i,r){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:vi;return s.length>0&&t-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&PC(s[s.length-1],e)?this:new rr($x(this.done,e),this.undone,t,i)}addMapping(e){return new rr(Du(this.done,e),Du(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let s=r[r.length-1],o=s.selectionsAfter[0]||t.selection;if(i&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:pp.of({side:e,rest:AC(r),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=r.length==1?vi:r.slice(0,r.length-1);return s.mapped&&(a=Du(a,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:pp.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}rr.empty=new rr(vi,vi);const CC=[{key:"Mod-z",run:Sx,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:gp,preventDefault:!0},{linux:"Ctrl-Shift-z",run:gp,preventDefault:!0},{key:"Mod-u",run:kC,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:$C,preventDefault:!0}];function _a(n,e){return Y.create(n.ranges.map(e),n.mainIndex)}function Or(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ni({state:n,dispatch:e},t){let i=_a(n.selection,t);return i.eq(n.selection,!0)?!1:(e(Or(n,i)),!0)}function qf(n,e){return Y.cursor(e?n.to:n.from)}function Qx(n,e){return Ni(n,t=>t.empty?n.moveByChar(t,e):qf(t,e))}function Mn(n){return n.textDirectionAt(n.state.selection.main.head)==It.LTR}const Px=n=>Qx(n,!Mn(n)),_x=n=>Qx(n,Mn(n));function Ax(n,e){return Ni(n,t=>t.empty?n.moveByGroup(t,e):qf(t,e))}const MC=n=>Ax(n,!Mn(n)),ZC=n=>Ax(n,Mn(n));function RC(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Nf(n,e,t){let i=un(n).resolveInner(e.head),r=t?nt.closedBy:nt.openedBy;for(let l=e.head;;){let c=t?i.childAfter(l):i.childBefore(l);if(!c)break;RC(n,c,r)?i=c:l=t?c.to:c.from}let s=i.type.prop(r),o,a;return s&&(o=t?ir(n,i.from,1):ir(n,i.to,-1))&&o.matched?a=t?o.end.to:o.end.from:a=t?i.to:i.from,Y.cursor(a,t?-1:1)}const IC=n=>Ni(n,e=>Nf(n.state,e,!Mn(n))),jC=n=>Ni(n,e=>Nf(n.state,e,Mn(n)));function Ex(n,e){return Ni(n,t=>{if(!t.empty)return qf(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const Tx=n=>Ex(n,!1),Cx=n=>Ex(n,!0);function Mx(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,i=0,r;if(e){for(let s of n.state.facet(de.scrollMargins)){let o=s(n);o!=null&&o.top&&(t=Math.max(o==null?void 0:o.top,t)),o!=null&&o.bottom&&(i=Math.max(o==null?void 0:o.bottom,i))}r=n.scrollDOM.clientHeight-t-i}else r=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,r-5)}}function Zx(n,e){let t=Mx(n),{state:i}=n,r=_a(i.selection,o=>o.empty?n.moveVertically(o,e,t.height):qf(o,e));if(r.eq(i.selection))return!1;let s;if(t.selfScroll){let o=n.coordsAtPos(i.selection.main.head),a=n.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,c=a.bottom-t.marginBottom;o&&o.top>l&&o.bottom<c&&(s=de.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-l}))}return n.dispatch(Or(i,r),{effects:s}),!0}const y0=n=>Zx(n,!1),Op=n=>Zx(n,!0);function Es(n,e,t){let i=n.lineBlockAt(e.head),r=n.moveToLineBoundary(e,t);if(r.head==e.head&&r.head!=(t?i.to:i.from)&&(r=n.moveToLineBoundary(e,t,!1)),!t&&r.head==i.from&&i.length){let s=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(r=Y.cursor(i.from+s))}return r}const BC=n=>Ni(n,e=>Es(n,e,!0)),DC=n=>Ni(n,e=>Es(n,e,!1)),LC=n=>Ni(n,e=>Es(n,e,!Mn(n))),qC=n=>Ni(n,e=>Es(n,e,Mn(n))),NC=n=>Ni(n,e=>Y.cursor(n.lineBlockAt(e.head).from,1)),UC=n=>Ni(n,e=>Y.cursor(n.lineBlockAt(e.head).to,-1));function XC(n,e,t){let i=!1,r=_a(n.selection,s=>{let o=ir(n,s.head,-1)||ir(n,s.head,1)||s.head>0&&ir(n,s.head-1,1)||s.head<n.doc.length&&ir(n,s.head+1,-1);if(!o||!o.end)return s;i=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return Y.cursor(a)});return i?(e(Or(n,r)),!0):!1}const VC=({state:n,dispatch:e})=>XC(n,e);function Pi(n,e){let t=_a(n.state.selection,i=>{let r=e(i);return Y.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Or(n.state,t)),!0)}function Rx(n,e){return Pi(n,t=>n.moveByChar(t,e))}const Ix=n=>Rx(n,!Mn(n)),jx=n=>Rx(n,Mn(n));function Bx(n,e){return Pi(n,t=>n.moveByGroup(t,e))}const zC=n=>Bx(n,!Mn(n)),WC=n=>Bx(n,Mn(n)),YC=n=>Pi(n,e=>Nf(n.state,e,!Mn(n))),GC=n=>Pi(n,e=>Nf(n.state,e,Mn(n)));function Dx(n,e){return Pi(n,t=>n.moveVertically(t,e))}const Lx=n=>Dx(n,!1),qx=n=>Dx(n,!0);function Nx(n,e){return Pi(n,t=>n.moveVertically(t,e,Mx(n).height))}const b0=n=>Nx(n,!1),v0=n=>Nx(n,!0),FC=n=>Pi(n,e=>Es(n,e,!0)),HC=n=>Pi(n,e=>Es(n,e,!1)),KC=n=>Pi(n,e=>Es(n,e,!Mn(n))),JC=n=>Pi(n,e=>Es(n,e,Mn(n))),e6=n=>Pi(n,e=>Y.cursor(n.lineBlockAt(e.head).from)),t6=n=>Pi(n,e=>Y.cursor(n.lineBlockAt(e.head).to)),x0=({state:n,dispatch:e})=>(e(Or(n,{anchor:0})),!0),w0=({state:n,dispatch:e})=>(e(Or(n,{anchor:n.doc.length})),!0),S0=({state:n,dispatch:e})=>(e(Or(n,{anchor:n.selection.main.anchor,head:0})),!0),k0=({state:n,dispatch:e})=>(e(Or(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),n6=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),i6=({state:n,dispatch:e})=>{let t=Uf(n).map(({from:i,to:r})=>Y.range(i,Math.min(r+1,n.doc.length)));return e(n.update({selection:Y.create(t),userEvent:"select"})),!0},r6=({state:n,dispatch:e})=>{let t=_a(n.selection,i=>{let r=un(n),s=r.resolveStack(i.from,1);if(i.empty){let o=r.resolveStack(i.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<i.from&&a.to>=i.to||a.to>i.to&&a.from<=i.from)&&o.next)return Y.range(a.to,a.from)}return i});return t.eq(n.selection)?!1:(e(Or(n,t)),!0)},s6=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=Y.create([t.main]):t.main.empty||(i=Y.create([Y.cursor(t.main.head)])),i?(e(Or(n,i)),!0):!1};function ic(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,r=i.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(t="delete.backward",l=Nc(n,l,!1)):l>o&&(t="delete.forward",l=Nc(n,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=Nc(n,o,!1),a=Nc(n,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:Y.cursor(o,o<s.head?-1:1)}});return r.changes.empty?!1:(n.dispatch(i.update(r,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?de.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function Nc(n,e,t){if(n instanceof de)for(let i of n.state.facet(de.atomicRanges).map(r=>r(n)))i.between(e,e,(r,s)=>{r<e&&s>e&&(e=t?s:r)});return e}const Ux=(n,e,t)=>ic(n,i=>{let r=i.from,{state:s}=n,o=s.doc.lineAt(r),a,l;if(t&&!e&&r>o.from&&r<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,r-o.from))){if(a[a.length-1]=="	")return r-1;let c=Pa(a,s.tabSize),h=c%Hh(s)||Hh(s);for(let f=0;f<h&&a[a.length-1-f]==" ";f++)r--;l=r}else l=wn(o.text,r-o.from,e,e)+o.from,l==r&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,r-o.from))&&(l=wn(o.text,l-o.from,!1,!1)+o.from);return l}),mp=n=>Ux(n,!1,!0),Xx=n=>Ux(n,!0,!1),Vx=(n,e)=>ic(n,t=>{let i=t.head,{state:r}=n,s=r.doc.lineAt(i),o=r.charCategorizer(i);for(let a=null;;){if(i==(e?s.to:s.from)){i==t.head&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let l=wn(s.text,i-s.from,e)+s.from,c=s.text.slice(Math.min(i,l)-s.from,Math.max(i,l)-s.from),h=o(c);if(a!=null&&h!=a)break;(c!=" "||i!=t.head)&&(a=h),i=l}return i}),zx=n=>Vx(n,!1),o6=n=>Vx(n,!0),a6=n=>ic(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),l6=n=>ic(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),c6=n=>ic(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),h6=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:mt.of(["",""])},range:Y.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},f6=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let r=i.from,s=n.doc.lineAt(r),o=r==s.from?r-1:wn(s.text,r-s.from,!1)+s.from,a=r==s.to?r+1:wn(s.text,r-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:n.doc.slice(r,a).append(n.doc.slice(o,r))},range:Y.cursor(a)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Uf(n){let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.from),s=n.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=n.doc.lineAt(i.to-1)),t>=r.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});t=s.number+1}return e}function Wx(n,e,t){if(n.readOnly)return!1;let i=[],r=[];for(let s of Uf(n)){if(t?s.to==n.doc.length:s.from==0)continue;let o=n.doc.lineAt(t?s.to+1:s.from-1),a=o.length+1;if(t){i.push({from:s.to,to:o.to},{from:s.from,insert:o.text+n.lineBreak});for(let l of s.ranges)r.push(Y.range(Math.min(n.doc.length,l.anchor+a),Math.min(n.doc.length,l.head+a)))}else{i.push({from:o.from,to:s.from},{from:s.to,insert:n.lineBreak+o.text});for(let l of s.ranges)r.push(Y.range(l.anchor-a,l.head-a))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:Y.create(r,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const u6=({state:n,dispatch:e})=>Wx(n,e,!1),d6=({state:n,dispatch:e})=>Wx(n,e,!0);function Yx(n,e,t){if(n.readOnly)return!1;let i=[];for(let r of Uf(n))t?i.push({from:r.from,insert:n.doc.slice(r.from,r.to)+n.lineBreak}):i.push({from:r.to,insert:n.lineBreak+n.doc.slice(r.from,r.to)});return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const p6=({state:n,dispatch:e})=>Yx(n,e,!1),g6=({state:n,dispatch:e})=>Yx(n,e,!0),O6=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Uf(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),i=_a(e.selection,r=>{let s;if(n.lineWrapping){let o=n.lineBlockAt(r.head),a=n.coordsAtPos(r.head,r.assoc||1);a&&(s=o.bottom+n.documentTop-a.bottom+n.defaultLineHeight/2)}return n.moveVertically(r,!0,s)}).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function m6(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=un(n).resolveInner(e),i=t.childBefore(e),r=t.childAfter(e),s;return i&&r&&i.to<=e&&r.from>=e&&(s=i.type.prop(nt.closedBy))&&s.indexOf(r.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(r.from).from&&!/\S/.test(n.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}const $0=Gx(!1),y6=Gx(!0);function Gx(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:s,to:o}=r,a=e.doc.lineAt(s),l=!n&&s==o&&m6(e,s);n&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new Bf(e,{simulateBreak:s,simulateDoubleBreak:!!l}),h=jg(c,s);for(h==null&&(h=Pa(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let f=["",Rl(e,h)];return l&&f.push(Rl(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:mt.of(f)},range:Y.cursor(s+1+f[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function qg(n,e){let t=-1;return n.changeByRange(i=>{let r=[];for(let o=i.from;o<=i.to;){let a=n.doc.lineAt(o);a.number>t&&(i.empty||i.to>a.from)&&(e(a,r,i),t=a.number),o=a.to+1}let s=n.changes(r);return{changes:r,range:Y.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const b6=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new Bf(n,{overrideIndentation:s=>{let o=t[s];return o??-1}}),r=qg(n,(s,o,a)=>{let l=jg(i,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],h=Rl(n,l);(c!=h||a.from<s.from+c.length)&&(t[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:h}))});return r.changes.empty||e(n.update(r,{userEvent:"indent"})),!0},v6=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(qg(n,(t,i)=>{i.push({from:t.from,insert:n.facet(jf)})}),{userEvent:"input.indent"})),!0),x6=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(qg(n,(t,i)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let s=Pa(r,n.tabSize),o=0,a=Rl(n,Math.max(0,s-Hh(n)));for(;o<r.length&&o<a.length&&r.charCodeAt(o)==a.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+r.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),w6=n=>(n.setTabFocusMode(),!0),S6=[{key:"Ctrl-b",run:Px,shift:Ix,preventDefault:!0},{key:"Ctrl-f",run:_x,shift:jx},{key:"Ctrl-p",run:Tx,shift:Lx},{key:"Ctrl-n",run:Cx,shift:qx},{key:"Ctrl-a",run:NC,shift:e6},{key:"Ctrl-e",run:UC,shift:t6},{key:"Ctrl-d",run:Xx},{key:"Ctrl-h",run:mp},{key:"Ctrl-k",run:a6},{key:"Ctrl-Alt-h",run:zx},{key:"Ctrl-o",run:h6},{key:"Ctrl-t",run:f6},{key:"Ctrl-v",run:Op}],k6=[{key:"ArrowLeft",run:Px,shift:Ix,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:MC,shift:zC,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:LC,shift:KC,preventDefault:!0},{key:"ArrowRight",run:_x,shift:jx,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:ZC,shift:WC,preventDefault:!0},{mac:"Cmd-ArrowRight",run:qC,shift:JC,preventDefault:!0},{key:"ArrowUp",run:Tx,shift:Lx,preventDefault:!0},{mac:"Cmd-ArrowUp",run:x0,shift:S0},{mac:"Ctrl-ArrowUp",run:y0,shift:b0},{key:"ArrowDown",run:Cx,shift:qx,preventDefault:!0},{mac:"Cmd-ArrowDown",run:w0,shift:k0},{mac:"Ctrl-ArrowDown",run:Op,shift:v0},{key:"PageUp",run:y0,shift:b0},{key:"PageDown",run:Op,shift:v0},{key:"Home",run:DC,shift:HC,preventDefault:!0},{key:"Mod-Home",run:x0,shift:S0},{key:"End",run:BC,shift:FC,preventDefault:!0},{key:"Mod-End",run:w0,shift:k0},{key:"Enter",run:$0,shift:$0},{key:"Mod-a",run:n6},{key:"Backspace",run:mp,shift:mp},{key:"Delete",run:Xx},{key:"Mod-Backspace",mac:"Alt-Backspace",run:zx},{key:"Mod-Delete",mac:"Alt-Delete",run:o6},{mac:"Mod-Backspace",run:l6},{mac:"Mod-Delete",run:c6}].concat(S6.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),$6=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:IC,shift:YC},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:jC,shift:GC},{key:"Alt-ArrowUp",run:u6},{key:"Shift-Alt-ArrowUp",run:p6},{key:"Alt-ArrowDown",run:d6},{key:"Shift-Alt-ArrowDown",run:g6},{key:"Escape",run:s6},{key:"Mod-Enter",run:y6},{key:"Alt-l",mac:"Ctrl-l",run:i6},{key:"Mod-i",run:r6,preventDefault:!0},{key:"Mod-[",run:x6},{key:"Mod-]",run:v6},{key:"Mod-Alt-\\",run:b6},{key:"Shift-Mod-k",run:O6},{key:"Shift-Mod-\\",run:VC},{key:"Mod-/",run:pC},{key:"Alt-A",run:OC},{key:"Ctrl-m",mac:"Shift-Alt-m",run:w6}].concat(k6);function Mt(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];typeof r=="string"?n.setAttribute(i,r):r!=null&&(n[i]=r)}e++}for(;e<arguments.length;e++)Fx(n,arguments[e]);return n}function Fx(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)Fx(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}const Q0=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class ya{constructor(e,t,i=0,r=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=s?a=>s(Q0(a)):Q0,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Yn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Og(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=er(e);let r=this.normalize(t);if(r.length)for(let s=0,o=i;;s++){let a=r.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==r.length-1){if(l)return this.value=l,this;break}o==i&&s<t.length&&t.charCodeAt(s)==a&&o++}}}match(e,t,i){let r=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?r={from:this.matches[s+1],to:i}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:t,to:i}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}typeof Symbol<"u"&&(ya.prototype[Symbol.iterator]=function(){return this});const Hx={from:-1,to:-1,match:/.*/.exec("")},Ng="gm"+(/x/.unicode==null?"":"u");class Kx{constructor(e,t,i,r=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=Hx,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new Jx(e,t,i,r,s);this.re=new RegExp(t,Ng+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let o=e.lineAt(r);this.curLineStart=o.from,this.matchPos=tf(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,r=i+t[0].length;if(this.matchPos=tf(this.text,r+(i==r?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Lu=new WeakMap;class ea{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let r=Lu.get(e);if(!r||r.from>=i||r.to<=t){let a=new ea(t,e.sliceString(t,i));return Lu.set(e,a),a}if(r.from==t&&r.to==i)return r;let{text:s,from:o}=r;return o>t&&(s=e.sliceString(t,o)+s,o=t),r.to<i&&(s+=e.sliceString(r.to,i)),Lu.set(e,new ea(o,s)),new ea(t,s.slice(t-o,i-o))}}class Jx{constructor(e,t,i,r,s){this.text=e,this.to=s,this.done=!1,this.value=Hx,this.matchPos=tf(e,r),this.re=new RegExp(t,Ng+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=ea.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,r=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this.matchPos=tf(this.text,r+(i==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=ea.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Kx.prototype[Symbol.iterator]=Jx.prototype[Symbol.iterator]=function(){return this});function Q6(n){try{return new RegExp(n,Ng),!0}catch{return!1}}function tf(n,e){if(e>=n.length)return e;let t=n.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}function yp(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=Mt("input",{class:"cm-textfield",name:"line",value:e}),i=Mt("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),n.dispatch({effects:nf.of(!1)}),n.focus()):s.keyCode==13&&(s.preventDefault(),r())},onsubmit:s=>{s.preventDefault(),r()}},Mt("label",n.state.phrase("Go to line"),": ",t)," ",Mt("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function r(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:o}=n,a=o.doc.lineAt(o.selection.main.head),[,l,c,h,f]=s,u=h?+h.slice(1):0,d=c?+c:a.number;if(c&&f){let O=d/100;l&&(O=O*(l=="-"?-1:1)+a.number/o.doc.lines),d=Math.round(o.doc.lines*O)}else c&&l&&(d=d*(l=="-"?-1:1)+a.number);let g=o.doc.line(Math.max(1,Math.min(o.doc.lines,d))),m=Y.cursor(g.from+Math.max(0,Math.min(u,g.length)));n.dispatch({effects:[nf.of(!1),de.scrollIntoView(m.from,{y:"center"})],selection:m}),n.focus()}return{dom:i}}const nf=Ve.define(),P0=On.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(nf)&&(n=t.value);return n},provide:n=>Ml.from(n,e=>e?yp:null)}),P6=n=>{let e=Cl(n,yp);if(!e){let t=[nf.of(!0)];n.state.field(P0,!1)==null&&t.push(Ve.appendConfig.of([P0,_6])),n.dispatch({effects:t}),e=Cl(n,yp)}return e&&e.dom.querySelector("input").select(),!0},_6=de.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),A6={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},E6=Oe.define({combine(n){return gr(n,A6,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function T6(n){return[I6,R6]}const C6=Ee.mark({class:"cm-selectionMatch"}),M6=Ee.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function _0(n,e,t,i){return(t==0||n(e.sliceDoc(t-1,t))!=Lt.Word)&&(i==e.doc.length||n(e.sliceDoc(i,i+1))!=Lt.Word)}function Z6(n,e,t,i){return n(e.sliceDoc(t,t+1))==Lt.Word&&n(e.sliceDoc(i-1,i))==Lt.Word}const R6=on.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(E6),{state:t}=n,i=t.selection;if(i.ranges.length>1)return Ee.none;let r=i.main,s,o=null;if(r.empty){if(!e.highlightWordAroundCursor)return Ee.none;let l=t.wordAt(r.head);if(!l)return Ee.none;o=t.charCategorizer(r.head),s=t.sliceDoc(l.from,l.to)}else{let l=r.to-r.from;if(l<e.minSelectionLength||l>200)return Ee.none;if(e.wholeWords){if(s=t.sliceDoc(r.from,r.to),o=t.charCategorizer(r.head),!(_0(o,t,r.from,r.to)&&Z6(o,t,r.from,r.to)))return Ee.none}else if(s=t.sliceDoc(r.from,r.to),!s)return Ee.none}let a=[];for(let l of n.visibleRanges){let c=new ya(t.doc,s,l.from,l.to);for(;!c.next().done;){let{from:h,to:f}=c.value;if((!o||_0(o,t,h,f))&&(r.empty&&h<=r.from&&f>=r.to?a.push(M6.range(h,f)):(h>=r.to||f<=r.from)&&a.push(C6.range(h,f)),a.length>e.maxMatches))return Ee.none}}return Ee.set(a)}},{decorations:n=>n.decorations}),I6=de.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),j6=({state:n,dispatch:e})=>{let{selection:t}=n,i=Y.create(t.ranges.map(r=>n.wordAt(r.head)||Y.cursor(r.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function B6(n,e){let{main:t,ranges:i}=n.selection,r=n.wordAt(t.head),s=r&&r.from==t.from&&r.to==t.to;for(let o=!1,a=new ya(n.doc,e,i[i.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new ya(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}else{if(o&&i.some(l=>l.from==a.value.from))continue;if(s){let l=n.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const D6=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return j6({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=i))return!1;let r=B6(n,i);return r?(e(n.update({selection:n.selection.addRange(Y.range(r.from,r.to),!1),effects:de.scrollIntoView(r.to)})),!0):!1},Aa=Oe.define({combine(n){return gr(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new H6(e),scrollToMatch:e=>de.scrollIntoView(e)})}});class ew{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Q6(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new U6(this):new q6(this)}getCursor(e,t=0,i){let r=e.doc?e:gt.create({doc:e});return i==null&&(i=r.doc.length),this.regexp?jo(this,r,t,i):Io(this,r,t,i)}}class tw{constructor(e){this.spec=e}}function Io(n,e,t,i){return new ya(e.doc,n.unquoted,t,i,n.caseSensitive?void 0:r=>r.toLowerCase(),n.wholeWord?L6(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function L6(n,e){return(t,i,r,s)=>((s>t||s+r.length<i)&&(s=Math.max(0,t-2),r=n.sliceString(s,Math.min(n.length,i+2))),(e(rf(r,t-s))!=Lt.Word||e(sf(r,t-s))!=Lt.Word)&&(e(sf(r,i-s))!=Lt.Word||e(rf(r,i-s))!=Lt.Word))}class q6 extends tw{constructor(e){super(e)}nextMatch(e,t,i){let r=Io(this.spec,e,i,e.doc.length).nextOverlapping();if(r.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);r=Io(this.spec,e,0,s).nextOverlapping()}return r.done||r.value.from==t&&r.value.to==i?null:r.value}prevMatchInRange(e,t,i){for(let r=i;;){let s=Math.max(t,r-1e4-this.spec.unquoted.length),o=Io(this.spec,e,s,r),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==t)return null;r-=1e4}}prevMatch(e,t,i){let r=this.prevMatchInRange(e,0,t);return r||(r=this.prevMatchInRange(e,Math.max(0,i-this.spec.unquoted.length),e.doc.length)),r&&(r.from!=t||r.to!=i)?r:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=Io(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=Io(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}function jo(n,e,t,i){return new Kx(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?N6(e.charCategorizer(e.selection.main.head)):void 0},t,i)}function rf(n,e){return n.slice(wn(n,e,!1),e)}function sf(n,e){return n.slice(e,wn(n,e))}function N6(n){return(e,t,i)=>!i[0].length||(n(rf(i.input,i.index))!=Lt.Word||n(sf(i.input,i.index))!=Lt.Word)&&(n(sf(i.input,i.index+i[0].length))!=Lt.Word||n(rf(i.input,i.index+i[0].length))!=Lt.Word)}class U6 extends tw{nextMatch(e,t,i){let r=jo(this.spec,e,i,e.doc.length).next();return r.done&&(r=jo(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=1;;r++){let s=Math.max(t,i-r*1e4),o=jo(this.spec,e,s,i),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==t||a.from>s+10))return a;if(s==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,i)=>{if(i=="&")return e.match[0];if(i=="$")return"$";for(let r=i.length;r>0;r--){let s=+i.slice(0,r);if(s>0&&s<e.match.length)return e.match[s]+i.slice(r)}return t})}matchAll(e,t){let i=jo(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=jo(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}const Il=Ve.define(),Ug=Ve.define(),ys=On.define({create(n){return new qu(bp(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Il)?n=new qu(t.value.create(),n.panel):t.is(Ug)&&(n=new qu(n.query,t.value?Xg:null));return n},provide:n=>Ml.from(n,e=>e.panel)});class qu{constructor(e,t){this.query=e,this.panel=t}}const X6=Ee.mark({class:"cm-searchMatch"}),V6=Ee.mark({class:"cm-searchMatch cm-searchMatch-selected"}),z6=on.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(ys))}update(n){let e=n.state.field(ys);(e!=n.startState.field(ys)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Ee.none;let{view:t}=this,i=new Xr;for(let r=0,s=t.visibleRanges,o=s.length;r<o;r++){let{from:a,to:l}=s[r];for(;r<o-1&&l>s[r+1].from-2*250;)l=s[++r].to;n.highlight(t.state,a,l,(c,h)=>{let f=t.state.selection.ranges.some(u=>u.from==c&&u.to==h);i.add(c,h,f?V6:X6)})}return i.finish()}},{decorations:n=>n.decorations});function rc(n){return e=>{let t=e.state.field(ys,!1);return t&&t.query.spec.valid?n(e,t):rw(e)}}const of=rc((n,{query:e})=>{let{to:t}=n.state.selection.main,i=e.nextMatch(n.state,t,t);if(!i)return!1;let r=Y.single(i.from,i.to),s=n.state.facet(Aa);return n.dispatch({selection:r,effects:[Vg(n,i),s.scrollToMatch(r.main,n)],userEvent:"select.search"}),iw(n),!0}),af=rc((n,{query:e})=>{let{state:t}=n,{from:i}=t.selection.main,r=e.prevMatch(t,i,i);if(!r)return!1;let s=Y.single(r.from,r.to),o=n.state.facet(Aa);return n.dispatch({selection:s,effects:[Vg(n,r),o.scrollToMatch(s.main,n)],userEvent:"select.search"}),iw(n),!0}),W6=rc((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:Y.create(t.map(i=>Y.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),Y6=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:r}=t.main,s=[],o=0;for(let a=new ya(n.doc,n.sliceDoc(i,r));!a.next().done;){if(s.length>1e3)return!1;a.value.from==i&&(o=s.length),s.push(Y.range(a.value.from,a.value.to))}return e(n.update({selection:Y.create(s,o),userEvent:"select.search.matches"})),!0},A0=rc((n,{query:e})=>{let{state:t}=n,{from:i,to:r}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,i,i);if(!s)return!1;let o=s,a=[],l,c,h=[];if(o.from==i&&o.to==r&&(c=t.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:c}),o=e.nextMatch(t,o.from,o.to),h.push(de.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+"."))),o){let f=a.length==0||a[0].from>=s.to?0:s.to-s.from-c.length;l=Y.single(o.from-f,o.to-f),h.push(Vg(n,o)),h.push(t.facet(Aa).scrollToMatch(l.main,n))}return n.dispatch({changes:a,selection:l,effects:h,userEvent:"input.replace"}),!0}),G6=rc((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(r=>{let{from:s,to:o}=r;return{from:s,to:o,insert:e.getReplacement(r)}});if(!t.length)return!1;let i=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:de.announce.of(i),userEvent:"input.replace.all"}),!0});function Xg(n){return n.state.facet(Aa).createPanel(n)}function bp(n,e){var t,i,r,s,o;let a=n.selection.main,l=a.empty||a.to>a.from+100?"":n.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=n.facet(Aa);return new ew({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:c.caseSensitive,literal:(r=e==null?void 0:e.literal)!==null&&r!==void 0?r:c.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:c.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function nw(n){let e=Cl(n,Xg);return e&&e.dom.querySelector("[main-field]")}function iw(n){let e=nw(n);e&&e==n.root.activeElement&&e.select()}const rw=n=>{let e=n.state.field(ys,!1);if(e&&e.panel){let t=nw(n);if(t&&t!=n.root.activeElement){let i=bp(n.state,e.query.spec);i.valid&&n.dispatch({effects:Il.of(i)}),t.focus(),t.select()}}else n.dispatch({effects:[Ug.of(!0),e?Il.of(bp(n.state,e.query.spec)):Ve.appendConfig.of(J6)]});return!0},sw=n=>{let e=n.state.field(ys,!1);if(!e||!e.panel)return!1;let t=Cl(n,Xg);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:Ug.of(!1)}),!0},F6=[{key:"Mod-f",run:rw,scope:"editor search-panel"},{key:"F3",run:of,shift:af,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:of,shift:af,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:sw,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Y6},{key:"Mod-Alt-g",run:P6},{key:"Mod-d",run:D6,preventDefault:!0}];class H6{constructor(e){this.view=e;let t=this.query=e.state.field(ys).query.spec;this.commit=this.commit.bind(this),this.searchField=Mt("input",{value:t.search,placeholder:ii(e,"Find"),"aria-label":ii(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Mt("input",{value:t.replace,placeholder:ii(e,"Replace"),"aria-label":ii(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Mt("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Mt("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Mt("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(r,s,o){return Mt("button",{class:"cm-button",name:r,onclick:s,type:"button"},o)}this.dom=Mt("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>of(e),[ii(e,"next")]),i("prev",()=>af(e),[ii(e,"previous")]),i("select",()=>W6(e),[ii(e,"all")]),Mt("label",null,[this.caseField,ii(e,"match case")]),Mt("label",null,[this.reField,ii(e,"regexp")]),Mt("label",null,[this.wordField,ii(e,"by word")]),...e.state.readOnly?[]:[Mt("br"),this.replaceField,i("replace",()=>A0(e),[ii(e,"replace")]),i("replaceAll",()=>G6(e),[ii(e,"replace all")])],Mt("button",{name:"close",onclick:()=>sw(e),"aria-label":ii(e,"close"),type:"button"},[""])])}commit(){let e=new ew({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Il.of(e)}))}keydown(e){oT(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?af:of)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),A0(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(Il)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Aa).top}}function ii(n,e){return n.state.phrase(e)}const Uc=30,Xc=/[\s\.,:;?!]/;function Vg(n,{from:e,to:t}){let i=n.state.doc.lineAt(e),r=n.state.doc.lineAt(t).to,s=Math.max(i.from,e-Uc),o=Math.min(r,t+Uc),a=n.state.sliceDoc(s,o);if(s!=i.from){for(let l=0;l<Uc;l++)if(!Xc.test(a[l+1])&&Xc.test(a[l])){a=a.slice(l);break}}if(o!=r){for(let l=a.length-1;l>a.length-Uc;l--)if(!Xc.test(a[l-1])&&Xc.test(a[l])){a=a.slice(0,l);break}}return de.announce.of(`${n.state.phrase("current match")}. ${a} ${n.state.phrase("on line")} ${i.number}.`)}const K6=de.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),J6=[ys,As.low(z6),K6];class ow{constructor(e,t,i,r){this.state=e,this.pos=t,this.explicit=i,this.view=r,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=un(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),r=t.text.slice(i-t.from,this.pos-t.from),s=r.search(lw(e,!1));return s<0?null:{from:i+s,to:this.pos,text:r.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,i){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function E0(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function eM(n){let e=Object.create(null),t=Object.create(null);for(let{label:r}of n){e[r[0]]=!0;for(let s=1;s<r.length;s++)t[r[s]]=!0}let i=E0(e)+E0(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function aw(n){let e=n.map(r=>typeof r=="string"?{label:r}:r),[t,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:eM(e);return r=>{let s=r.matchBefore(i);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:t}:null}}function tM(n,e){return t=>{for(let i=un(t.state).resolveInner(t.pos,-1);i;i=i.parent){if(n.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(t)}}class T0{constructor(e,t,i,r){this.completion=e,this.source=t,this.match=i,this.score=r}}function io(n){return n.selection.main.from}function lw(n,e){var t;let{source:i}=n,r=e&&i[0]!="^",s=i[i.length-1]!="$";return!r&&!s?n:new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const zg=Gr.define();function nM(n,e,t,i){let{main:r}=n.selection,s=t-r.from,o=i-r.from;return Object.assign(Object.assign({},n.changeByRange(a=>{if(a!=r&&t!=i&&n.sliceDoc(a.from+s,a.from+o)!=n.sliceDoc(t,i))return{range:a};let l=n.toText(e);return{changes:{from:a.from+s,to:i==r.from?a.to:a.from+o,insert:l},range:Y.cursor(a.from+s+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const C0=new WeakMap;function iM(n){if(!Array.isArray(n))return n;let e=C0.get(n);return e||C0.set(n,e=aw(n)),e}const lf=Ve.define(),jl=Ve.define();class rM{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=Yn(e,t),r=er(i);this.chars.push(i);let s=e.slice(t,t+r),o=s.toUpperCase();this.folded.push(Yn(o==s?s.toLowerCase():o,0)),t+=r}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:r,precise:s,byWord:o}=this;if(t.length==1){let $=Yn(e,0),Q=er($),P=Q==e.length?0:-100;if($!=t[0])if($==i[0])P+=-200;else return null;return this.ret(P,[0,Q])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,c=0;if(a<0){for(let $=0,Q=Math.min(e.length,200);$<Q&&c<l;){let P=Yn(e,$);(P==t[c]||P==i[c])&&(r[c++]=$),$+=er(P)}if(c<l)return null}let h=0,f=0,u=!1,d=0,g=-1,m=-1,O=/[a-z]/.test(e),b=!0;for(let $=0,Q=Math.min(e.length,200),P=0;$<Q&&f<l;){let k=Yn(e,$);a<0&&(h<l&&k==t[h]&&(s[h++]=$),d<l&&(k==t[d]||k==i[d]?(d==0&&(g=$),m=$+1,d++):d=0));let A,E=k<255?k>=48&&k<=57||k>=97&&k<=122?2:k>=65&&k<=90?1:0:(A=Og(k))!=A.toLowerCase()?1:A!=A.toUpperCase()?2:0;(!$||E==1&&O||P==0&&E!=0)&&(t[f]==k||i[f]==k&&(u=!0)?o[f++]=$:o.length&&(b=!1)),P=E,$+=er(k)}return f==l&&o[0]==0&&b?this.result(-100+(u?-200:0),o,e):d==l&&g==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):d==l?this.ret(-900-e.length,[g,m]):f==l?this.result(-100+(u?-200:0)+-700+(b?0:-1100),o,e):t.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,t,i){let r=[],s=0;for(let o of t){let a=o+(this.astral?er(Yn(i,o)):1);s&&r[s-1]==o?r[s-1]=a:(r[s++]=o,r[s++]=a)}return this.ret(e-i.length,r)}}class sM{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),i=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,t.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}}const pn=Oe.define({combine(n){return gr(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:oM,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>M0(e(i),t(i)),optionClass:(e,t)=>i=>M0(e(i),t(i)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function M0(n,e){return n?e?n+" "+e:n:e}function oM(n,e,t,i,r,s){let o=n.textDirection==It.RTL,a=o,l=!1,c="top",h,f,u=e.left-r.left,d=r.right-e.right,g=i.right-i.left,m=i.bottom-i.top;if(a&&u<Math.min(g,d)?a=!1:!a&&d<Math.min(g,u)&&(a=!0),g<=(a?u:d))h=Math.max(r.top,Math.min(t.top,r.bottom-m))-e.top,f=Math.min(400,a?u:d);else{l=!0,f=Math.min(400,(o?e.right:r.right-e.left)-30);let $=r.bottom-e.bottom;$>=m||$>e.top?h=t.bottom-e.top:(c="bottom",h=e.bottom-t.top)}let O=(e.bottom-e.top)/s.offsetHeight,b=(e.right-e.left)/s.offsetWidth;return{style:`${c}: ${h/O}px; max-width: ${f/b}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function aM(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,r,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=t.displayLabel||t.label,l=0;for(let c=0;c<s.length;){let h=s[c++],f=s[c++];h>l&&o.appendChild(document.createTextNode(a.slice(l,h)));let u=o.appendChild(document.createElement("span"));u.appendChild(document.createTextNode(a.slice(h,f))),u.className="cm-completionMatchedText",l=f}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function Nu(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let r=Math.floor(e/t);return{from:r*t,to:(r+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class lM{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let r=e.state.field(t),{options:s,selected:o}=r.open,a=e.state.facet(pn);this.optionContent=aM(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=Nu(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(t).open;for(let h=l.target,f;h&&h!=this.dom;h=h.parentNode)if(h.nodeName=="LI"&&(f=/-(\d+)$/.exec(h.id))&&+f[1]<c.length){this.applyCompletion(e,c[+f[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(pn).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:jl.of(null)})}),this.showOptions(s,r.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let i=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=r){let{options:s,selected:o,disabled:a}=i.open;(!r.open||r.open.options!=s)&&(this.range=Nu(s.length,o,e.state.facet(pn).maxRenderedOptions),this.showOptions(s,i.id)),this.updateSel(),a!=((t=r.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Nu(t.options.length,t.selected,this.view.state.facet(pn).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:r}=i;if(!r)return;let s=typeof r=="string"?document.createTextNode(r):r(i);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,i)}).catch(o=>Hn(this.view.state,o,"completion info")):this.addInfoPane(s,i)}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:r,destroy:s}=e;i.appendChild(r),this.infoDestroy=s||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)i.nodeName!="LI"||!i.id?r--:r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&hM(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return r.top>Math.min(s.bottom,t.bottom)-10||r.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(pn).positionInfo(this.view,t,r,i,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions")),r.addEventListener("mousedown",o=>{o.target==r&&o.preventDefault()});let s=null;for(let o=i.from;o<i.to;o++){let{completion:a,match:l}=e[o],{section:c}=a;if(c){let u=typeof c=="string"?c:c.name;if(u!=s&&(o>i.from||i.from==0))if(s=u,typeof c!="string"&&c.header)r.appendChild(c.header(c));else{let d=r.appendChild(document.createElement("completion-section"));d.textContent=u}}const h=r.appendChild(document.createElement("li"));h.id=t+"-"+o,h.setAttribute("role","option");let f=this.optionClass(a);f&&(h.className=f);for(let u of this.optionContent){let d=u(a,this.view.state,this.view,l);d&&h.appendChild(d)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function cM(n,e){return t=>new lM(t,n,e)}function hM(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),r=t.height/n.offsetHeight;i.top<t.top?n.scrollTop-=(t.top-i.top)/r:i.bottom>t.bottom&&(n.scrollTop+=(i.bottom-t.bottom)/r)}function Z0(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function fM(n,e){let t=[],i=null,r=c=>{t.push(c);let{section:h}=c.completion;if(h){i||(i=[]);let f=typeof h=="string"?h:h.name;i.some(u=>u.name==f)||i.push(typeof h=="string"?{name:f}:h)}},s=e.facet(pn);for(let c of n)if(c.hasResult()){let h=c.result.getMatch;if(c.result.filter===!1)for(let f of c.result.options)r(new T0(f,c.source,h?h(f):[],1e9-t.length));else{let f=e.sliceDoc(c.from,c.to),u,d=s.filterStrict?new sM(f):new rM(f);for(let g of c.result.options)if(u=d.match(g.label)){let m=g.displayLabel?h?h(g,u.matched):[]:u.matched;r(new T0(g,c.source,m,u.score+(g.boost||0)))}}}if(i){let c=Object.create(null),h=0,f=(u,d)=>{var g,m;return((g=u.rank)!==null&&g!==void 0?g:1e9)-((m=d.rank)!==null&&m!==void 0?m:1e9)||(u.name<d.name?-1:1)};for(let u of i.sort(f))h-=1e5,c[u.name]=h;for(let u of t){let{section:d}=u.completion;d&&(u.score+=c[typeof d=="string"?d:d.name])}}let o=[],a=null,l=s.compareCompletions;for(let c of t.sort((h,f)=>f.score-h.score||l(h.completion,f.completion))){let h=c.completion;!a||a.label!=h.label||a.detail!=h.detail||a.type!=null&&h.type!=null&&a.type!=h.type||a.apply!=h.apply||a.boost!=h.boost?o.push(c):Z0(c.completion)>Z0(a)&&(o[o.length-1]=c),a=c.completion}return o}class Xo{constructor(e,t,i,r,s,o){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=r,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Xo(this.options,R0(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,r,s,o){if(r&&!o&&e.some(c=>c.isPending))return r.setDisabled();let a=fM(e,t);if(!a.length)return r&&e.some(c=>c.isPending)?r.setDisabled():null;let l=t.facet(pn).selectOnOpen?0:-1;if(r&&r.selected!=l&&r.selected!=-1){let c=r.options[r.selected].completion;for(let h=0;h<a.length;h++)if(a[h].completion==c){l=h;break}}return new Xo(a,R0(i,l),{pos:e.reduce((c,h)=>h.hasResult()?Math.min(c,h.from):c,1e8),create:mM,above:s.aboveCursor},r?r.timestamp:Date.now(),l,!1)}map(e){return new Xo(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new Xo(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class cf{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new cf(gM,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(pn),s=(i.override||t.languageDataAt("autocomplete",io(t)).map(iM)).map(l=>(this.active.find(h=>h.source==l)||new xi(l,this.active.some(h=>h.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((l,c)=>l==this.active[c])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(Wg));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!uM(s,this.active)||a?o=Xo.build(s,t,this.id,o,i,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new xi(l.source,0):l));for(let l of e.effects)l.is(hw)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new cf(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?dM:pM}}function uM(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;i<e.length&&!e[i].hasResult();)i++;let r=t==n.length,s=i==e.length;if(r||s)return r==s;if(n[t++].result!=e[i++].result)return!1}}const dM={"aria-autocomplete":"list"},pM={};function R0(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const gM=[];function cw(n,e){if(n.isUserEvent("input.complete")){let i=n.annotation(zg);if(i&&e.activateOnCompletion(i))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class xi{constructor(e,t,i=!1){this.source=e,this.state=t,this.explicit=i}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let i=cw(e,t),r=this;(i&8||i&16&&this.touches(e))&&(r=new xi(r.source,0)),i&4&&r.state==0&&(r=new xi(this.source,1)),r=r.updateFor(e,i);for(let s of e.effects)if(s.is(lf))r=new xi(r.source,1,s.value);else if(s.is(jl))r=new xi(r.source,0);else if(s.is(Wg))for(let o of s.value)o.source==r.source&&(r=o);return r}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(io(e.state))}}class ta extends xi{constructor(e,t,i,r,s,o){super(e,3,t),this.limit=i,this.result=r,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,t){var i;if(!(t&3))return this.map(e.changes);let r=this.result;r.map&&!e.changes.empty&&(r=r.map(r,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=io(e.state);if(a>o||!r||t&2&&(io(e.startState)==this.from||a<this.limit))return new xi(this.source,t&4?1:0);let l=e.changes.mapPos(this.limit);return OM(r.validFor,e.state,s,o)?new ta(this.source,this.explicit,l,r,s,o):r.update&&(r=r.update(r,s,o,new ow(e.state,a,!1)))?new ta(this.source,this.explicit,l,r,r.from,(i=r.to)!==null&&i!==void 0?i:io(e.state)):new xi(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ta(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new xi(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function OM(n,e,t,i){if(!n)return!1;let r=e.sliceDoc(t,i);return typeof n=="function"?n(r,t,i,e):lw(n,!0).test(r)}const Wg=Ve.define({map(n,e){return n.map(t=>t.map(e))}}),hw=Ve.define(),Fn=On.define({create(){return cf.start()},update(n,e){return n.update(e)},provide:n=>[Tg.from(n,e=>e.tooltip),de.contentAttributes.from(n,e=>e.attrs)]});function Yg(n,e){const t=e.completion.apply||e.completion.label;let i=n.state.field(Fn).active.find(r=>r.source==e.source);return i instanceof ta?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},nM(n.state,t,i.from,i.to)),{annotations:zg.of(e.completion)})):t(n,e.completion,i.from,i.to),!0):!1}const mM=cM(Fn,Yg);function Vc(n,e="option"){return t=>{let i=t.state.field(Fn,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(pn).interactionDelay)return!1;let r=1,s;e=="page"&&(s=Xv(t,i.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=i.open.options,a=i.open.selected>-1?i.open.selected+r*(n?1:-1):n?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),t.dispatch({effects:hw.of(a)}),!0}}const yM=n=>{let e=n.state.field(Fn,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(pn).interactionDelay?!1:Yg(n,e.open.options[e.open.selected])},I0=n=>n.state.field(Fn,!1)?(n.dispatch({effects:lf.of(!0)}),!0):!1,bM=n=>{let e=n.state.field(Fn,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:jl.of(null)}),!0)};class vM{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const xM=50,wM=1e3,SM=on.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(Fn).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(Fn),t=n.state.facet(pn);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Fn)==e)return;let i=n.transactions.some(s=>{let o=cw(s,t);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(i||o.context.abortOnDocChange&&n.docChanged||o.updates.length+n.transactions.length>xM&&Date.now()-o.time>wM){for(let a of o.context.abortListeners)try{a()}catch(l){Hn(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(s=>s.effects.some(o=>o.is(lf)))&&(this.pendingStart=!0);let r=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),r):-1,this.composing!=0)for(let s of n.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(Fn);for(let t of e.active)t.isPending&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(pn).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=io(e),i=new ow(e,t,n.explicit,this.view),r=new vM(n,i);this.running.push(r),Promise.resolve(n.source(i)).then(s=>{r.context.aborted||(r.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:jl.of(null)}),Hn(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(pn).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(pn),i=this.view.state.field(Fn);for(let r=0;r<this.running.length;r++){let s=this.running[r];if(s.done===void 0)continue;if(this.running.splice(r--,1),s.done){let a=io(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),c=new ta(s.active.source,s.active.explicit,l,s.done,s.done.from,(n=s.done.to)!==null&&n!==void 0?n:a);for(let h of s.updates)c=c.update(h,t);if(c.hasResult()){e.push(c);continue}}let o=i.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new xi(s.active.source,0);for(let l of s.updates)a=a.update(l,t);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||i.open&&i.open.disabled)&&this.view.dispatch({effects:Wg.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Fn,!1);if(e&&e.tooltip&&this.view.state.facet(pn).closeOnBlur){let t=e.open&&Xv(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:jl.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:lf.of(!1)}),20),this.composing=0}}}),kM=typeof navigator=="object"&&/Win/.test(navigator.platform),$M=As.highest(de.domEventHandlers({keydown(n,e){let t=e.state.field(Fn,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(kM&&n.altKey)||n.metaKey)return!1;let i=t.open.options[t.open.selected],r=t.active.find(o=>o.source==i.source),s=i.completion.commitCharacters||r.result.commitCharacters;return s&&s.indexOf(n.key)>-1&&Yg(e,i),!1}})),fw=de.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class QM{constructor(e,t,i,r){this.field=e,this.line=t,this.from=i,this.to=r}}class Gg{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,xn.TrackDel),i=e.mapPos(this.to,1,xn.TrackDel);return t==null||i==null?null:new Gg(this.field,t,i)}}class Fg{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],r=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(i.length){let c=o,h=/^\t*/.exec(l)[0].length;for(let f=0;f<h;f++)c+=e.facet(jf);r.push(t+c.length-h),l=c+l.slice(h)}i.push(l),t+=l.length+1}let a=this.fieldPositions.map(l=>new Gg(l.field,r[l.line]+l.from,r[l.line]+l.to));return{text:i,ranges:a}}static parse(e){let t=[],i=[],r=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1,h=l.replace(/\\[{}]/g,f=>f[1]);for(let f=0;f<t.length;f++)(a!=null?t[f].seq==a:h&&t[f].name==h)&&(c=f);if(c<0){let f=0;for(;f<t.length&&(a==null||t[f].seq!=null&&t[f].seq<a);)f++;t.splice(f,0,{seq:a,name:h}),c=f;for(let u of r)u.field>=c&&u.field++}r.push(new QM(c,i.length,s.index,s.index+h.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,c)=>{for(let h of r)h.line==i.length&&h.from>c&&(h.from--,h.to--);return l}),i.push(o)}return new Fg(i,r)}}let PM=Ee.widget({widget:new class extends Fr{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),_M=Ee.mark({class:"cm-snippetField"});class Ea{constructor(e,t){this.ranges=e,this.active=t,this.deco=Ee.set(e.map(i=>(i.from==i.to?PM:_M).range(i.from,i.to)))}map(e){let t=[];for(let i of this.ranges){let r=i.map(e);if(!r)return null;t.push(r)}return new Ea(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(i=>i.field==this.active&&i.from<=t.from&&i.to>=t.to))}}const sc=Ve.define({map(n,e){return n&&n.map(e)}}),AM=Ve.define(),Bl=On.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(sc))return t.value;if(t.is(AM)&&n)return new Ea(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>de.decorations.from(n,e=>e?e.deco:Ee.none)});function Hg(n,e){return Y.create(n.filter(t=>t.field==e).map(t=>Y.range(t.from,t.to)))}function EM(n){let e=Fg.parse(n);return(t,i,r,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,r),{main:l}=t.state.selection,c={changes:{from:r,to:s==l.from?l.to:s,insert:mt.of(o)},scrollIntoView:!0,annotations:i?[zg.of(i),nn.userEvent.of("input.complete")]:void 0};if(a.length&&(c.selection=Hg(a,0)),a.some(h=>h.field>0)){let h=new Ea(a,0),f=c.effects=[sc.of(h)];t.state.field(Bl,!1)===void 0&&f.push(Ve.appendConfig.of([Bl,RM,IM,fw]))}t.dispatch(t.state.update(c))}}function uw(n){return({state:e,dispatch:t})=>{let i=e.field(Bl,!1);if(!i||n<0&&i.active==0)return!1;let r=i.active+n,s=n>0&&!i.ranges.some(o=>o.field==r+n);return t(e.update({selection:Hg(i.ranges,r),effects:sc.of(s?null:new Ea(i.ranges,r)),scrollIntoView:!0})),!0}}const TM=({state:n,dispatch:e})=>n.field(Bl,!1)?(e(n.update({effects:sc.of(null)})),!0):!1,CM=uw(1),MM=uw(-1),ZM=[{key:"Tab",run:CM,shift:MM},{key:"Escape",run:TM}],j0=Oe.define({combine(n){return n.length?n[0]:ZM}}),RM=As.highest(Rf.compute([j0],n=>n.facet(j0)));function zn(n,e){return Object.assign(Object.assign({},e),{apply:EM(n)})}const IM=de.domEventHandlers({mousedown(n,e){let t=e.state.field(Bl,!1),i;if(!t||(i=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let r=t.ranges.find(s=>s.from<=i&&s.to>=i);return!r||r.field==t.active?!1:(e.dispatch({selection:Hg(t.ranges,r.field),effects:sc.of(t.ranges.some(s=>s.field>r.field)?new Ea(t.ranges,r.field):null),scrollIntoView:!0}),!0)}}),Dl={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Fs=Ve.define({map(n,e){let t=e.mapPos(n,-1,xn.TrackAfter);return t??void 0}}),Kg=new class extends ho{};Kg.startSide=1;Kg.endSide=-1;const dw=On.define({create(){return dt.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:i=>i>=t.from&&i<=t.to})}for(let t of e.effects)t.is(Fs)&&(n=n.update({add:[Kg.range(t.value,t.value+1)]}));return n}});function jM(){return[DM,dw]}const Uu="()[]{}<>";function pw(n){for(let e=0;e<Uu.length;e+=2)if(Uu.charCodeAt(e)==n)return Uu.charAt(e+1);return Og(n<128?n:n+1)}function gw(n,e){return n.languageDataAt("closeBrackets",e)[0]||Dl}const BM=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),DM=de.inputHandler.of((n,e,t,i)=>{if((BM?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let r=n.state.selection.main;if(i.length>2||i.length==2&&er(Yn(i,0))==1||e!=r.from||t!=r.to)return!1;let s=NM(n.state,i);return s?(n.dispatch(s),!0):!1}),LM=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=gw(n,n.selection.main.head).brackets||Dl.brackets,r=null,s=n.changeByRange(o=>{if(o.empty){let a=UM(n.doc,o.head);for(let l of i)if(l==a&&Xf(n.doc,o.head)==pw(Yn(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:Y.cursor(o.head-l.length)}}return{range:r=o}});return r||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},qM=[{key:"Backspace",run:LM}];function NM(n,e){let t=gw(n,n.selection.main.head),i=t.brackets||Dl.brackets;for(let r of i){let s=pw(Yn(r,0));if(e==r)return s==r?zM(n,r,i.indexOf(r+r+r)>-1,t):XM(n,r,s,t.before||Dl.before);if(e==s&&Ow(n,n.selection.main.from))return VM(n,r,s)}return null}function Ow(n,e){let t=!1;return n.field(dw).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function Xf(n,e){let t=n.sliceString(e,e+2);return t.slice(0,er(Yn(t,0)))}function UM(n,e){let t=n.sliceString(e-2,e);return er(Yn(t,0))==t.length?t:t.slice(1)}function XM(n,e,t,i){let r=null,s=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:Fs.of(o.to+e.length),range:Y.range(o.anchor+e.length,o.head+e.length)};let a=Xf(n.doc,o.head);return!a||/\s/.test(a)||i.indexOf(a)>-1?{changes:{insert:e+t,from:o.head},effects:Fs.of(o.head+e.length),range:Y.cursor(o.head+e.length)}:{range:r=o}});return r?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function VM(n,e,t){let i=null,r=n.changeByRange(s=>s.empty&&Xf(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:Y.cursor(s.head+t.length)}:i={range:s});return i?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function zM(n,e,t,i){let r=i.stringPrefixes||Dl.stringPrefixes,s=null,o=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Fs.of(a.to+e.length),range:Y.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=Xf(n.doc,l),h;if(c==e){if(B0(n,l))return{changes:{insert:e+e,from:l},effects:Fs.of(l+e.length),range:Y.cursor(l+e.length)};if(Ow(n,l)){let u=t&&n.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+u.length,insert:u},range:Y.cursor(l+u.length)}}}else{if(t&&n.sliceDoc(l-2*e.length,l)==e+e&&(h=D0(n,l-2*e.length,r))>-1&&B0(n,h))return{changes:{insert:e+e+e+e,from:l},effects:Fs.of(l+e.length),range:Y.cursor(l+e.length)};if(n.charCategorizer(l)(c)!=Lt.Word&&D0(n,l,r)>-1&&!WM(n,l,e,r))return{changes:{insert:e+e,from:l},effects:Fs.of(l+e.length),range:Y.cursor(l+e.length)}}return{range:s=a}});return s?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function B0(n,e){let t=un(n).resolveInner(e+1);return t.parent&&t.from==e}function WM(n,e,t,i){let r=un(n).resolveInner(e,-1),s=i.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=n.sliceDoc(r.from,Math.min(r.to,r.from+t.length+s)),l=a.indexOf(t);if(!l||l>-1&&i.indexOf(a.slice(0,l))>-1){let h=r.firstChild;for(;h&&h.from==r.from&&h.to-h.from>t.length+l;){if(n.sliceDoc(h.to-t.length,h.to)==t)return!1;h=h.firstChild}return!0}let c=r.to==e&&r.parent;if(!c)break;r=c}return!1}function D0(n,e,t){let i=n.charCategorizer(e);if(i(n.sliceDoc(e-1,e))!=Lt.Word)return e;for(let r of t){let s=e-r.length;if(n.sliceDoc(s,e)==r&&i(n.sliceDoc(s-1,s))!=Lt.Word)return s}return-1}function YM(n={}){return[$M,Fn,pn.of(n),SM,GM,fw]}const mw=[{key:"Ctrl-Space",run:I0},{mac:"Alt-`",run:I0},{key:"Escape",run:bM},{key:"ArrowDown",run:Vc(!0)},{key:"ArrowUp",run:Vc(!1)},{key:"PageDown",run:Vc(!0,"page")},{key:"PageUp",run:Vc(!1,"page")},{key:"Enter",run:yM}],GM=As.highest(Rf.computeN([pn],n=>n.facet(pn).defaultKeymap?[mw]:[]));class L0{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class zs{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let r=e,s=i.facet(Ll).markerFilter;s&&(r=s(r,i));let o=e.slice().sort((f,u)=>f.from-u.from||f.to-u.to),a=new Xr,l=[],c=0;for(let f=0;;){let u=f==o.length?null:o[f];if(!u&&!l.length)break;let d,g;for(l.length?(d=c,g=l.reduce((O,b)=>Math.min(O,b.to),u&&u.from>d?u.from:1e8)):(d=u.from,g=u.to,l.push(u),f++);f<o.length;){let O=o[f];if(O.from==d&&(O.to>O.from||O.to==d))l.push(O),f++,g=Math.min(O.to,g);else{g=Math.min(O.from,g);break}}let m=lZ(l);if(l.some(O=>O.from==O.to||O.from==O.to-1&&i.doc.lineAt(O.from).to==O.from))a.add(d,d,Ee.widget({widget:new rZ(m),diagnostics:l.slice()}));else{let O=l.reduce((b,$)=>$.markClass?b+" "+$.markClass:b,"");a.add(d,g,Ee.mark({class:"cm-lintRange cm-lintRange-"+m+O,diagnostics:l.slice(),inclusiveEnd:l.some(b=>b.to>g)}))}c=g;for(let O=0;O<l.length;O++)l[O].to<=c&&l.splice(O--,1)}let h=a.finish();return new zs(h,t,ba(h))}}function ba(n,e=null,t=0){let i=null;return n.between(t,1e9,(r,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!i)i=new L0(r,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(i.diagnostic)<0)return!1;i=new L0(i.from,s,i.diagnostic)}}),i}function FM(n,e){let t=e.pos,i=e.end||t,r=n.state.facet(Ll).hideOn(n,t,i);if(r!=null)return r;let s=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(o=>o.is(yw))||n.changes.touchesRange(s.from,Math.max(s.to,i)))}function HM(n,e){return n.field(hi,!1)?e:e.concat(Ve.appendConfig.of(cZ))}const yw=Ve.define(),Jg=Ve.define(),bw=Ve.define(),hi=On.define({create(){return new zs(Ee.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),i=null,r=n.panel;if(n.selected){let s=e.changes.mapPos(n.selected.from,1);i=ba(t,n.selected.diagnostic,s)||ba(t,null,s)}!t.size&&r&&e.state.facet(Ll).autoPanel&&(r=null),n=new zs(t,r,i)}for(let t of e.effects)if(t.is(yw)){let i=e.state.facet(Ll).autoPanel?t.value.length?ql.open:null:n.panel;n=zs.init(t.value,i,e.state)}else t.is(Jg)?n=new zs(n.diagnostics,t.value?ql.open:null,n.selected):t.is(bw)&&(n=new zs(n.diagnostics,n.panel,t.value));return n},provide:n=>[Ml.from(n,e=>e.panel),de.decorations.from(n,e=>e.diagnostics)]}),KM=Ee.mark({class:"cm-lintRange cm-lintRange-active"});function JM(n,e,t){let{diagnostics:i}=n.state.field(hi),r,s=-1,o=-1;i.between(e-(t<0?1:0),e+(t>0?1:0),(l,c,{spec:h})=>{if(e>=l&&e<=c&&(l==c||(e>l||t>0)&&(e<c||t<0)))return r=h.diagnostics,s=l,o=c,!1});let a=n.state.facet(Ll).tooltipFilter;return r&&a&&(r=a(r,n.state)),r?{pos:s,end:o,above:n.state.doc.lineAt(s).to<o,create(){return{dom:eZ(n,r)}}}:null}function eZ(n,e){return Mt("ul",{class:"cm-tooltip-lint"},e.map(t=>xw(n,t,!1)))}const tZ=n=>{let e=n.state.field(hi,!1);(!e||!e.panel)&&n.dispatch({effects:HM(n.state,[Jg.of(!0)])});let t=Cl(n,ql.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},q0=n=>{let e=n.state.field(hi,!1);return!e||!e.panel?!1:(n.dispatch({effects:Jg.of(!1)}),!0)},nZ=n=>{let e=n.state.field(hi,!1);if(!e)return!1;let t=n.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},iZ=[{key:"Mod-Shift-m",run:tZ,preventDefault:!0},{key:"F8",run:nZ}],Ll=Oe.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},gr(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t}))}});function vw(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let r=t[i];if(/[a-zA-Z]/.test(r)&&!e.some(s=>s.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function xw(n,e,t){var i;let r=t?vw(e.actions):[];return Mt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Mt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(i=e.actions)===null||i===void 0?void 0:i.map((s,o)=>{let a=!1,l=u=>{if(u.preventDefault(),a)return;a=!0;let d=ba(n.state.field(hi).diagnostics,e);d&&s.apply(n,d.from,d.to)},{name:c}=s,h=r[o]?c.indexOf(r[o]):-1,f=h<0?c:[c.slice(0,h),Mt("u",c.slice(h,h+1)),c.slice(h+1)];return Mt("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${h<0?"":` (access key "${r[o]})"`}.`},f)}),e.source&&Mt("div",{class:"cm-diagnosticSource"},e.source))}class rZ extends Fr{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Mt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class N0{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=xw(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class ql{constructor(e){this.view=e,this.items=[];let t=r=>{if(r.keyCode==27)q0(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=vw(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==r.keyCode){let l=ba(this.view.state.field(hi).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;r.preventDefault()},i=r=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(r.target)&&this.moveSelection(s)};this.list=Mt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=Mt("div",{class:"cm-panel-lint"},this.list,Mt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>q0(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(hi).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(hi),i=0,r=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:c})=>{for(let h of c.diagnostics){if(o.has(h))continue;o.add(h);let f=-1,u;for(let d=i;d<this.items.length;d++)if(this.items[d].diagnostic==h){f=d;break}f<0?(u=new N0(this.view,h),this.items.splice(i,0,u),r=!0):(u=this.items[f],f>i&&(this.items.splice(i,f-i),r=!0)),t&&u.diagnostic==t.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),s=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),i++}});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new N0(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let c=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/c:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(hi),i=ba(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:bw.of(i)})}static open(e){return new ql(e)}}function sZ(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function zc(n){return sZ(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const oZ=de.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:zc("#d11")},".cm-lintRange-warning":{backgroundImage:zc("orange")},".cm-lintRange-info":{backgroundImage:zc("#999")},".cm-lintRange-hint":{backgroundImage:zc("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function aZ(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function lZ(n){let e="hint",t=1;for(let i of n){let r=aZ(i.severity);r>t&&(t=r,e=i.severity)}return e}const cZ=[hi,de.decorations.compute([hi],n=>{let{selected:e,panel:t}=n.field(hi);return!e||!t||e.from==e.to?Ee.none:Ee.set([KM.range(e.from,e.to)])}),zT(JM,{hideOn:FM}),oZ],hZ=[i3(),o3(),ST(),SC(),F3(),uT(),mT(),gt.allowMultipleSelections.of(!0),I3(),Ox(eC,{fallback:!0}),aC(),jM(),YM(),RT(),BT(),AT(),T6(),Rf.of([...qM,...$6,...F6,...CC,...z3,...mw,...iZ])];var U0={};class hf{constructor(e,t,i,r,s,o,a,l,c,h=0,f){this.p=e,this.stack=t,this.state=i,this.reducePos=r,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=h,this.parent=f}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let r=e.parser.context;return new hf(e,[],t,i,i,0,[],0,r?new X0(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,r=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(r);if(a&&(this.score+=a),i==0){this.pushState(s.getGoto(this.state,r,!0),this.reducePos),r<s.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(r,this.reducePos);return}let l=this.stack.length-(i-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,h=this.reducePos-c;h>=2e3&&!(!((t=this.p.parser.nodeSet.types[r])===null||t===void 0)&&t.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=h));let f=l?this.stack[l-1]:0,u=this.bufferBase+this.buffer.length-f;if(r<s.minRepeatTerm||e&131072){let d=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,c,d,u+4,!0)}if(e&262144)this.state=this.stack[l];else{let d=this.stack[l-3];this.state=s.getGoto(d,r,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(r,c)}storeNode(e,t,i,r=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==i)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,t,i,r);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>i;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,r>4&&(r-=4)}this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=i,this.buffer[o+3]=r}}shift(e,t,i,r){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=r,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,r,4);else{let s=e,{parser:o}=this.p;(r>this.pos||t<=o.maxNode)&&(this.pos=r,o.stateFlag(s,1)||(this.reducePos=r)),this.pushState(s,i),this.shiftContext(t,i),t<=o.maxNode&&this.buffer.push(t,i,r,4)}}apply(e,t,i,r){e&65536?this.reduce(e):this.shift(e,t,i,r)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new hf(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new fZ(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if(!(i&65536))return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let r=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&r.push(t[s],o);if(this.stack.length<120)for(let s=0;r.length<8&&s<t.length;s+=2){let o=t[s+1];r.some((a,l)=>l&1&&a==o)||r.push(t[s],o)}t=r}let i=[];for(let r=0;r<t.length&&i.length<4;r+=2){let s=t[r+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[r],this.pos),o.reducePos=this.pos,o.score-=200,i.push(o)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let i=t>>19,r=t&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],r,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(r,s)=>{if(!t.includes(r))return t.push(r),e.allActions(r,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=i(o,s+1);if(a!=null)return a}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new X0(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class X0{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class fZ{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class ff{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new ff(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new ff(this.stack,this.pos,this.index)}}function sl(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,r=0;i<n.length;){let s=0;for(;;){let o=n.charCodeAt(i++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}t?t[r++]=s:t=new e(s)}return t}class Oh{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const V0=new Oh;class uZ{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=V0,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!r)return null;let o=this.ranges[--r];s-=i.from-o.to,i=o}for(;t<0?s>i.to:s>=i.to;){if(r==this.ranges.length-1)return null;let o=this.ranges[++r];s+=o.from-i.to,i=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,r;if(t>=0&&t<this.chunk.length)i=this.pos+e,r=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=i;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=V0,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return i}}class na{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;ww(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}na.prototype.contextual=na.prototype.fallback=na.prototype.extend=!1;class vp{constructor(e,t,i){this.precTable=t,this.elseToken=i,this.data=typeof e=="string"?sl(e):e}token(e,t){let i=e.pos,r=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(ww(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||r++,o==null)break;e.reset(o,e.token)}r&&(e.reset(i,e.token),e.acceptToken(this.elseToken,r))}}vp.prototype.contextual=na.prototype.fallback=na.prototype.extend=!1;class oc{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function ww(n,e,t,i,r,s){let o=0,a=1<<i,{dialect:l}=t.p.parser;e:for(;a&n[o];){let c=n[o+1];for(let d=o+3;d<c;d+=2)if((n[d+1]&a)>0){let g=n[d];if(l.allows(g)&&(e.token.value==-1||e.token.value==g||dZ(g,e.token.value,r,s))){e.acceptToken(g);break}}let h=e.next,f=0,u=n[o+2];if(e.next<0&&u>f&&n[c+u*3-3]==65535){o=n[c+u*3-1];continue e}for(;f<u;){let d=f+u>>1,g=c+d+(d<<1),m=n[g],O=n[g+1]||65536;if(h<m)u=d;else if(h>=O)f=d+1;else{o=n[g+2],e.advance();continue e}}break}}function z0(n,e,t){for(let i=e,r;(r=n[i])!=65535;i++)if(r==t)return i-e;return-1}function dZ(n,e,t,i){let r=z0(t,i,e);return r<0||z0(t,i,n)<r}const ri=typeof process<"u"&&U0&&/\bparse\b/.test(U0.LOG);let Xu=null;function W0(n,e,t){let i=n.cursor(fn.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class pZ{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?W0(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?W0(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],r=this.index[t];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[r],o=this.start[t]+i.positions[r];if(o>e)return this.nextStart=o,null;if(s instanceof rn){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(nt.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class gZ{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Oh)}getActions(e){let t=0,i=null,{parser:r}=e.p,{tokenizers:s}=r,o=r.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let h=s[c],f=this.tokens[c];if(!(i&&!h.fallback)&&((h.contextual||f.start!=e.pos||f.mask!=o||f.context!=a)&&(this.updateCachedToken(f,h,e),f.mask=o,f.context=a),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let u=t;if(f.extended>-1&&(t=this.addActions(e,f.extended,f.end,t)),t=this.addActions(e,f.value,f.end,t),!h.extend&&(i=f,t>u))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new Oh,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Oh,{pos:i,p:r}=e;return t.start=i,t.end=Math.min(i+1,r.stream.end),t.value=i==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,i){let r=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(r,e),i),e.value>-1){let{parser:s}=i.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),i);if(a>=0&&i.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,i,r){for(let s=0;s<r;s+=3)if(this.actions[s]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=i,r}addActions(e,t,i,r){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=Er(a,c+2);else{r==0&&a[c+1]==2&&(r=this.putAction(Er(a,c+2),t,i,r));break}a[c]==t&&(r=this.putAction(Er(a,c+1),t,i,r))}return r}}class OZ{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new uZ(t,r),this.tokens=new gZ(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[hf.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new pZ(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],r,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)i.push(a);else{if(this.advanceStack(a,i,e))continue;{r||(r=[],s=[]),r.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!i.length){let o=r&&bZ(r);if(o)return ri&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw ri&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&r){let o=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,i);if(o)return ri&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((a,l)=>l.score-a.score);i.length>o;)i.pop();i.some(a=>a.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let a=i[o];for(let l=o+1;l<i.length;l++){let c=i[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)i.splice(l--,1);else{i.splice(o--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let r=e.pos,{parser:s}=this,o=ri?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,h=c?e.curContext.hash:0;for(let f=this.fragments.nodeAt(r);f;){let u=this.parser.nodeSet.types[f.type.id]==f.type?s.getGoto(e.state,f.type.id):-1;if(u>-1&&f.length&&(!c||(f.prop(nt.contextHash)||0)==h))return e.useNode(f,u),ri&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(f.type.id)})`),!0;if(!(f instanceof rn)||f.children.length==0||f.positions[0]>0)break;let d=f.children[0];if(d instanceof rn&&f.positions[0]==0)f=d;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),ri&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let h=l[c++],f=l[c++],u=l[c++],d=c==l.length||!i,g=d?e:e.split(),m=this.tokens.mainToken;if(g.apply(h,f,m?m.start:g.pos,u),ri&&console.log(o+this.stackID(g)+` (via ${h&65536?`reduce of ${s.getName(h&65535)}`:"shift"} for ${s.getName(f)} @ ${r}${g==e?"":", split"})`),d)return!0;g.pos>r?t.push(g):i.push(g)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return Y0(e,t),!0}}runRecovery(e,t,i){let r=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],c=t[(o<<1)+1],h=ri?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),ri&&console.log(h+this.stackID(a)+" (restarted)"),this.advanceFully(a,i))))continue;let f=a.split(),u=h;for(let d=0;f.forceReduce()&&d<10&&(ri&&console.log(u+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,i));d++)ri&&(u=this.stackID(f)+" -> ");for(let d of a.recoverByInsert(l))ri&&console.log(h+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,i);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),ri&&console.log(h+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),Y0(a,i)):(!r||r.score<a.score)&&(r=a)}return r}stackToTree(e){return e.close(),rn.build({buffer:ff.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Xu||(Xu=new WeakMap)).get(e);return t||Xu.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Y0(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class mZ{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const Vu=n=>n;class yZ{constructor(e){this.start=e.start,this.shift=e.shift||Vu,this.reduce=e.reduce||Vu,this.reuse=e.reuse||Vu,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class uf extends Kv{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let i=Object.keys(e.topRules).map(a=>e.topRules[a][1]),r=[];for(let a=0;a<t.length;a++)r.push([]);function s(a,l,c){r[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=nt[l]);for(let c=1;c<a.length;){let h=a[c++];if(h>=0)s(h,l,a[c++]);else{let f=a[c+-h];for(let u=-h;u>0;u--)s(a[c++],l,f);c++}}}this.nodeSet=new Cg(t.map((a,l)=>ti.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:r[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Yv;let o=sl(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(G0),this.states=sl(e.states,Uint32Array),this.data=sl(e.stateData),this.goto=sl(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new na(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let r=new OZ(this,e,t,i);for(let s of this.wrappers)r=s(r,e,t,i);return r}getGoto(e,t,i=!1){let r=this.goto;if(t>=r[0])return-1;for(let s=r[t+1];;){let o=r[s++],a=o&1,l=r[s++];if(a&&i)return l;for(let c=s+(o>>1);s<c;s++)if(r[s]==e)return l;if(a)return-1}}hasAction(e,t){let i=this.data;for(let r=0;r<2;r++)for(let s=this.stateSlot(e,r?2:1),o;;s+=3){if((o=i[s])==65535)if(i[s+1]==1)o=i[s=Er(i,s+2)];else{if(i[s+1]==2)return Er(i,s+2);break}if(o==t||o==0)return Er(i,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),r=i?t(i):void 0;for(let s=this.stateSlot(e,1);r==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Er(this.data,s+2);else break;r=t(Er(this.data,s+1))}return r}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Er(this.data,i+2);else break;if(!(this.data[i+2]&1)){let r=this.data[i+1];t.some((s,o)=>o&1&&s==r)||t.push(this.data[i],r)}}return t}configure(e){let t=Object.assign(Object.create(uf.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let r=e.tokenizers.find(s=>s.from==i);return r?r.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,r)=>{let s=e.specializers.find(a=>a.from==i.external);if(!s)return i;let o=Object.assign(Object.assign({},i),{external:s.to});return t.specializers[r]=G0(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(i[o]=!0)}let r=null;for(let s=0;s<t.length;s++)if(!i[s])for(let o=this.dialects[t[s]],a;(a=this.data[o++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[a]=1;return new mZ(e,i,r)}static deserialize(e){return new uf(e)}}function Er(n,e){return n[e]|n[e+1]<<16}function bZ(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function G0(n){if(n.external){let e=n.extend?1:0;return(t,i)=>n.external(t,i)<<1|e}return n.get}const vZ=314,xZ=315,F0=1,wZ=2,SZ=3,kZ=4,$Z=316,QZ=318,PZ=319,_Z=5,AZ=6,EZ=0,xp=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Sw=125,TZ=59,wp=47,CZ=42,MZ=43,ZZ=45,RZ=60,IZ=44,jZ=63,BZ=46,DZ=91,LZ=new yZ({start:!1,shift(n,e){return e==_Z||e==AZ||e==QZ?n:e==PZ},strict:!1}),qZ=new oc((n,e)=>{let{next:t}=n;(t==Sw||t==-1||e.context)&&n.acceptToken($Z)},{contextual:!0,fallback:!0}),NZ=new oc((n,e)=>{let{next:t}=n,i;xp.indexOf(t)>-1||t==wp&&((i=n.peek(1))==wp||i==CZ)||t!=Sw&&t!=TZ&&t!=-1&&!e.context&&n.acceptToken(vZ)},{contextual:!0}),UZ=new oc((n,e)=>{n.next==DZ&&!e.context&&n.acceptToken(xZ)},{contextual:!0}),XZ=new oc((n,e)=>{let{next:t}=n;if(t==MZ||t==ZZ){if(n.advance(),t==n.next){n.advance();let i=!e.context&&e.canShift(F0);n.acceptToken(i?F0:wZ)}}else t==jZ&&n.peek(1)==BZ&&(n.advance(),n.advance(),(n.next<48||n.next>57)&&n.acceptToken(SZ))},{contextual:!0});function zu(n,e){return n>=65&&n<=90||n>=97&&n<=122||n==95||n>=192||!e&&n>=48&&n<=57}const VZ=new oc((n,e)=>{if(n.next!=RZ||!e.dialectEnabled(EZ)||(n.advance(),n.next==wp))return;let t=0;for(;xp.indexOf(n.next)>-1;)n.advance(),t++;if(zu(n.next,!0)){for(n.advance(),t++;zu(n.next,!1);)n.advance(),t++;for(;xp.indexOf(n.next)>-1;)n.advance(),t++;if(n.next==IZ)return;for(let i=0;;i++){if(i==7){if(!zu(n.next,!0))return;break}if(n.next!="extends".charCodeAt(i))break;n.advance(),t++}}n.acceptToken(kZ,-t)}),zZ=Jv({"get set async static":L.modifier,"for while do if else switch try catch finally return throw break continue default case":L.controlKeyword,"in of await yield void typeof delete instanceof":L.operatorKeyword,"let var const using function class extends":L.definitionKeyword,"import export from":L.moduleKeyword,"with debugger as new":L.keyword,TemplateString:L.special(L.string),super:L.atom,BooleanLiteral:L.bool,this:L.self,null:L.null,Star:L.modifier,VariableName:L.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":L.function(L.variableName),VariableDefinition:L.definition(L.variableName),Label:L.labelName,PropertyName:L.propertyName,PrivatePropertyName:L.special(L.propertyName),"CallExpression/MemberExpression/PropertyName":L.function(L.propertyName),"FunctionDeclaration/VariableDefinition":L.function(L.definition(L.variableName)),"ClassDeclaration/VariableDefinition":L.definition(L.className),"NewExpression/VariableName":L.className,PropertyDefinition:L.definition(L.propertyName),PrivatePropertyDefinition:L.definition(L.special(L.propertyName)),UpdateOp:L.updateOperator,"LineComment Hashbang":L.lineComment,BlockComment:L.blockComment,Number:L.number,String:L.string,Escape:L.escape,ArithOp:L.arithmeticOperator,LogicOp:L.logicOperator,BitOp:L.bitwiseOperator,CompareOp:L.compareOperator,RegExp:L.regexp,Equals:L.definitionOperator,Arrow:L.function(L.punctuation),": Spread":L.punctuation,"( )":L.paren,"[ ]":L.squareBracket,"{ }":L.brace,"InterpolationStart InterpolationEnd":L.special(L.brace),".":L.derefOperator,", ;":L.separator,"@":L.meta,TypeName:L.typeName,TypeDefinition:L.definition(L.typeName),"type enum interface implements namespace module declare":L.definitionKeyword,"abstract global Privacy readonly override":L.modifier,"is keyof unique infer asserts":L.operatorKeyword,JSXAttributeValue:L.attributeValue,JSXText:L.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":L.angleBracket,"JSXIdentifier JSXNameSpacedName":L.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":L.attributeName,"JSXBuiltin/JSXIdentifier":L.standard(L.tagName)}),WZ={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,const:52,extends:56,this:60,true:68,false:68,null:80,void:84,typeof:88,super:104,new:138,delete:150,yield:159,await:163,class:168,public:231,private:231,protected:231,readonly:233,instanceof:252,satisfies:255,in:256,import:290,keyof:347,unique:351,infer:357,asserts:393,is:395,abstract:415,implements:417,type:419,let:422,var:424,using:427,interface:433,enum:437,namespace:443,module:445,declare:449,global:453,for:472,of:481,while:484,with:488,do:492,if:496,else:498,switch:502,case:508,try:514,catch:518,finally:522,return:526,throw:530,break:534,continue:538,debugger:542},YZ={__proto__:null,async:125,get:127,set:129,declare:191,public:193,private:193,protected:193,static:195,abstract:197,override:199,readonly:205,accessor:207,new:399},GZ={__proto__:null,"<":189},FZ=uf.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#D_O.QQlO'#DeO.bQlO'#DpO%[QlO'#DxO0fQlO'#EQOOQ!0Lf'#EY'#EYO1PQ`O'#EVOOQO'#En'#EnOOQO'#Ij'#IjO1XQ`O'#GrO1dQ`O'#EmO1iQ`O'#EmO3hQ!0MxO'#JpO6[Q!0MxO'#JqO6uQ`O'#F[O6zQ,UO'#FsOOQ!0Lf'#Fe'#FeO7VO7dO'#FeO7eQMhO'#F{O9UQ`O'#FzOOQ!0Lf'#Jq'#JqOOQ!0Lb'#Jp'#JpO9ZQ`O'#GvOOQ['#K]'#K]O9fQ`O'#IWO9kQ!0LrO'#IXOOQ['#J^'#J^OOQ['#I]'#I]Q`QlOOQ`QlOOO9sQ!L^O'#DtO9zQlO'#D|O:RQlO'#EOO9aQ`O'#GrO:YQMhO'#CoO:hQ`O'#ElO:sQ`O'#EwO:xQMhO'#FdO;gQ`O'#GrOOQO'#K^'#K^O;lQ`O'#K^O;zQ`O'#GzO;zQ`O'#G{O;zQ`O'#G}O9aQ`O'#HQO<qQ`O'#HTO>YQ`O'#CeO>jQ`O'#HaO>rQ`O'#HgO>rQ`O'#HiO`QlO'#HkO>rQ`O'#HmO>rQ`O'#HpO>wQ`O'#HvO>|Q!0LsO'#H|O%[QlO'#IOO?XQ!0LsO'#IQO?dQ!0LsO'#ISO9kQ!0LrO'#IUO?oQ!0MxO'#CiO@qQpO'#DjQOQ`OOO%[QlO'#EOOAXQ`O'#ERO:YQMhO'#ElOAdQ`O'#ElOAoQ!bO'#FdOOQ['#Cg'#CgOOQ!0Lb'#Do'#DoOOQ!0Lb'#Jt'#JtO%[QlO'#JtOOQO'#Jw'#JwOOQO'#If'#IfOBoQpO'#EeOOQ!0Lb'#Ed'#EdOOQ!0Lb'#J{'#J{OCkQ!0MSO'#EeOCuQpO'#EUOOQO'#Jv'#JvODZQpO'#JwOEhQpO'#EUOCuQpO'#EePEuO&2DjO'#CbPOOO)CD{)CD{OOOO'#I^'#I^OFQO#tO,59UOOQ!0Lh,59U,59UOOOO'#I_'#I_OF`O&jO,59UOFnQ!L^O'#DaOOOO'#Ia'#IaOFuO#@ItO,59yOOQ!0Lf,59y,59yOGTQlO'#IbOGhQ`O'#JrOIgQ!fO'#JrO+}QlO'#JrOInQ`O,5:POJUQ`O'#EnOJcQ`O'#KROJnQ`O'#KQOJnQ`O'#KQOJvQ`O,5;[OJ{Q`O'#KPOOQ!0Ln,5:[,5:[OKSQlO,5:[OMQQ!0MxO,5:dOMqQ`O,5:lON[Q!0LrO'#KOONcQ`O'#J}O9ZQ`O'#J}ONwQ`O'#J}O! PQ`O,5;ZO! UQ`O'#J}O!#ZQ!fO'#JqOOQ!0Lh'#Ci'#CiO%[QlO'#EQO!#yQ!fO,5:qOOQS'#Jx'#JxOOQO-E<h-E<hO9aQ`O,5=^O!$aQ`O,5=^O!$fQlO,5;XO!&iQMhO'#EiO!(SQ`O,5;XO!(XQlO'#DwO!(cQpO,5;bO!(kQpO,5;bO%[QlO,5;bOOQ['#FS'#FSOOQ['#FU'#FUO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cOOQ['#FY'#FYO!(yQlO,5;sOOQ!0Lf,5;x,5;xOOQ!0Lf,5;y,5;yOOQ!0Lf,5;{,5;{O%[QlO'#InO!*|Q!0LrO,5<hO%[QlO,5;cO!&iQMhO,5;cO!+kQMhO,5;cO!-]QMhO'#E[O%[QlO,5;vOOQ!0Lf,5;z,5;zO!-dQ,UO'#FiO!.aQ,UO'#KVO!-{Q,UO'#KVO!.hQ,UO'#KVOOQO'#KV'#KVO!.|Q,UO,5<ROOOW,5<_,5<_O!/_QlO'#FuOOOW'#Im'#ImO7VO7dO,5<PO!/fQ,UO'#FwOOQ!0Lf,5<P,5<PO!0VQ$IUO'#CwOOQ!0Lh'#C{'#C{O!0jO#@ItO'#DPO!1WQMjO,5<dO!1_Q`O,5<gO!2zQ(CWO'#GWO!3XQ`O'#GXO!3^Q`O'#GXO!4|Q(CWO'#G]O!6RQpO'#GaOOQO'#Gm'#GmO!+rQMhO'#GlOOQO'#Go'#GoO!+rQMhO'#GnO!6tQ$IUO'#JjOOQ!0Lh'#Jj'#JjO!7OQ`O'#JiO!7^Q`O'#JhO!7fQ`O'#CuOOQ!0Lh'#Cy'#CyO!7qQ`O'#C{OOQ!0Lh'#DT'#DTOOQ!0Lh'#DV'#DVO1SQ`O'#DXO!+rQMhO'#GOO!+rQMhO'#GQO!7vQ`O'#GSO!7{Q`O'#GTO!3^Q`O'#GZO!+rQMhO'#G`O;zQ`O'#JiO!8QQ`O'#EoO!8oQ`O,5<fOOQ!0Lb'#Cr'#CrO!8wQ`O'#EpO!9qQpO'#EqOOQ!0Lb'#KP'#KPO!9xQ!0LrO'#K_O9kQ!0LrO,5=bO`QlO,5>rOOQ['#Jf'#JfOOQ[,5>s,5>sOOQ[-E<Z-E<ZO!;wQ!0MxO,5:`O!9lQpO,5:^O!>bQ!0MxO,5:hO%[QlO,5:hO!@xQ!0MxO,5:jOOQO,5@x,5@xO!AiQMhO,5=^O!AwQ!0LrO'#JgO9UQ`O'#JgO!BYQ!0LrO,59ZO!BeQpO,59ZO!BmQMhO,59ZO:YQMhO,59ZO!BxQ`O,5;XO!CQQ`O'#H`O!CfQ`O'#KbO%[QlO,5;|O!9lQpO,5<OO!CnQ`O,5=yO!CsQ`O,5=yO!CxQ`O,5=yO9kQ!0LrO,5=yO;zQ`O,5=iOOQO'#Cw'#CwO!DWQpO,5=fO!D`QMhO,5=gO!DkQ`O,5=iO!DpQ!bO,5=lO!DxQ`O'#K^O>wQ`O'#HVO9aQ`O'#HXO!D}Q`O'#HXO:YQMhO'#HZO!ESQ`O'#HZOOQ[,5=o,5=oO!EXQ`O'#H[O!EjQ`O'#CoO!EoQ`O,59PO!EyQ`O,59PO!HOQlO,59POOQ[,59P,59PO!H`Q!0LrO,59PO%[QlO,59PO!JkQlO'#HcOOQ['#Hd'#HdOOQ['#He'#HeO`QlO,5={O!KRQ`O,5={O`QlO,5>RO`QlO,5>TO!KWQ`O,5>VO`QlO,5>XO!K]Q`O,5>[O!KbQlO,5>bOOQ[,5>h,5>hO%[QlO,5>hO9kQ!0LrO,5>jOOQ[,5>l,5>lO# lQ`O,5>lOOQ[,5>n,5>nO# lQ`O,5>nOOQ[,5>p,5>pO#!YQpO'#D]O%[QlO'#JtO#!{QpO'#JtO##VQpO'#DkO##hQpO'#DkO#%yQlO'#DkO#&QQ`O'#JsO#&YQ`O,5:UO#&_Q`O'#ErO#&mQ`O'#KSO#&uQ`O,5;]O#&zQpO'#DkO#'XQpO'#ETOOQ!0Lf,5:m,5:mO%[QlO,5:mO#'`Q`O,5:mO>wQ`O,5;WO!BeQpO,5;WO!BmQMhO,5;WO:YQMhO,5;WO#'hQ`O,5@`O#'mQ07dO,5:qOOQO-E<d-E<dO#(sQ!0MSO,5;POCuQpO,5:pO#(}QpO,5:pOCuQpO,5;PO!BYQ!0LrO,5:pOOQ!0Lb'#Eh'#EhOOQO,5;P,5;PO%[QlO,5;PO#)[Q!0LrO,5;PO#)gQ!0LrO,5;PO!BeQpO,5:pOOQO,5;V,5;VO#)uQ!0LrO,5;PPOOO'#I['#I[P#*ZO&2DjO,58|POOO,58|,58|OOOO-E<[-E<[OOQ!0Lh1G.p1G.pOOOO-E<]-E<]OOOO,59{,59{O#*fQ!bO,59{OOOO-E<_-E<_OOQ!0Lf1G/e1G/eO#*kQ!fO,5>|O+}QlO,5>|OOQO,5?S,5?SO#*uQlO'#IbOOQO-E<`-E<`O#+SQ`O,5@^O#+[Q!fO,5@^O#+cQ`O,5@lOOQ!0Lf1G/k1G/kO%[QlO,5@mO#+kQ`O'#IhOOQO-E<f-E<fO#+cQ`O,5@lOOQ!0Lb1G0v1G0vOOQ!0Ln1G/v1G/vOOQ!0Ln1G0W1G0WO%[QlO,5@jO#,PQ!0LrO,5@jO#,bQ!0LrO,5@jO#,iQ`O,5@iO9ZQ`O,5@iO#,qQ`O,5@iO#-PQ`O'#IkO#,iQ`O,5@iOOQ!0Lb1G0u1G0uO!(cQpO,5:sO!(nQpO,5:sOOQS,5:u,5:uO#-qQdO,5:uO#-yQMhO1G2xO9aQ`O1G2xOOQ!0Lf1G0s1G0sO#.XQ!0MxO1G0sO#/^Q!0MvO,5;TOOQ!0Lh'#GV'#GVO#/zQ!0MzO'#JjO!$fQlO1G0sO#2VQ!fO'#JuO%[QlO'#JuO#2aQ`O,5:cOOQ!0Lh'#D]'#D]OOQ!0Lf1G0|1G0|O%[QlO1G0|OOQ!0Lf1G1e1G1eO#2fQ`O1G0|O#4zQ!0MxO1G0}O#5RQ!0MxO1G0}O#7iQ!0MxO1G0}O#7pQ!0MxO1G0}O#:WQ!0MxO1G0}O#<nQ!0MxO1G0}O#<uQ!0MxO1G0}O#<|Q!0MxO1G0}O#?dQ!0MxO1G0}O#?kQ!0MxO1G0}O#AxQ?MtO'#CiO#CsQ?MtO1G1_O#CzQ?MtO'#JqO#D_Q!0MxO,5?YOOQ!0Lb-E<l-E<lO#FlQ!0MxO1G0}O#GiQ!0MzO1G0}OOQ!0Lf1G0}1G0}O#HlQMjO'#JzO#HvQ`O,5:vO#H{Q!0MxO1G1bO#IoQ,UO,5<VO#IwQ,UO,5<WO#JPQ,UO'#FnO#JhQ`O'#FmOOQO'#KW'#KWOOQO'#Il'#IlO#JmQ,UO1G1mOOQ!0Lf1G1m1G1mOOOW1G1x1G1xO#KOQ?MtO'#JpO#KYQ`O,5<aO!(yQlO,5<aOOOW-E<k-E<kOOQ!0Lf1G1k1G1kO#K_QpO'#KVOOQ!0Lf,5<c,5<cO#KgQpO,5<cO#KlQMhO'#DROOOO'#I`'#I`O#KsO#@ItO,59kOOQ!0Lh,59k,59kO%[QlO1G2OO!7{Q`O'#IpO#LOQ`O,5<yOOQ!0Lh,5<v,5<vO!+rQMhO'#IsO#LlQMjO,5=WO!+rQMhO'#IuO#M_QMjO,5=YO!&iQMhO,5=[OOQO1G2R1G2RO#MiQ!dO'#CrO#M|Q(CWO'#EpO$ RQpO'#GaO$ iQ!dO,5<rO$ pQ`O'#KYO9ZQ`O'#KYO$!OQ`O,5<tO!+rQMhO,5<sO$!TQ`O'#GYO$!fQ`O,5<sO$!kQ!dO'#GVO$!xQ!dO'#KZO$#SQ`O'#KZO!&iQMhO'#KZO$#XQ`O,5<wO$#^QlO'#JtO$#hQpO'#GbO##hQpO'#GbO$#yQ`O'#GfO!3^Q`O'#GjO$$OQ!0LrO'#IrO$$ZQpO,5<{OOQ!0Lp,5<{,5<{O$$bQpO'#GbO$$oQpO'#GcO$%QQpO'#GcO$%VQMjO,5=WO$%gQMjO,5=YOOQ!0Lh,5=],5=]O!+rQMhO,5@TO!+rQMhO,5@TO$%wQ`O'#IwO$&VQ`O,5@SO$&_Q`O,59aOOQ!0Lh,59g,59gO$'UQ$IYO,59sOOQ!0Lh'#Jn'#JnO$'wQMjO,5<jO$(jQMjO,5<lO@iQ`O,5<nOOQ!0Lh,5<o,5<oO$(tQ`O,5<uO$(yQMjO,5<zO$)ZQ`O,5@TO$)iQ`O'#J}O!$fQlO1G2QO$)nQ`O1G2QO9ZQ`O'#KQO9ZQ`O'#ErO%[QlO'#ErO9ZQ`O'#IyO$)sQ!0LrO,5@yOOQ[1G2|1G2|OOQ[1G4^1G4^OOQ!0Lf1G/z1G/zOOQ!0Lf1G/x1G/xO$+uQ!0MxO1G0SOOQ[1G2x1G2xO!&iQMhO1G2xO%[QlO1G2xO#-|Q`O1G2xO$-yQMhO'#EiOOQ!0Lb,5@R,5@RO$.WQ!0LrO,5@ROOQ[1G.u1G.uO!BYQ!0LrO1G.uO!BeQpO1G.uO!BmQMhO1G.uO$.iQ`O1G0sO$.nQ`O'#CiO$.yQ`O'#KcO$/RQ`O,5=zO$/WQ`O'#KcO$/]Q`O'#KcO$/kQ`O'#JPO$/yQ`O,5@|O$0RQ!fO1G1hOOQ!0Lf1G1j1G1jO9aQ`O1G3eO@iQ`O1G3eO$0YQ`O1G3eO$0_Q`O1G3eOOQ[1G3e1G3eO!DkQ`O1G3TO!&iQMhO1G3QO$0dQ`O1G3QOOQ[1G3R1G3RO!&iQMhO1G3RO$0iQ`O1G3RO$0qQpO'#HPOOQ[1G3T1G3TO!5|QpO'#I{O!DpQ!bO1G3WOOQ[1G3W1G3WOOQ[,5=q,5=qO$0yQMhO,5=sO9aQ`O,5=sO$#yQ`O,5=uO9UQ`O,5=uO!BeQpO,5=uO!BmQMhO,5=uO:YQMhO,5=uO$1XQ`O'#KaO$1dQ`O,5=vOOQ[1G.k1G.kO$1iQ!0LrO1G.kO@iQ`O1G.kO$1tQ`O1G.kO9kQ!0LrO1G.kO$3|Q!fO,5AOO$4ZQ`O,5AOO9ZQ`O,5AOO$4fQlO,5=}O$4mQ`O,5=}OOQ[1G3g1G3gO`QlO1G3gOOQ[1G3m1G3mOOQ[1G3o1G3oO>rQ`O1G3qO$4rQlO1G3sO$8vQlO'#HrOOQ[1G3v1G3vO$9TQ`O'#HxO>wQ`O'#HzOOQ[1G3|1G3|O$9]QlO1G3|O9kQ!0LrO1G4SOOQ[1G4U1G4UOOQ!0Lb'#G^'#G^O9kQ!0LrO1G4WO9kQ!0LrO1G4YO$=dQ`O,5@`O!(yQlO,5;^O9ZQ`O,5;^O>wQ`O,5:VO!(yQlO,5:VO!BeQpO,5:VO$=iQ?MtO,5:VOOQO,5;^,5;^O$=sQpO'#IcO$>ZQ`O,5@_OOQ!0Lf1G/p1G/pO$>cQpO'#IiO$>mQ`O,5@nOOQ!0Lb1G0w1G0wO##hQpO,5:VOOQO'#Ie'#IeO$>uQpO,5:oOOQ!0Ln,5:o,5:oO#'cQ`O1G0XOOQ!0Lf1G0X1G0XO%[QlO1G0XOOQ!0Lf1G0r1G0rO>wQ`O1G0rO!BeQpO1G0rO!BmQMhO1G0rOOQ!0Lb1G5z1G5zO!BYQ!0LrO1G0[OOQO1G0k1G0kO%[QlO1G0kO$>|Q!0LrO1G0kO$?XQ!0LrO1G0kO!BeQpO1G0[OCuQpO1G0[O$?gQ!0LrO1G0kOOQO1G0[1G0[O$?{Q!0MxO1G0kPOOO-E<Y-E<YPOOO1G.h1G.hOOOO1G/g1G/gO$@VQ!bO,5<hO$@_Q!fO1G4hOOQO1G4n1G4nO%[QlO,5>|O$@iQ`O1G5xO$@qQ`O1G6WO$@yQ!fO1G6XO9ZQ`O,5?SO$ATQ!0MxO1G6UO%[QlO1G6UO$AeQ!0LrO1G6UO$AvQ`O1G6TO$AvQ`O1G6TO9ZQ`O1G6TO$BOQ`O,5?VO9ZQ`O,5?VOOQO,5?V,5?VO$BdQ`O,5?VO$)iQ`O,5?VOOQO-E<i-E<iOOQS1G0_1G0_OOQS1G0a1G0aO#-tQ`O1G0aOOQ[7+(d7+(dO!&iQMhO7+(dO%[QlO7+(dO$BrQ`O7+(dO$B}QMhO7+(dO$C]Q!0MzO,5=WO$EhQ!0MzO,5=YO$GsQ!0MzO,5=WO$JUQ!0MzO,5=YO$LgQ!0MzO,59sO$NlQ!0MzO,5<jO%!wQ!0MzO,5<lO%%SQ!0MzO,5<zOOQ!0Lf7+&_7+&_O%'eQ!0MxO7+&_O%(XQlO'#IdO%(fQ`O,5@aO%(nQ!fO,5@aOOQ!0Lf1G/}1G/}O%(xQ`O7+&hOOQ!0Lf7+&h7+&hO%(}Q?MtO,5:dO%[QlO7+&yO%)XQ?MtO,5:`O%)fQ?MtO,5:hO%)pQ?MtO,5:jO%)zQMhO'#IgO%*UQ`O,5@fOOQ!0Lh1G0b1G0bOOQO1G1q1G1qOOQO1G1r1G1rO%*^Q!jO,5<YO!(yQlO,5<XOOQO-E<j-E<jOOQ!0Lf7+'X7+'XOOOW7+'d7+'dOOOW1G1{1G1{O%*iQ`O1G1{OOQ!0Lf1G1}1G1}OOOO,59m,59mO%*nQ!dO,59mOOOO-E<^-E<^OOQ!0Lh1G/V1G/VO%*uQ!0MxO7+'jOOQ!0Lh,5?[,5?[O%+iQMhO1G2eP%+pQ`O'#IpPOQ!0Lh-E<n-E<nO%,^QMjO,5?_OOQ!0Lh-E<q-E<qO%-PQMjO,5?aOOQ!0Lh-E<s-E<sO%-ZQ!dO1G2vO%-bQ!dO'#CrO%-xQMhO'#KQO$#^QlO'#JtOOQ!0Lh1G2^1G2^O%.PQ`O'#IoO%.eQ`O,5@tO%.eQ`O,5@tO%.mQ`O,5@tO%.xQ`O,5@tOOQO1G2`1G2`O%/WQMjO1G2_O!+rQMhO1G2_O%/hQ(CWO'#IqO%/uQ`O,5@uO!&iQMhO,5@uO%/}Q!dO,5@uOOQ!0Lh1G2c1G2cO%2_Q!fO'#CiO%2iQ`O,5=OOOQ!0Lb,5<|,5<|O%2qQpO,5<|OOQ!0Lb,5<},5<}OCfQ`O,5<|O%2|QpO,5<|OOQ!0Lb,5=Q,5=QO$)iQ`O,5=UOOQO,5?^,5?^OOQO-E<p-E<pOOQ!0Lp1G2g1G2gO##hQpO,5<|O$#^QlO,5=OO%3[Q`O,5<}O%3gQpO,5<}O!+rQMhO'#IsO%4aQMjO1G2rO!+rQMhO'#IuO%5SQMjO1G2tO%5^QMjO1G5oO%5hQMjO1G5oOOQO,5?c,5?cOOQO-E<u-E<uOOQO1G.{1G.{O!9lQpO,59uO%[QlO,59uOOQ!0Lh,5<i,5<iO%5uQ`O1G2YO!+rQMhO1G2aO!+rQMhO1G5oO!+rQMhO1G5oO%5zQ!0MxO7+'lOOQ!0Lf7+'l7+'lO!$fQlO7+'lO%6nQ`O,5;^OOQ!0Lb,5?e,5?eOOQ!0Lb-E<w-E<wO%6sQ!dO'#K[O#'cQ`O7+(dO4UQ!fO7+(dO$BuQ`O7+(dO%6}Q!0MvO'#CiO%7nQ!0LrO,5=RO%8PQ!0MvO,5=RO%8dQ`O,5=ROOQ!0Lb1G5m1G5mOOQ[7+$a7+$aO!BYQ!0LrO7+$aO!BeQpO7+$aO!$fQlO7+&_O%8lQ`O'#JOO%9TQ`O,5@}OOQO1G3f1G3fO9aQ`O,5@}O%9TQ`O,5@}O%9]Q`O,5@}OOQO,5?k,5?kOOQO-E<}-E<}OOQ!0Lf7+'S7+'SO%9bQ`O7+)PO9kQ!0LrO7+)PO9aQ`O7+)PO@iQ`O7+)POOQ[7+(o7+(oO%9gQ!0MvO7+(lO!&iQMhO7+(lO!DfQ`O7+(mOOQ[7+(m7+(mO!&iQMhO7+(mO%9qQ`O'#K`O%9|Q`O,5=kOOQO,5?g,5?gOOQO-E<y-E<yOOQ[7+(r7+(rO%;`QpO'#HYOOQ[1G3_1G3_O!&iQMhO1G3_O%[QlO1G3_O%;gQ`O1G3_O%;rQMhO1G3_O9kQ!0LrO1G3aO$#yQ`O1G3aO9UQ`O1G3aO!BeQpO1G3aO!BmQMhO1G3aO%<QQ`O'#I}O%<fQ`O,5@{O%<nQpO,5@{OOQ!0Lb1G3b1G3bOOQ[7+$V7+$VO@iQ`O7+$VO9kQ!0LrO7+$VO%<yQ`O7+$VO%[QlO1G6jO%[QlO1G6kO%=OQ!0LrO1G6jO%=YQlO1G3iO%=aQ`O1G3iO%=fQlO1G3iOOQ[7+)R7+)RO9kQ!0LrO7+)]O`QlO7+)_OOQ['#Kf'#KfOOQ['#JQ'#JQO%=mQlO,5>^OOQ[,5>^,5>^O%[QlO'#HsO%=zQ`O'#HuOOQ[,5>d,5>dO9ZQ`O,5>dOOQ[,5>f,5>fOOQ[7+)h7+)hOOQ[7+)n7+)nOOQ[7+)r7+)rOOQ[7+)t7+)tO%>PQpO1G5zO%>kQ?MtO1G0xO%>uQ`O1G0xOOQO1G/q1G/qO%?QQ?MtO1G/qO>wQ`O1G/qO!(yQlO'#DkOOQO,5>},5>}OOQO-E<a-E<aOOQO,5?T,5?TOOQO-E<g-E<gO!BeQpO1G/qOOQO-E<c-E<cOOQ!0Ln1G0Z1G0ZOOQ!0Lf7+%s7+%sO#'cQ`O7+%sOOQ!0Lf7+&^7+&^O>wQ`O7+&^O!BeQpO7+&^OOQO7+%v7+%vO$?{Q!0MxO7+&VOOQO7+&V7+&VO%[QlO7+&VO%?[Q!0LrO7+&VO!BYQ!0LrO7+%vO!BeQpO7+%vO%?gQ!0LrO7+&VO%?uQ!0MxO7++pO%[QlO7++pO%@VQ`O7++oO%@VQ`O7++oOOQO1G4q1G4qO9ZQ`O1G4qO%@_Q`O1G4qOOQS7+%{7+%{O#'cQ`O<<LOO4UQ!fO<<LOO%@mQ`O<<LOOOQ[<<LO<<LOO!&iQMhO<<LOO%[QlO<<LOO%@uQ`O<<LOO%AQQ!0MzO,5?_O%C]Q!0MzO,5?aO%EhQ!0MzO1G2_O%GyQ!0MzO1G2rO%JUQ!0MzO1G2tO%LaQ!fO,5?OO%[QlO,5?OOOQO-E<b-E<bO%LkQ`O1G5{OOQ!0Lf<<JS<<JSO%LsQ?MtO1G0sO%NzQ?MtO1G0}O& RQ?MtO1G0}O&#SQ?MtO1G0}O&#ZQ?MtO1G0}O&%[Q?MtO1G0}O&']Q?MtO1G0}O&'dQ?MtO1G0}O&'kQ?MtO1G0}O&)lQ?MtO1G0}O&)sQ?MtO1G0}O&)zQ!0MxO<<JeO&+rQ?MtO1G0}O&,oQ?MvO1G0}O&-rQ?MvO'#JjO&/xQ?MtO1G1bO&0VQ?MtO1G0SO&0aQMjO,5?ROOQO-E<e-E<eO!(yQlO'#FpOOQO'#KX'#KXOOQO1G1t1G1tO&0kQ`O1G1sO&0pQ?MtO,5?YOOOW7+'g7+'gOOOO1G/X1G/XO&0zQ!dO1G4vOOQ!0Lh7+(P7+(PP!&iQMhO,5?[O!+rQMhO7+(bO&1RQ`O,5?ZO9ZQ`O,5?ZOOQO-E<m-E<mO&1aQ`O1G6`O&1aQ`O1G6`O&1iQ`O1G6`O&1tQMjO7+'yO&2UQ!dO,5?]O&2`Q`O,5?]O!&iQMhO,5?]OOQO-E<o-E<oO&2eQ!dO1G6aO&2oQ`O1G6aO&2wQ`O1G2jO!&iQMhO1G2jOOQ!0Lb1G2h1G2hOOQ!0Lb1G2i1G2iO%2qQpO1G2hO!BeQpO1G2hOCfQ`O1G2hOOQ!0Lb1G2p1G2pO&2|QpO1G2hO&3[Q`O1G2jO$)iQ`O1G2iOCfQ`O1G2iO$#^QlO1G2jO&3dQ`O1G2iO&4WQMjO,5?_OOQ!0Lh-E<r-E<rO&4yQMjO,5?aOOQ!0Lh-E<t-E<tO!+rQMhO7++ZOOQ!0Lh1G/a1G/aO&5TQ`O1G/aOOQ!0Lh7+'t7+'tO&5YQMjO7+'{O&5jQMjO7++ZO&5tQMjO7++ZO&6RQ!0MxO<<KWOOQ!0Lf<<KW<<KWO&6uQ`O1G0xO!&iQMhO'#IxO&6zQ`O,5@vO&8|Q!fO<<LOO!&iQMhO1G2mO&9TQ!0LrO1G2mOOQ[<<G{<<G{O!BYQ!0LrO<<G{O&9fQ!0MxO<<IyOOQ!0Lf<<Iy<<IyOOQO,5?j,5?jO&:YQ`O,5?jO&:_Q`O,5?jOOQO-E<|-E<|O&:mQ`O1G6iO&:mQ`O1G6iO9aQ`O1G6iO@iQ`O<<LkOOQ[<<Lk<<LkO&:uQ`O<<LkO9kQ!0LrO<<LkOOQ[<<LW<<LWO%9gQ!0MvO<<LWOOQ[<<LX<<LXO!DfQ`O<<LXO&:zQpO'#IzO&;VQ`O,5@zO!(yQlO,5@zOOQ[1G3V1G3VOOQO'#I|'#I|O9kQ!0LrO'#I|O&;_QpO,5=tOOQ[,5=t,5=tO&;fQpO'#EeO&;mQpO'#GdO&;rQ`O7+(yO&;wQ`O7+(yOOQ[7+(y7+(yO!&iQMhO7+(yO%[QlO7+(yO&<PQ`O7+(yOOQ[7+({7+({O9kQ!0LrO7+({O$#yQ`O7+({O9UQ`O7+({O!BeQpO7+({O&<[Q`O,5?iOOQO-E<{-E<{OOQO'#H]'#H]O&<gQ`O1G6gO9kQ!0LrO<<GqOOQ[<<Gq<<GqO@iQ`O<<GqO&<oQ`O7+,UO&<tQ`O7+,VO%[QlO7+,UO%[QlO7+,VOOQ[7+)T7+)TO&<yQ`O7+)TO&=OQlO7+)TO&=VQ`O7+)TOOQ[<<Lw<<LwOOQ[<<Ly<<LyOOQ[-E=O-E=OOOQ[1G3x1G3xO&=[Q`O,5>_OOQ[,5>a,5>aO&=aQ`O1G4OO9ZQ`O7+&dO!(yQlO7+&dOOQO7+%]7+%]O&=fQ?MtO1G6XO>wQ`O7+%]OOQ!0Lf<<I_<<I_OOQ!0Lf<<Ix<<IxO>wQ`O<<IxOOQO<<Iq<<IqO$?{Q!0MxO<<IqO%[QlO<<IqOOQO<<Ib<<IbO!BYQ!0LrO<<IbO&=pQ!0LrO<<IqO&={Q!0MxO<= [O&>]Q`O<= ZOOQO7+*]7+*]O9ZQ`O7+*]OOQ[ANAjANAjO&>eQ!fOANAjO!&iQMhOANAjO#'cQ`OANAjO4UQ!fOANAjO&>lQ`OANAjO%[QlOANAjO&>tQ!0MzO7+'yO&AVQ!0MzO,5?_O&CbQ!0MzO,5?aO&EmQ!0MzO7+'{O&HOQ!fO1G4jO&HYQ?MtO7+&_O&J^Q?MvO,5=WO&LeQ?MvO,5=YO&LuQ?MvO,5=WO&MVQ?MvO,5=YO&MgQ?MvO,59sO' mQ?MvO,5<jO'#pQ?MvO,5<lO'&UQ?MvO,5<zO''zQ?MtO7+'jO'(XQ?MtO7+'lO'(fQ`O,5<[OOQO7+'_7+'_OOQ!0Lh7+*b7+*bO'(kQMjO<<K|OOQO1G4u1G4uO'(rQ`O1G4uO'(}Q`O1G4uO')]Q`O7++zO')]Q`O7++zO!&iQMhO1G4wO')eQ!dO1G4wO')oQ`O7++{O')wQ`O7+(UO'*SQ!dO7+(UOOQ!0Lb7+(S7+(SOOQ!0Lb7+(T7+(TO!BeQpO7+(SOCfQ`O7+(SO'*^Q`O7+(UO!&iQMhO7+(UO$)iQ`O7+(TO'*cQ`O7+(UOCfQ`O7+(TO'*kQMjO<<NuOOQ!0Lh7+${7+${O!+rQMhO<<NuO'*uQ!dO,5?dOOQO-E<v-E<vO'+PQ!0MvO7+(XO!&iQMhO7+(XOOQ[AN=gAN=gO9aQ`O1G5UOOQO1G5U1G5UO'+aQ`O1G5UO'+fQ`O7+,TO'+fQ`O7+,TO9kQ!0LrOANBVO@iQ`OANBVOOQ[ANBVANBVOOQ[ANArANArOOQ[ANAsANAsO'+nQ`O,5?fOOQO-E<x-E<xO'+yQ?MtO1G6fOOQO,5?h,5?hOOQO-E<z-E<zOOQ[1G3`1G3`O',TQ`O,5=OOOQ[<<Le<<LeO!&iQMhO<<LeO&;rQ`O<<LeO',YQ`O<<LeO%[QlO<<LeOOQ[<<Lg<<LgO9kQ!0LrO<<LgO$#yQ`O<<LgO9UQ`O<<LgO',bQpO1G5TO',mQ`O7+,ROOQ[AN=]AN=]O9kQ!0LrOAN=]OOQ[<= p<= pOOQ[<= q<= qO',uQ`O<= pO',zQ`O<= qOOQ[<<Lo<<LoO'-PQ`O<<LoO'-UQlO<<LoOOQ[1G3y1G3yO>wQ`O7+)jO'-]Q`O<<JOO'-hQ?MtO<<JOOOQO<<Hw<<HwOOQ!0LfAN?dAN?dOOQOAN?]AN?]O$?{Q!0MxOAN?]OOQOAN>|AN>|O%[QlOAN?]OOQO<<Mw<<MwOOQ[G27UG27UO!&iQMhOG27UO#'cQ`OG27UO'-rQ!fOG27UO4UQ!fOG27UO'-yQ`OG27UO'.RQ?MtO<<JeO'.`Q?MvO1G2_O'0UQ?MvO,5?_O'2XQ?MvO,5?aO'4[Q?MvO1G2rO'6_Q?MvO1G2tO'8bQ?MtO<<KWO'8oQ?MtO<<IyOOQO1G1v1G1vO!+rQMhOANAhOOQO7+*a7+*aO'8|Q`O7+*aO'9XQ`O<= fO'9aQ!dO7+*cOOQ!0Lb<<Kp<<KpO$)iQ`O<<KpOCfQ`O<<KpO'9kQ`O<<KpO!&iQMhO<<KpOOQ!0Lb<<Kn<<KnO!BeQpO<<KnO'9vQ!dO<<KpOOQ!0Lb<<Ko<<KoO':QQ`O<<KpO!&iQMhO<<KpO$)iQ`O<<KoO':VQMjOANDaO':aQ!0MvO<<KsOOQO7+*p7+*pO9aQ`O7+*pO':qQ`O<= oOOQ[G27qG27qO9kQ!0LrOG27qO!(yQlO1G5QO':yQ`O7+,QO';RQ`O1G2jO&;rQ`OANBPOOQ[ANBPANBPO!&iQMhOANBPO';WQ`OANBPOOQ[ANBRANBRO9kQ!0LrOANBRO$#yQ`OANBROOQO'#H^'#H^OOQO7+*o7+*oOOQ[G22wG22wOOQ[ANE[ANE[OOQ[ANE]ANE]OOQ[ANBZANBZO';`Q`OANBZOOQ[<<MU<<MUO!(yQlOAN?jOOQOG24wG24wO$?{Q!0MxOG24wO#'cQ`OLD,pOOQ[LD,pLD,pO!&iQMhOLD,pO';eQ!fOLD,pO';lQ?MvO7+'yO'=bQ?MvO,5?_O'?eQ?MvO,5?aO'AhQ?MvO7+'{O'C^QMjOG27SOOQO<<M{<<M{OOQ!0LbANA[ANA[O$)iQ`OANA[OCfQ`OANA[O'CnQ!dOANA[OOQ!0LbANAYANAYO'CuQ`OANA[O!&iQMhOANA[O'DQQ!dOANA[OOQ!0LbANAZANAZOOQO<<N[<<N[OOQ[LD-]LD-]O'D[Q?MtO7+*lOOQO'#Ge'#GeOOQ[G27kG27kO&;rQ`OG27kO!&iQMhOG27kOOQ[G27mG27mO9kQ!0LrOG27mOOQ[G27uG27uO'DfQ?MtOG25UOOQOLD*cLD*cOOQ[!$(![!$(![O#'cQ`O!$(![O!&iQMhO!$(![O'DpQ!0MzOG27SOOQ!0LbG26vG26vO$)iQ`OG26vO'GRQ`OG26vOCfQ`OG26vO'G^Q!dOG26vO!&iQMhOG26vOOQ[LD-VLD-VO&;rQ`OLD-VOOQ[LD-XLD-XOOQ[!)9Ev!)9EvO#'cQ`O!)9EvOOQ!0LbLD,bLD,bO$)iQ`OLD,bOCfQ`OLD,bO'GeQ`OLD,bO'GpQ!dOLD,bOOQ[!$(!q!$(!qOOQ[!.K;b!.K;bO'GwQ?MvOG27SOOQ!0Lb!$( |!$( |O$)iQ`O!$( |OCfQ`O!$( |O'ImQ`O!$( |OOQ!0Lb!)9Eh!)9EhO$)iQ`O!)9EhOCfQ`O!)9EhOOQ!0Lb!.K;S!.K;SO$)iQ`O!.K;SOOQ!0Lb!4/0n!4/0nO!(yQlO'#DxO1PQ`O'#EVO'IxQ!fO'#JpO'JPQ!L^O'#DtO'JWQlO'#D|O'J_Q!fO'#CiO'LuQ!fO'#CiO!(yQlO'#EOO'MVQlO,5;XO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO'#InO( YQ`O,5<hO!(yQlO,5;cO( bQMhO,5;cO(!{QMhO,5;cO!(yQlO,5;vO!&iQMhO'#GlO( bQMhO'#GlO!&iQMhO'#GnO( bQMhO'#GnO1SQ`O'#DXO1SQ`O'#DXO!&iQMhO'#GOO( bQMhO'#GOO!&iQMhO'#GQO( bQMhO'#GQO!&iQMhO'#G`O( bQMhO'#G`O!(yQlO,5:hO(#SQpO'#D]O(#^QpO'#JtO!(yQlO,5@mO'MVQlO1G0sO(#hQ?MtO'#CiO!(yQlO1G2OO!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO(#rQ!dO'#CrO!&iQMhO,5<sO( bQMhO,5<sO'MVQlO1G2QO!(yQlO7+&yO!&iQMhO1G2_O( bQMhO1G2_O!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO!&iQMhO1G2aO( bQMhO1G2aO'MVQlO7+'lO'MVQlO7+&_O!&iQMhOANAhO( bQMhOANAhO($VQ`O'#EmO($[Q`O'#EmO($dQ`O'#F[O($iQ`O'#EwO($nQ`O'#KRO($yQ`O'#KPO(%UQ`O,5;XO(%ZQMjO,5<dO(%bQ`O'#GXO(%gQ`O'#GXO(%lQ`O,5<fO(%tQ`O,5;XO(%|Q?MtO1G1_O(&TQ`O,5<sO(&YQ`O,5<sO(&_Q`O,5<uO(&dQ`O,5<uO(&iQ`O1G2QO(&nQ`O1G0sO(&sQMjO<<K|O(&zQMjO<<K|O7eQMhO'#F{O9UQ`O'#FzOAdQ`O'#ElO!(yQlO,5;sO!3^Q`O'#GXO!3^Q`O'#GXO!3^Q`O'#GZO!3^Q`O'#GZO!+rQMhO7+(bO!+rQMhO7+(bO%-ZQ!dO1G2vO%-ZQ!dO1G2vO!&iQMhO,5=[O!&iQMhO,5=[",stateData:"((P~O'zOS'{OSTOS'|RQ~OPYOQYOSfOY!VOaqOdzOeyOj!POnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!swO!vxO!z]O$V|O$miO%g}O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO&U!WO&[!XO&^!YO&`!ZO&b![O&e!]O&k!^O&q!_O&s!`O&u!aO&w!bO&y!cO(RSO(TTO(WUO(_VO(m[O~OWtO~P`OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa!wOq!nO!Q!oO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!xO#U!pO#V!pO#Y!zO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O'|!{O~OP]XR]X[]Xa]Xp]X!O]X!Q]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X'x]X(_]X(p]X(w]X(x]X~O!e%QX~P(qO_!}O(T#PO(U!}O(V#PO~O_#QO(V#PO(W#PO(X#QO~Ov#SO!S#TO(`#TO(a#VO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R;{O(TTO(WUO(_VO(m[O~O!Y#ZO!Z#WO!W(fP!W(tP~P+}O![#cO~P`OPYOQYOSfOd!jOe!iOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(TTO(WUO(_VO(m[O~On#mO!Y#iO!z]O#g#lO#h#iO(R;|O!i(qP~P.iO!j#oO(R#nO~O!v#sO!z]O%g#tO~O#i#uO~O!e#vO#i#uO~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z$_O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa(dX'x(dX'u(dX!i(dX!W(dX!](dX%h(dX!e(dX~P1qO#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX!](eX%h(eX~Oa(eX'x(eX'u(eX!W(eX!i(eXt(eX!e(eX~P4UO#^$eO~O$[$hO$^$gO$e$mO~OSfO!]$nO$h$oO$j$qO~Oh%VOj%cOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R$sO(TTO(WUO(_$uO(w$}O(x%POg([P~O!j%dO~O!Q%gO!]%hO(R%fO~O!e%lO~Oa%mO'x%mO~O!O%qO~P%[O(S!lO~P%[O%m%uO~P%[Oh%VO!j%dO(R%fO(S!lO~Oe%|O!j%dO(R%fO~O#t$RO~O!O&RO!]&OO!j&QO%i&UO(R%fO(S!lO(TTO(WUO`)UP~O!v#sO~O%r&WO!Q)QX!])QX(R)QX~O(R&XO~Oj!PO!s&^O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO~Od&cOe&bO!v&`O%g&aO%z&_O~P<POd&fOeyOj!PO!]&eO!s&^O!vxO!z]O%g}O%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO~Ob&iO#^&lO%i&gO(S!lO~P=UO!j&mO!s&qO~O!j#oO~O!]XO~Oa%mO'v&yO'x%mO~Oa%mO'v&|O'x%mO~Oa%mO'v'OO'x%mO~O'u]X!W]Xt]X!i]X&Y]X!]]X%h]X!e]X~P(qO!`']O!a'UO!b'UO(S!lO(TTO(WUO~Oq'SO!Q'RO!Y'VO(c'QO![(gP![(vP~P@]Ol'`O!]'^O(R%fO~Oe'eO!j%dO(R%fO~O!O&RO!j&QO~Oq!nO!Q!oO!z;wO#R!pO#S!pO#U!pO#V!pO(S!lO(TTO(WUO(c!mO(m!sO~O!`'kO!a'jO!b'jO#T!pO#Y'lO#Z'lO~PAwOa%mOh%VO!e#vO!j%dO'x%mO(p'nO~O!n'rO#^'pO~PCVOq!nO!Q!oO(TTO(WUO(c!mO(m!sO~O!]XOq(kX!Q(kX!`(kX!a(kX!b(kX!z(kX#R(kX#S(kX#T(kX#U(kX#V(kX#Y(kX#Z(kX(S(kX(T(kX(W(kX(c(kX(m(kX~O!a'jO!b'jO(S!lO~PCuO'}'vO(O'vO(P'xO~O_!}O(T'zO(U!}O(V'zO~O_#QO(V'zO(W'zO(X#QO~Ot'|O~P%[Ov#SO!S#TO(`#TO(a(PO~O!Y(RO!W'UX!W'[X!Z'UX!Z'[X~P+}O!Z(TO!W(fX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z(TO!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~O!W(fX~PGpO!W(YO~O!W(sX!Z(sX!e(sX!i(sX(p(sX~O#^(sX#i#bX![(sX~PIsO#^(ZO!W(uX!Z(uX~O!Z([O!W(tX~O!W(_O~O#^$eO~PIsO![(`O~P`OR#zO!O#yO!Q#{O!j#xO(_VOP!la[!lap!la!Z!la!n!la#P!la#l!la#m!la#n!la#o!la#p!la#q!la#r!la#s!la#t!la#u!la#w!la#y!la#z!la(p!la(w!la(x!la~Oa!la'x!la'u!la!W!la!i!lat!la!]!la%h!la!e!la~PKZO!i(aO~O!e#vO#^(bO(p'nO!Z(rXa(rX'x(rX~O!i(rX~PMvO!Q%gO!]%hO!z]O#g(gO#h(fO(R%fO~O!Z(hO!i(qX~O!i(jO~O!Q%gO!]%hO#h(fO(R%fO~OP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O!e#vO!i(eX~P! dOR(lO!O(kO!j#xO#Q$dO!z!ya!Q!ya~O!v!ya%g!ya!]!ya#g!ya#h!ya(R!ya~P!#eO!v(pO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~O#i(vO~O!Y(xO!i(iP~P%[O(c(zO(m[O~O!Q(|O!j#xO(c(zO(m[O~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z$_Oa$pa'x$pa'u$pa!i$pa!W$pa!]$pa%h$pa!e$pa~Oj)bO~P!&iOh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Og(nP~P!+rO!O)gO!e)fO!]$]X$Y$]X$[$]X$^$]X$e$]X~O!e)fO!](yX$Y(yX$[(yX$^(yX$e(yX~O!O)gO~P!-{O!O)gO!](yX$Y(yX$[(yX$^(yX$e(yX~O!])iO$Y)mO$[)hO$^)hO$e)nO~O!Y)qO~P!(yO$[$hO$^$gO$e)uO~Ol$yX!O$yX#Q$yX'w$yX(w$yX(x$yX~OgkXg$yXlkX!ZkX#^kX~P!/qOv)wO(`)xO(a)zO~Ol*TO!O)|O'w)}O(w$}O(x%PO~Og){O~P!0uOg*UO~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q*WO!]*XO!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~O!Y*[O(R*VO!i(|P~P!1dO#i*^O~O!j*_O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R*aO(TTO(WUO(_$uO(w$}O(x%PO~O!Y*dO!W(}P~P!3cOp*pOq!nO!Q*fO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO(c!mO~O![*mO~P!5WO#Q$dOl(^X!O(^X'w(^X(w(^X(x(^X!Z(^X#^(^X~Og(^X#}(^X~P!6YOl*uO#^*tOg(]X!Z(]X~O!Z*vOg([X~Oj%cO(R&XOg([P~Oq*yO~O!j+OO~O(R(tO~On+TO!Q%gO!Y#iO!]%hO!z]O#g#lO#h#iO(R%fO!i(qP~O!e#vO#i+UO~O!Q%gO!Y+WO!Z([O!]%hO(R%fO!W(tP~Oq'YO!Q+YO!Y+XO(TTO(WUO(c(zO~O![(vP~P!9]O!Z+ZOa)RX'x)RX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa!ha!Z!ha'x!ha'u!ha!W!ha!i!hat!ha!]!ha%h!ha!e!ha~P!:TOR#zO!O#yO!Q#{O!j#xO(_VOP!pa[!pap!pa!Z!pa!n!pa#P!pa#l!pa#m!pa#n!pa#o!pa#p!pa#q!pa#r!pa#s!pa#t!pa#u!pa#w!pa#y!pa#z!pa(p!pa(w!pa(x!pa~Oa!pa'x!pa'u!pa!W!pa!i!pat!pa!]!pa%h!pa!e!pa~P!<kOR#zO!O#yO!Q#{O!j#xO(_VOP!ra[!rap!ra!Z!ra!n!ra#P!ra#l!ra#m!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#w!ra#y!ra#z!ra(p!ra(w!ra(x!ra~Oa!ra'x!ra'u!ra!W!ra!i!rat!ra!]!ra%h!ra!e!ra~P!?ROh%VOl+dO!]'^O%h+cO~O!e+fOa(ZX!](ZX'x(ZX!Z(ZX~Oa%mO!]XO'x%mO~Oh%VO!j%dO~Oh%VO!j%dO(R%fO~O!e#vO#i(vO~Ob+qO%i+rO(R+nO(TTO(WUO![)VP~O!Z+sO`)UX~O[+wO~O`+xO~O!]&OO(R%fO(S!lO`)UP~Oh%VO#^+}O~Oh%VOl,QO!]$|O~O!],SO~O!O,UO!]XO~O%m%uO~O!v,ZO~Oe,`O~Ob,aO(R#nO(TTO(WUO![)TP~Oe%|O~O%i!QO(R&XO~P=UO[,fO`,eO~OPYOQYOSfOdzOeyOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!guO!jZO!mYO!nYO!oYO!qvO!vxO!z]O$miO%g}O(TTO(WUO(_VO(m[O~O!]!eO!s!gO$V!kO(R!dO~P!FRO`,eOa%mO'x%mO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa,kOj!OO!swO%k!OO%l!OO%m!OO~P!HkO!j&mO~O&[,qO~O!],sO~O&m,uO&o,vOP&jaQ&jaS&jaY&jaa&jad&jae&jaj&jan&jap&jaq&jar&jax&jaz&ja|&ja!Q&ja!U&ja!V&ja!]&ja!g&ja!j&ja!m&ja!n&ja!o&ja!q&ja!s&ja!v&ja!z&ja$V&ja$m&ja%g&ja%i&ja%k&ja%l&ja%m&ja%p&ja%r&ja%u&ja%v&ja%x&ja&U&ja&[&ja&^&ja&`&ja&b&ja&e&ja&k&ja&q&ja&s&ja&u&ja&w&ja&y&ja'u&ja(R&ja(T&ja(W&ja(_&ja(m&ja![&ja&c&jab&ja&h&ja~O(R,{O~Oh!cX!Z!PX![!PX!e!PX!e!cX!j!cX#^!PX~O!Z!cX![!cX~P# qO!e-QO#^-POh(hX!Z#fX![#fX!e(hX!j(hX~O!Z(hX![(hX~P#!dOh%VO!e-SO!j%dO!Z!_X![!_X~Oq!nO!Q!oO(TTO(WUO(c!mO~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(TTO(WUO(_VO(m[O~O(R<rO~P##yO!Z-WO![(gX~O![-YO~O!e-QO#^-PO!Z#fX![#fX~O!Z-ZO![(vX~O![-]O~O!a-^O!b-^O(S!lO~P##hO![-aO~P'_Ol-dO!]'^O~O!W-iO~Oq!ya!`!ya!a!ya!b!ya#R!ya#S!ya#T!ya#U!ya#V!ya#Y!ya#Z!ya(S!ya(T!ya(W!ya(c!ya(m!ya~P!#eO!n-nO#^-lO~PCVO!a-pO!b-pO(S!lO~PCuOa%mO#^-lO'x%mO~Oa%mO!e#vO#^-lO'x%mO~Oa%mO!e#vO!n-nO#^-lO'x%mO(p'nO~O'}'vO(O'vO(P-uO~Ot-vO~O!W'Ua!Z'Ua~P!:TO!Y-zO!W'UX!Z'UX~P%[O!Z(TO!W(fa~O!W(fa~PGpO!Z([O!W(ta~O!Q%gO!Y.OO!]%hO(R%fO!W'[X!Z'[X~O#^.QO!Z(ra!i(raa(ra'x(ra~O!e#vO~P#,PO!Z(hO!i(qa~O!Q%gO!]%hO#h.UO(R%fO~On.ZO!Q%gO!Y.WO!]%hO!z]O#g.YO#h.WO(R%fO!Z'_X!i'_X~OR._O!j#xO~Oh%VOl.bO!]'^O%h.aO~Oa#ai!Z#ai'x#ai'u#ai!W#ai!i#ait#ai!]#ai%h#ai!e#ai~P!:TOl=|O!O)|O'w)}O(w$}O(x%PO~O#i#]aa#]a#^#]a'x#]a!Z#]a!i#]a!]#]a!W#]a~P#.{O#i(^XP(^XR(^X[(^Xa(^Xp(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X'x(^X(_(^X(p(^X!i(^X!W(^X'u(^Xt(^X!](^X%h(^X!e(^X~P!6YO!Z.oO!i(iX~P!:TO!i.rO~O!W.tO~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kia#kip#ki!Z#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#l#ki~P#2kO#l$OO~P#2kOP$[OR#zOp$aO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO[#kia#ki!Z#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#p#ki~P#5YO#p$QO~P#5YOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO(_VOa#ki!Z#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#u#ki~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO(_VO(x#}Oa#ki!Z#ki#y#ki#z#ki'x#ki(p#ki(w#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#w$UO~P#:_O#w#ki~P#:_O#u$SO~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO(_VO(w#|O(x#}Oa#ki!Z#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#y#ki~P#=TO#y$WO~P#=TOP]XR]X[]Xp]X!O]X!Q]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X!Z]X![]X~O#}]X~P#?rOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO#y<XO#z<YO(_VO(p$YO(w#|O(x#}O~O#}.vO~P#BPO#Q$dO#^<`O$P<`O#}(eX![(eX~P! dOa'ba!Z'ba'x'ba'u'ba!i'ba!W'bat'ba!]'ba%h'ba!e'ba~P!:TO[#kia#kip#ki!Z#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO(w#ki(x#ki~P#EROl=|O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P#ERO!Z.zOg(nX~P!0uOg.|O~Oa$Oi!Z$Oi'x$Oi'u$Oi!W$Oi!i$Oit$Oi!]$Oi%h$Oi!e$Oi~P!:TO$[.}O$^.}O~O$[/OO$^/OO~O!e)fO#^/PO!]$bX$Y$bX$[$bX$^$bX$e$bX~O!Y/QO~O!])iO$Y/SO$[)hO$^)hO$e/TO~O!Z<ZO![(dX~P#BPO![/UO~O!e)fO$e(yX~O$e/WO~Ot/XO~P!&iOv)wO(`)xO(a/[O~O!Q/_O~O(w$}Ol%`a!O%`a'w%`a(x%`a!Z%`a#^%`a~Og%`a#}%`a~P#LTO(x%POl%ba!O%ba'w%ba(w%ba!Z%ba#^%ba~Og%ba#}%ba~P#LvO!ZfX!efX!ifX!i$yX(pfX~P!/qO!Y/hO!Z([O(R/gO!W(tP!W(}P~P!1dOp*pO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO~Oq<oO!Q/iO!Y+XO![*mO(c<nO![(vP~P#NaO!i/jO~P#.{O!Z/kO!e#vO(p'nO!i(|X~O!i/pO~O!Q%gO!Y*[O!]%hO(R%fO!i(|P~O#i/rO~O!W$yX!Z$yX!e%QX~P!/qO!Z/sO!W(}X~P#.{O!e/uO~O!W/wO~OnkO(R/xO~P.iOh%VOp/}O!e#vO!j%dO(p'nO~O!e+fO~Oa%mO!Z0RO'x%mO~O![0TO~P!5WO!a0UO!b0UO(S!lO~P##hOq!nO!Q0VO(TTO(WUO(c!mO~O#Y0XO~Og%`a!Z%`a#^%`a#}%`a~P!0uOg%ba!Z%ba#^%ba#}%ba~P!0uOj%cO(R&XOg'kX!Z'kX~O!Z*vOg([a~Og0bO~OR0cO!O0cO!Q0dO#Q$dOl{a'w{a(w{a(x{a!Z{a#^{a~Og{a#}{a~P$&dO!O)|O'w)}Ol$ra(w$ra(x$ra!Z$ra#^$ra~Og$ra#}$ra~P$'`O!O)|O'w)}Ol$ta(w$ta(x$ta!Z$ta#^$ta~Og$ta#}$ta~P$(RO#i0gO~Og%Sa!Z%Sa#^%Sa#}%Sa~P!0uOl0iO#^0hOg(]a!Z(]a~O!e#vO~O#i0lO~O!Z+ZOa)Ra'x)Ra~OR#zO!O#yO!Q#{O!j#xO(_VOP!pi[!pip!pi!Z!pi!n!pi#P!pi#l!pi#m!pi#n!pi#o!pi#p!pi#q!pi#r!pi#s!pi#t!pi#u!pi#w!pi#y!pi#z!pi(p!pi(w!pi(x!pi~Oa!pi'x!pi'u!pi!W!pi!i!pit!pi!]!pi%h!pi!e!pi~P$*OOh%VOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~On0vO%[0wO(R0tO~P$,fO!e+fOa(Za!](Za'x(Za!Z(Za~O#i0|O~O[]X!ZfX![fX~O!Z0}O![)VX~O![1PO~O[1QO~Ob1SO(R+nO(TTO(WUO~O!]&OO(R%fO`'sX!Z'sX~O!Z+sO`)Ua~O!i1VO~P!:TO[1YO~O`1ZO~O#^1^O~Ol1aO!]$|O~O(c(zO![)SP~Oh%VOl1jO!]1gO%h1iO~O[1tO!Z1rO![)TX~O![1uO~O`1wOa%mO'x%mO~O(R#nO(TTO(WUO~O#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O#t1zO&Y1{Oa(eX~P$2PO#^$eO#t1zO&Y1{O~Oa1}O~P%[Oa2PO~O&c2SOP&aiQ&aiS&aiY&aia&aid&aie&aij&ain&aip&aiq&air&aix&aiz&ai|&ai!Q&ai!U&ai!V&ai!]&ai!g&ai!j&ai!m&ai!n&ai!o&ai!q&ai!s&ai!v&ai!z&ai$V&ai$m&ai%g&ai%i&ai%k&ai%l&ai%m&ai%p&ai%r&ai%u&ai%v&ai%x&ai&U&ai&[&ai&^&ai&`&ai&b&ai&e&ai&k&ai&q&ai&s&ai&u&ai&w&ai&y&ai'u&ai(R&ai(T&ai(W&ai(_&ai(m&ai![&aib&ai&h&ai~Ob2YO![2WO&h2XO~P`O!]XO!j2[O~O&o,vOP&jiQ&jiS&jiY&jia&jid&jie&jij&jin&jip&jiq&jir&jix&jiz&ji|&ji!Q&ji!U&ji!V&ji!]&ji!g&ji!j&ji!m&ji!n&ji!o&ji!q&ji!s&ji!v&ji!z&ji$V&ji$m&ji%g&ji%i&ji%k&ji%l&ji%m&ji%p&ji%r&ji%u&ji%v&ji%x&ji&U&ji&[&ji&^&ji&`&ji&b&ji&e&ji&k&ji&q&ji&s&ji&u&ji&w&ji&y&ji'u&ji(R&ji(T&ji(W&ji(_&ji(m&ji![&ji&c&jib&ji&h&ji~O!W2bO~O!Z!_a![!_a~P#BPOq!nO!Q!oO!Y2hO(c!mO!Z'VX!['VX~P@]O!Z-WO![(ga~O!Z']X![']X~P!9]O!Z-ZO![(va~O![2oO~P'_Oa%mO#^2xO'x%mO~Oa%mO!e#vO#^2xO'x%mO~Oa%mO!e#vO!n2|O#^2xO'x%mO(p'nO~Oa%mO'x%mO~P!:TO!Z$_Ot$pa~O!W'Ui!Z'Ui~P!:TO!Z(TO!W(fi~O!Z([O!W(ti~O!W(ui!Z(ui~P!:TO!Z(ri!i(ria(ri'x(ri~P!:TO#^3OO!Z(ri!i(ria(ri'x(ri~O!Z(hO!i(qi~O!Q%gO!]%hO!z]O#g3TO#h3SO(R%fO~O!Q%gO!]%hO#h3SO(R%fO~Ol3[O!]'^O%h3ZO~Oh%VOl3[O!]'^O%h3ZO~O#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`at%`a!]%`a%h%`a!e%`a~P#LTO#i%baP%baR%ba[%baa%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%bat%ba!]%ba%h%ba!e%ba~P#LvO#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!Z%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`a#^%`at%`a!]%`a%h%`a!e%`a~P#.{O#i%baP%baR%ba[%baa%bap%ba!Q%ba!Z%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%ba#^%bat%ba!]%ba%h%ba!e%ba~P#.{O#i{aP{a[{aa{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a'x{a(_{a(p{a!i{a!W{a'u{at{a!]{a%h{a!e{a~P$&dO#i$raP$raR$ra[$raa$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra'x$ra(_$ra(p$ra!i$ra!W$ra'u$rat$ra!]$ra%h$ra!e$ra~P$'`O#i$taP$taR$ta[$taa$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta'x$ta(_$ta(p$ta!i$ta!W$ta'u$tat$ta!]$ta%h$ta!e$ta~P$(RO#i%SaP%SaR%Sa[%Saa%Sap%Sa!Q%Sa!Z%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa'x%Sa(_%Sa(p%Sa!i%Sa!W%Sa'u%Sa#^%Sat%Sa!]%Sa%h%Sa!e%Sa~P#.{Oa#aq!Z#aq'x#aq'u#aq!W#aq!i#aqt#aq!]#aq%h#aq!e#aq~P!:TO!Y3dO!Z'WX!i'WX~P%[O!Z.oO!i(ia~O!Z.oO!i(ia~P!:TO!W3gO~O#}!la![!la~PKZO#}!ha!Z!ha![!ha~P#BPO#}!pa![!pa~P!<kO#}!ra![!ra~P!?ROg'ZX!Z'ZX~P!+rO!Z.zOg(na~OSfO!]3{O$c3|O~O![4QO~Ot4RO~P#.{Oa$lq!Z$lq'x$lq'u$lq!W$lq!i$lqt$lq!]$lq%h$lq!e$lq~P!:TO!W4TO~P!&iO!Q4UO~O!O)|O'w)}O(x%POl'ga(w'ga!Z'ga#^'ga~Og'ga#}'ga~P%+uO!O)|O'w)}Ol'ia(w'ia(x'ia!Z'ia#^'ia~Og'ia#}'ia~P%,hO(p$YO~P#.{O!WfX!W$yX!ZfX!Z$yX!e%QX#^fX~P!/qO(R<xO~P!1dO!Q%gO!Y4XO!]%hO(R%fO!Z'cX!i'cX~O!Z/kO!i(|a~O!Z/kO!e#vO!i(|a~O!Z/kO!e#vO(p'nO!i(|a~Og${i!Z${i#^${i#}${i~P!0uO!Y4aO!W'eX!Z'eX~P!3cO!Z/sO!W(}a~O!Z/sO!W(}a~P#.{OP]XR]X[]Xp]X!O]X!Q]X!W]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!e%XX#t%XX~P%0XO!e#vO#t4fO~Oh%VO!e#vO!j%dO~Oh%VOp4kO!j%dO(p'nO~Op4pO!e#vO(p'nO~Oq!nO!Q4qO(TTO(WUO(c!mO~O(w$}Ol%`i!O%`i'w%`i(x%`i!Z%`i#^%`i~Og%`i#}%`i~P%3xO(x%POl%bi!O%bi'w%bi(w%bi!Z%bi#^%bi~Og%bi#}%bi~P%4kOg(]i!Z(]i~P!0uO#^4wOg(]i!Z(]i~P!0uO!i4zO~Oa$nq!Z$nq'x$nq'u$nq!W$nq!i$nqt$nq!]$nq%h$nq!e$nq~P!:TO!W5QO~O!Z5RO!])OX~P#.{Oa]Xa$yX!]]X!]$yX%]]X'x]X'x$yX!Z]X!Z$yX~P!/qO%]5UOa%Za!]%Za'x%Za!Z%Za~OlmX!OmX'wmX(wmX(xmX~P%7nOn5VO(R#nO~Ob5]O%i5^O(R+nO(TTO(WUO!Z'rX!['rX~O!Z0}O![)Va~O[5bO~O`5cO~Oa%mO'x%mO~P#.{O!Z5kO#^5mO![)SX~O![5nO~Op5tOq!nO!Q*fO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!pO#U!pO#V!pO#Y5sO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O![5rO~P%:ROl5yO!]1gO%h5xO~Oh%VOl5yO!]1gO%h5xO~Ob6QO(R#nO(TTO(WUO!Z'qX!['qX~O!Z1rO![)Ta~O(TTO(WUO(c6SO~O`6WO~O#t6ZO&Y6[O~PMvO!i6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO![6dO&h2XO~P`O!e6fO~O!e6hOh(hi!Z(hi![(hi!e(hi!j(hip(hi(p(hi~O!Z#fi![#fi~P#BPO#^6iO!Z#fi![#fi~O!Z!_i![!_i~P#BPOa%mO#^6rO'x%mO~Oa%mO!e#vO#^6rO'x%mO~O!Z(rq!i(rqa(rq'x(rq~P!:TO!Z(hO!i(qq~O!Q%gO!]%hO#h6yO(R%fO~O!]'^O%h6|O~Ol7QO!]'^O%h6|O~O#i'gaP'gaR'ga['gaa'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga'x'ga(_'ga(p'ga!i'ga!W'ga'u'gat'ga!]'ga%h'ga!e'ga~P%+uO#i'iaP'iaR'ia['iaa'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia'x'ia(_'ia(p'ia!i'ia!W'ia'u'iat'ia!]'ia%h'ia!e'ia~P%,hO#i${iP${iR${i[${ia${ip${i!Q${i!Z${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i'x${i(_${i(p${i!i${i!W${i'u${i#^${it${i!]${i%h${i!e${i~P#.{O#i%`iP%`iR%`i[%`ia%`ip%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i'x%`i(_%`i(p%`i!i%`i!W%`i'u%`it%`i!]%`i%h%`i!e%`i~P%3xO#i%biP%biR%bi[%bia%bip%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi'x%bi(_%bi(p%bi!i%bi!W%bi'u%bit%bi!]%bi%h%bi!e%bi~P%4kO!Z'Wa!i'Wa~P!:TO!Z.oO!i(ii~O#}#ai!Z#ai![#ai~P#BPOP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kip#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#l#ki~P%MQO#l<PO~P%MQOP$[OR#zOp<]O!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO[#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#p#ki~P& YO#p<RO~P& YOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO(_VO#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#u#ki~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO(_VO(x#}O#y#ki#z#ki#}#ki(p#ki(w#ki!Z#ki![#ki~O#w<VO~P&%cO#w#ki~P&%cO#u<TO~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO(_VO(w#|O(x#}O#z#ki#}#ki(p#ki!Z#ki![#ki~O#y#ki~P&'rO#y<XO~P&'rOa#{y!Z#{y'x#{y'u#{y!W#{y!i#{yt#{y!]#{y%h#{y!e#{y~P!:TO[#kip#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki!Z#ki![#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO(w#ki(x#ki~P&*nOl=}O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P&*nO#Q$dOP(^XR(^X[(^Xl(^Xp(^X!O(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X#}(^X'w(^X(_(^X(p(^X(w(^X(x(^X!Z(^X![(^X~O#}$Oi!Z$Oi![$Oi~P#BPO#}!pi![!pi~P$*OOg'Za!Z'Za~P!0uO![7dO~O!Z'ba!['ba~P#BPO!W7eO~P#.{O!e#vO(p'nO!Z'ca!i'ca~O!Z/kO!i(|i~O!Z/kO!e#vO!i(|i~Og${q!Z${q#^${q#}${q~P!0uO!W'ea!Z'ea~P#.{O!e7lO~O!Z/sO!W(}i~P#.{O!Z/sO!W(}i~O!W7oO~Oh%VOp7tO!j%dO(p'nO~O!e#vO#t7vO~Op7yO!e#vO(p'nO~O!O)|O'w)}O(x%POl'ha(w'ha!Z'ha#^'ha~Og'ha#}'ha~P&3oO!O)|O'w)}Ol'ja(w'ja(x'ja!Z'ja#^'ja~Og'ja#}'ja~P&4bO!W7{O~Og$}q!Z$}q#^$}q#}$}q~P!0uOg(]q!Z(]q~P!0uO#^7|Og(]q!Z(]q~P!0uOa$ny!Z$ny'x$ny'u$ny!W$ny!i$nyt$ny!]$ny%h$ny!e$ny~P!:TO!e6hO~O!Z5RO!])Oa~O!]'^OP$SaR$Sa[$Sap$Sa!O$Sa!Q$Sa!Z$Sa!j$Sa!n$Sa#P$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#t$Sa#u$Sa#w$Sa#y$Sa#z$Sa(_$Sa(p$Sa(w$Sa(x$Sa~O%h6|O~P&7SO%]8QOa%Zi!]%Zi'x%Zi!Z%Zi~Oa#ay!Z#ay'x#ay'u#ay!W#ay!i#ayt#ay!]#ay%h#ay!e#ay~P!:TO[8SO~Ob8UO(R+nO(TTO(WUO~O!Z0}O![)Vi~O`8YO~O(c(zO!Z'nX!['nX~O!Z5kO![)Sa~O![8cO~P%:RO(m!sO~P$$oO#Y8dO~O!]1gO~O!]1gO%h8fO~Ol8iO!]1gO%h8fO~O[8nO!Z'qa!['qa~O!Z1rO![)Ti~O!i8rO~O!i8sO~O!i8vO~O!i8vO~P%[Oa8xO~O!e8yO~O!i8zO~O!Z(ui![(ui~P#BPOa%mO#^9SO'x%mO~O!Z(ry!i(rya(ry'x(ry~P!:TO!Z(hO!i(qy~O%h9VO~P&7SO!]'^O%h9VO~O#i${qP${qR${q[${qa${qp${q!Q${q!Z${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q'x${q(_${q(p${q!i${q!W${q'u${q#^${qt${q!]${q%h${q!e${q~P#.{O#i'haP'haR'ha['haa'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha'x'ha(_'ha(p'ha!i'ha!W'ha'u'hat'ha!]'ha%h'ha!e'ha~P&3oO#i'jaP'jaR'ja['jaa'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja'x'ja(_'ja(p'ja!i'ja!W'ja'u'jat'ja!]'ja%h'ja!e'ja~P&4bO#i$}qP$}qR$}q[$}qa$}qp$}q!Q$}q!Z$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q'x$}q(_$}q(p$}q!i$}q!W$}q'u$}q#^$}qt$}q!]$}q%h$}q!e$}q~P#.{O!Z'Wi!i'Wi~P!:TO#}#aq!Z#aq![#aq~P#BPO(w$}OP%`aR%`a[%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a#}%`a(_%`a(p%`a!Z%`a![%`a~Ol%`a!O%`a'w%`a(x%`a~P&HgO(x%POP%baR%ba[%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba#}%ba(_%ba(p%ba!Z%ba![%ba~Ol%ba!O%ba'w%ba(w%ba~P&JnOl=}O!O)|O'w)}O(x%PO~P&HgOl=}O!O)|O'w)}O(w$}O~P&JnOR0cO!O0cO!Q0dO#Q$dOP{a[{al{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a#}{a'w{a(_{a(p{a(w{a(x{a!Z{a![{a~O!O)|O'w)}OP$raR$ra[$ral$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra#}$ra(_$ra(p$ra(w$ra(x$ra!Z$ra![$ra~O!O)|O'w)}OP$taR$ta[$tal$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta#}$ta(_$ta(p$ta(w$ta(x$ta!Z$ta![$ta~Ol=}O!O)|O'w)}O(w$}O(x%PO~OP%SaR%Sa[%Sap%Sa!Q%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa#}%Sa(_%Sa(p%Sa!Z%Sa![%Sa~P'%sO#}$lq!Z$lq![$lq~P#BPO#}$nq!Z$nq![$nq~P#BPO![9dO~O#}9eO~P!0uO!e#vO!Z'ci!i'ci~O!e#vO(p'nO!Z'ci!i'ci~O!Z/kO!i(|q~O!W'ei!Z'ei~P#.{O!Z/sO!W(}q~Op9lO!e#vO(p'nO~O[9nO!W9mO~P#.{O!W9mO~O!e#vO#t9tO~Og(]y!Z(]y~P!0uO!Z'la!]'la~P#.{Oa%Zq!]%Zq'x%Zq!Z%Zq~P#.{O[9yO~O!Z0}O![)Vq~O#^9}O!Z'na!['na~O!Z5kO![)Si~P#BPO!Q:PO~O!]1gO%h:SO~O(TTO(WUO(c:XO~O!Z1rO![)Tq~O!i:[O~O!i:]O~O!i:^O~O!i:^O~P%[O#^:aO!Z#fy![#fy~O!Z#fy![#fy~P#BPO%h:fO~P&7SO!]'^O%h:fO~O#}#{y!Z#{y![#{y~P#BPOP${iR${i[${ip${i!Q${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i#}${i(_${i(p${i!Z${i![${i~P'%sO!O)|O'w)}O(x%POP'gaR'ga['gal'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga#}'ga(_'ga(p'ga(w'ga!Z'ga!['ga~O!O)|O'w)}OP'iaR'ia['ial'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia#}'ia(_'ia(p'ia(w'ia(x'ia!Z'ia!['ia~O(w$}OP%`iR%`i[%`il%`ip%`i!O%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i#}%`i'w%`i(_%`i(p%`i(x%`i!Z%`i![%`i~O(x%POP%biR%bi[%bil%bip%bi!O%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi#}%bi'w%bi(_%bi(p%bi(w%bi!Z%bi![%bi~O#}$ny!Z$ny![$ny~P#BPO#}#ay!Z#ay![#ay~P#BPO!e#vO!Z'cq!i'cq~O!Z/kO!i(|y~O!W'eq!Z'eq~P#.{Op:pO!e#vO(p'nO~O[:tO!W:sO~P#.{O!W:sO~Og(]!R!Z(]!R~P!0uOa%Zy!]%Zy'x%Zy!Z%Zy~P#.{O!Z0}O![)Vy~O!Z5kO![)Sq~O(R:zO~O!]1gO%h:}O~O!i;QO~O%h;VO~P&7SOP${qR${q[${qp${q!Q${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q#}${q(_${q(p${q!Z${q![${q~P'%sO!O)|O'w)}O(x%POP'haR'ha['hal'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha#}'ha(_'ha(p'ha(w'ha!Z'ha!['ha~O!O)|O'w)}OP'jaR'ja['jal'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja#}'ja(_'ja(p'ja(w'ja(x'ja!Z'ja!['ja~OP$}qR$}q[$}qp$}q!Q$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q#}$}q(_$}q(p$}q!Z$}q![$}q~P'%sOg%d!Z!Z%d!Z#^%d!Z#}%d!Z~P!0uO!W;ZO~P#.{Op;[O!e#vO(p'nO~O[;^O!W;ZO~P#.{O!Z'nq!['nq~P#BPO!Z#f!Z![#f!Z~P#BPO#i%d!ZP%d!ZR%d!Z[%d!Za%d!Zp%d!Z!Q%d!Z!Z%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z'x%d!Z(_%d!Z(p%d!Z!i%d!Z!W%d!Z'u%d!Z#^%d!Zt%d!Z!]%d!Z%h%d!Z!e%d!Z~P#.{Op;fO!e#vO(p'nO~O!W;gO~P#.{Op;nO!e#vO(p'nO~O!W;oO~P#.{OP%d!ZR%d!Z[%d!Zp%d!Z!Q%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z#}%d!Z(_%d!Z(p%d!Z!Z%d!Z![%d!Z~P'%sOp;rO!e#vO(p'nO~Ot(dX~P1qO!O%qO~P!(yO(S!lO~P!(yO!WfX!ZfX#^fX~P%0XOP]XR]X[]Xp]X!O]X!Q]X!Z]X!ZfX!j]X!n]X#P]X#Q]X#^]X#^fX#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!efX!i]X!ifX(pfX~P'JlOP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]XO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z<ZO![$pa~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<fO!Q${O!]$|O!g=wO!j$xO#h<lO$V%_O$s<hO$u<jO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Oj)bO~P( bOp!cX(p!cX~P# qOp(hX(p(hX~P#!dO![]X![fX~P'JlO!WfX!W$yX!ZfX!Z$yX#^fX~P!/qO#i<OO~O!e#vO#i<OO~O#^<`O~O#t<SO~O#^<pO!Z(uX![(uX~O#^<`O!Z(sX![(sX~O#i<qO~Og<sO~P!0uO#i<yO~O#i<zO~O!e#vO#i<{O~O!e#vO#i<qO~O#}<|O~P#BPO#i<}O~O#i=OO~O#i=TO~O#i=UO~O#i=VO~O#i=WO~O#}=XO~P!0uO#}=YO~P!0uO#Q#R#S#U#V#Y#g#h#s$m$s$u$x%[%]%g%h%i%p%r%u%v%x%z~'|T#m!V'z(S#nq#l#op!O'{$['{(R$^(c~",goto:"$8f)ZPPPPPP)[PP)_P)pP+Q/VPPPP6aPP6wPP<oP@cP@yP@yPPP@yPCRP@yP@yP@yPCVPC[PCyPHsPPPHwPPPPHwKzPPPLQLrPHwPHwPP! QHwPPPHwPHwP!#XHwP!&o!'t!'}P!(q!(u!(q!,SPPPPPPP!,s!'tPP!-T!.uP!2RHwHw!2W!5d!:Q!:Q!>PPPP!>XHwPPPPPPPPPP!AhP!BuPPHw!DWPHwPHwHwHwHwHwPHw!EjP!HtP!KzP!LO!LY!L^!L^P!HqP!Lb!LbP# hP# lHwPHw# r#$wCV@yP@yP@y@yP#&U@y@y#(h@y#+`@y#-l@y@y#.[#0p#0p#0u#1O#0p#1ZPP#0pP@y#1s@y#5r@y@y6aPPP#9wPPP#:b#:bP#:bP#:x#:bPP#;OP#:uP#:u#;c#:u#;}#<T#<W)_#<Z)_P#<b#<b#<bP)_P)_P)_P)_PP)_P#<h#<kP#<k)_P#<oP#<rP)_P)_P)_P)_P)_P)_)_PP#<x#=O#=Z#=a#=g#=m#=s#>R#>X#>c#>i#>s#>y#?Z#?a#@R#@e#@k#@q#AP#Af#CZ#Ci#Cp#E[#Ej#G[#Gj#Gp#Gv#G|#HW#H^#Hd#Hn#IQ#IWPPPPPPPPPPP#I^PPPPPPP#JR#MY#Nr#Ny$ RPPP$&mP$&v$)o$0Y$0]$0`$1_$1b$1i$1qP$1w$1zP$2h$2l$3d$4r$4w$5_PP$5d$5j$5n$5q$5u$5y$6u$7^$7u$7y$7|$8P$8V$8Y$8^$8bR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0u+fQ1S+rQ1y,fQ3W.bQ5V0wQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:378,context:LZ,nodeProps:[["isolate",-8,5,6,14,35,37,49,51,53,""],["group",-26,9,17,19,66,206,210,214,215,217,220,223,233,235,241,243,245,247,250,256,262,264,266,268,270,272,273,"Statement",-34,13,14,30,33,34,40,49,52,53,55,60,68,70,74,78,80,82,83,108,109,118,119,135,138,140,141,142,143,144,146,147,166,168,170,"Expression",-23,29,31,35,39,41,43,172,174,176,177,179,180,181,183,184,185,187,188,189,200,202,204,205,"Type",-3,86,101,107,"ClassItem"],["openedBy",23,"<",36,"InterpolationStart",54,"[",58,"{",71,"(",159,"JSXStartCloseTag"],["closedBy",-2,24,167,">",38,"InterpolationEnd",48,"]",59,"}",72,")",164,"JSXEndTag"]],propSources:[zZ],skippedNodes:[0,5,6,276],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Up(X!b'z0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(V#S$h&j'{0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Up(X!b'{0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!n),Q(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(T':f$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(X!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Up(X!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Up(X!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(X!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(X!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(UpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(UpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Up(X!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(m%1l(Up(X!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Up(X!b$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Up(X!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Up(X!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(x+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(W';W$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(UpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!j/.^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!i!Lf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Up(X!b(S%&f#o(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Up(X!b#l(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Up(X!bp+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Z+Jf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Up(X!b!O.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!Y!L^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Up(X!b#m(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(X!b!V7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!V7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!V7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!V7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!V7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(X!b!V7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(X!b!V7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(X!b!V7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(X!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(X!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Up!V7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Up!V7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Up!V7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Up!V7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(UpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(UpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Up(X!b!V7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Up(X!b!V7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Up(X!b!V7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Up(X!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Up(X!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Up(X!b'|0/l!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Up(X!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(X!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(X!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(UpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(UpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Up(X!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!e$b$h&j#})Lv(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#P-<U(Up(X!b$m7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#p(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#q(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#^*!Y$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#i(Cl$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#q(Ch$e#|$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#q(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(p(Ct$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!z$Ip$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!Q0,v$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!W#)l$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Up(X!b(_+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Up(X!b(R,2j$^#t(c$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Up(X!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!]#Hb(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(w+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_![(CdtBr$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!o7`$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Up(X!b'z0/l$[#t(R,2j(c$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Up(X!b'{0/l$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[NZ,UZ,XZ,VZ,2,3,4,5,6,7,8,9,10,11,12,13,14,qZ,new vp("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOv~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!S~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(a~~",141,338),new vp("j~RQYZXz{^~^O(O~~aP!P!Qd~iO(P~~",25,321)],topRules:{Script:[0,7],SingleExpression:[1,274],SingleClassItem:[2,275]},dialects:{jsx:0,ts:15091},dynamicPrecedences:{78:1,80:1,92:1,168:1,198:1},specialized:[{term:325,get:n=>WZ[n]||-1},{term:341,get:n=>YZ[n]||-1},{term:93,get:n=>GZ[n]||-1}],tokenPrec:15116}),kw=[zn("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),zn("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),zn("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),zn("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),zn("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),zn(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),zn("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),zn(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),zn(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),zn('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),zn('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],HZ=kw.concat([zn("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),zn("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),zn("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),H0=new d3,$w=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Ya(n){return(e,t)=>{let i=e.node.getChild("VariableDefinition");return i&&t(i,n),!0}}const KZ=["FunctionDeclaration"],JZ={FunctionDeclaration:Ya("function"),ClassDeclaration:Ya("class"),ClassExpression:()=>!0,EnumDeclaration:Ya("constant"),TypeAliasDeclaration:Ya("type"),NamespaceDeclaration:Ya("namespace"),VariableDefinition(n,e){n.matchContext(KZ)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function Qw(n,e){let t=H0.get(e);if(t)return t;let i=[],r=!0;function s(o,a){let l=n.sliceString(o.from,o.to);i.push({label:l,type:a})}return e.cursor(fn.IncludeAnonymous).iterate(o=>{if(r)r=!1;else if(o.name){let a=JZ[o.name];if(a&&a(o,s)||$w.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of Qw(n,o.node))i.push(a);return!1}}),H0.set(e,i),i}const K0=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,Pw=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function e8(n){let e=un(n.state).resolveInner(n.pos,-1);if(Pw.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&K0.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let i=[];for(let r=e;r;r=r.parent)$w.has(r.name)&&(i=i.concat(Qw(n.state.doc,r)));return{options:i,from:t?e.from:n.pos,validFor:K0}}const ro=Gh.define({name:"javascript",parser:FZ.configure({props:[rx.add({IfStatement:Ru({except:/^\s*({|else\b)/}),TryStatement:Ru({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:Z3,SwitchBody:n=>{let e=n.textAfter,t=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return n.baseIndent+(t?0:i?1:2)*n.unit},Block:M3({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":Ru({except:/^{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),ax.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":B3,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),_w={test:n=>/^JSX/.test(n.name),facet:nx({commentTokens:{block:{open:"{/*",close:"*/}"}}})},t8=ro.configure({dialect:"ts"},"typescript"),n8=ro.configure({dialect:"jsx",props:[Ig.add(n=>n.isTop?[_w]:void 0)]}),i8=ro.configure({dialect:"jsx ts",props:[Ig.add(n=>n.isTop?[_w]:void 0)]},"typescript");let Aw=n=>({label:n,type:"keyword"});const Ew="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(Aw),r8=Ew.concat(["declare","implements","private","protected","public"].map(Aw));function s8(n={}){let e=n.jsx?n.typescript?i8:n8:n.typescript?t8:ro,t=n.typescript?HZ.concat(r8):kw.concat(Ew);return new $3(e,[ro.data.of({autocomplete:tM(Pw,aw(t))}),ro.data.of({autocomplete:e8}),n.jsx?l8:[]])}function o8(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function J0(n,e,t=n.length){for(let i=e==null?void 0:e.firstChild;i;i=i.nextSibling)if(i.name=="JSXIdentifier"||i.name=="JSXBuiltin"||i.name=="JSXNamespacedName"||i.name=="JSXMemberExpression")return n.sliceString(i.from,Math.min(i.to,t));return""}const a8=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),l8=de.inputHandler.of((n,e,t,i,r)=>{if((a8?n.composing:n.compositionStarted)||n.state.readOnly||e!=t||i!=">"&&i!="/"||!ro.isActiveAt(n.state,e,-1))return!1;let s=r(),{state:o}=s,a=o.changeByRange(l=>{var c;let{head:h}=l,f=un(o).resolveInner(h-1,-1),u;if(f.name=="JSXStartTag"&&(f=f.parent),!(o.doc.sliceString(h-1,h)!=i||f.name=="JSXAttributeValue"&&f.to>h)){if(i==">"&&f.name=="JSXFragmentTag")return{range:l,changes:{from:h,insert:"</>"}};if(i=="/"&&f.name=="JSXStartCloseTag"){let d=f.parent,g=d.parent;if(g&&d.from==h-2&&((u=J0(o.doc,g.firstChild,h))||((c=g.firstChild)===null||c===void 0?void 0:c.name)=="JSXFragmentTag")){let m=`${u}>`;return{range:Y.cursor(h+m.length,-1),changes:{from:h,insert:m}}}}else if(i==">"){let d=o8(f);if(d&&d.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(h,h+2))&&(u=J0(o.doc,d,h)))return{range:l,changes:{from:h,insert:`</${u}>`}}}}return{range:l}});return a.changes.empty?!1:(n.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});var c8=pe('<main><h3>Programmable Transaction Block</h3> <div><div class="codemirror-wrapper svelte-r7jbit"></div></div> <button class="svelte-r7jbit">dev inspect</button> <button class="svelte-r7jbit">dry run</button> <button class="svelte-r7jbit">execute</button> <div class="value svelte-r7jbit"><button class="svelte-r7jbit">toggle JSON tree</button> <div><!></div> <pre class="svelte-r7jbit"> </pre></div></main>');function h8(n,e){yt(e,!1);const[t,i]=Qi(),r=()=>qt(Ki,"$activeAddress",t),s=()=>qt(ji,"$iota_wallets",t),o=()=>qt(Lr,"$iota_accounts",t);let a=re(),l;const c=nc.define([]);let h=de.theme({},{dark:!0});function f(){return new de({doc:b,extensions:[hZ,s8(),h,Ox(c)],parent:x(a)})}jp(()=>{l=f()});let u=re({});async function d(){let B=await $();console.log("devInspect",B);const W=await(await ci()).devInspectTransactionBlock({sender:r()||"0x0000000000000000000000000000000000000000000000000000000000000000",transactionBlock:B});console.log(W),N(u,W)}async function g(){let B=await $();console.log("dryRun",B);let V=await ci();B.setSender(r()||"0x0000000000000000000000000000000000000000000000000000000000000000");const W=await B.build({client:V}),se=await V.dryRunTransactionBlock({transactionBlock:W});console.log(se),N(u,se)}async function m(){try{let B=await $();console.log("execute",B);let V=await s()[0].signAndExecuteTransaction({transaction:B,options:{showEffects:!0,showObjectChanges:!0,showBalanceChanges:!0},account:o().filter(se=>se.address==r())[0]});console.log(V),N(u,V),(await ci()).waitForTransaction({digest:V.digest}).then(()=>{console.log("tx block available via api")})}catch(B){N(u,B.toString()),console.error(B)}}let O=re(!0),b=`let tx = new Transaction();
// Build you tx here...

// const transfers = [
//     { address: '0x9938c94f4118153bbed08f14ae74e2557172542f59bf0b7a306e99d5a0b0896e', amount: 1_000_000 },
//     { address: '0x9938c94f4118153bbed08f14ae74e2557172542f59bf0b7a306e99d5a0b0896e', amount: 1_000_000 }];
// // first, split the gas coin into multiple coins
// const coins = tx.splitCoins(
//     tx.gas,
//     transfers.map((transfer) => transfer.amount),
// );
// // next, create a transfer transaction for each coin
// transfers.forEach((transfer, index) => {
//     tx.transferObjects([coins[index]], transfer.address);
// })

// Client is also in scope
// const senderCoins = await client.getCoins({ owner: "0xee68634fb93502ec391e78ccc94568e9e179ef8ec37fe12daaac4d2c2af32d5c", limit: 10 });
// console.log(senderCoins) // visible in the browser console
`;async function $(){try{b=l.state.doc.toString();const B=await ci(),V={Transaction:lo,client:B};return new Function("scope",`with(scope) {
                return (async function() {
                    try {
                        ${b}
                        return tx
                    } catch (error) {
                        alert('Error in code: ' + error.message);
                    }
                })()
                }`)(V)}catch(B){alert("Error in code: "+B.message)}}kt();var Q=c8(),P=z(J(Q),2),k=J(P);jy(k,B=>N(a,B),()=>x(a));var A=z(P,2),E=z(A,2),M=z(E,2),C=z(M,2),j=J(C),q=z(j,2),D=J(q);vo(D,{get value(){return x(u)}});var G=z(q,2),I=J(G);Te((B,V)=>{C.hidden=B,q.hidden=!x(O),G.hidden=x(O),je(I,V)},[()=>Object.keys(x(u)).length==0,()=>JSON.stringify(x(u),null,2)],le),Xe("click",A,d),Xe("click",E,g),Xe("click",M,m),Xe("click",j,()=>N(O,!x(O))),ie(n,Q),bt(),i()}var f8=pe('<!> <!> <!> <!> <a href="https://github.com/Thoralf-M/iota-utils" target="_blank" rel="noopener noreferrer">https://github.com/Thoralf-M/iota-utils</a>',1);function u8(n,e){yt(e,!1);let t=[{label:"Ed25519 address generation",component:a$},{label:"Converter",component:c$},{label:"Faucet",component:KP},{label:"Iota System State",component:h_},{label:"Publish Data",component:u_},{label:"PTB",component:h8},{label:"Split Merge Coins",component:p_},{label:"Stake",component:E5},{label:"Iotans",component:cA}].map((l,c)=>(l.value=c,l));kt();var i=f8(),r=Qt(i);_5(r,{});var s=z(r,2);r_(s,{});var o=z(s,2);t1(o,{});var a=z(o,2);l_(a,{items:t}),ie(n,i),bt()}const d8=document.getElementById("app");BS(u8,{target:d8});
